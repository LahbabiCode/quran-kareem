@if (reciter(); as rec) {
  <div class="space-y-6">
    <div class="p-6 bg-teal-900/20 border border-teal-800/50 rounded-xl text-center">
      <h1 class="text-3xl font-bold text-teal-400">{{ rec.name }}</h1>
      <p class="text-slate-400 mt-1">{{ rec.rewaya }}</p>
    </div>

    <h2 class="text-2xl font-semibold text-slate-200">{{ t('All Surahs by')() }} {{ rec.name }}</h2>

    @if (!allSurahs().length) {
      <div class="flex justify-center items-center py-20">
        <app-loading-spinner></app-loading-spinner>
      </div>
    } @else {
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
        @for(surah of allSurahs(); track surah.id) {
          @let surahUrl = getSurahUrl(rec, surah.id);
          @let isPlayingSurah = currentTrack()?.url === surahUrl && isPlaying();
          <div 
            class="flex items-center justify-between p-4 bg-slate-800/50 border border-slate-700 rounded-lg shadow-sm transition-all duration-300 border-l-4"
            [class.bg-teal-900/40]="isPlayingSurah"
            [class.border-teal-500]="isPlayingSurah"
            [class.border-slate-700]="!isPlayingSurah">
            <div class="flex items-center space-x-4 rtl:space-x-reverse min-w-0">
              <span class="flex items-center justify-center w-10 h-10 bg-slate-700 rounded-md text-teal-400 font-semibold flex-shrink-0">{{ surah.id }}</span>
              <div class="min-w-0">
                <h3 class="text-lg font-semibold text-slate-100 truncate">{{ surah.name }}</h3>
                <p class="text-sm text-slate-400 truncate">{{ surah.englishName }}</p>
              </div>
              @if(isPlayingSurah) {
                <app-sound-wave-icon class="text-teal-400 ml-3 rtl:ml-0 rtl:mr-3"></app-sound-wave-icon>
              }
            </div>
            @if(surahUrl) {
              <button 
                (click)="isPlayingSurah ? pause() : playSurah(surah)" 
                [title]="t('Listen')()"
                class="flex-shrink-0 w-10 h-10 rounded-full text-teal-400 hover:bg-slate-700 flex items-center justify-center transition-colors"
              >
                @if(isPlayingSurah) {
                  <app-pause-icon></app-pause-icon>
                } @else {
                  <app-play-circle-icon></app-play-circle-icon>
                }
              </button>
            } @else {
                <span class="text-xs text-slate-500 px-2">{{ t('Not available')() }}</span>
            }
          </div>
        }
      </div>
    }
  </div>
} @else {
  <div class="flex justify-center items-center py-20">
    <app-loading-spinner></app-loading-spinner>
  </div>
}