var $_=Object.defineProperty,q_=Object.defineProperties;var G_=Object.getOwnPropertyDescriptors;var lg=Object.getOwnPropertySymbols;var z_=Object.prototype.hasOwnProperty,W_=Object.prototype.propertyIsEnumerable;var ug=(t,e,n)=>e in t?$_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,N=(t,e)=>{for(var n in e||={})z_.call(e,n)&&ug(t,n,e[n]);if(lg)for(var n of lg(e))W_.call(e,n)&&ug(t,n,e[n]);return t},de=(t,e)=>q_(t,G_(e));var bd;function Ua(){return bd}function ln(t){let e=bd;return bd=t,e}var cg=Symbol("NotFound");function or(t){return t===cg||t?.name==="\u0275NotFound"}function Ga(t,e){return Object.is(t,e)}var lt=null,Ba=!1,Md=1,j_=null,ft=Symbol("SIGNAL");function ee(t){let e=lt;return lt=t,e}function za(){return lt}var so={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function rr(t){if(Ba)throw new Error("");if(lt===null)return;lt.consumerOnSignalRead(t);let e=lt.producersTail;if(e!==void 0&&e.producer===t)return;let n,o=lt.recomputing;if(o&&(n=e!==void 0?e.nextProducer:lt.producers,n!==void 0&&n.producer===t)){lt.producersTail=n,n.lastReadVersion=t.version;return}let r=t.consumersTail;if(r!==void 0&&r.consumer===lt&&(!o||Y_(r,lt)))return;let i=ar(lt),a={producer:t,consumer:lt,nextProducer:n,prevConsumer:r,lastReadVersion:t.version,nextConsumer:void 0};lt.producersTail=a,e!==void 0?e.nextProducer=a:lt.producers=a,i&&hg(t,a)}function dg(){Md++}function Wa(t){if(!(ar(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Md)){if(!t.producerMustRecompute(t)&&!sr(t)){qa(t);return}t.producerRecomputeValue(t),qa(t)}}function Ad(t){if(t.consumers===void 0)return;let e=Ba;Ba=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let o=n.consumer;o.dirty||J_(o)}}finally{Ba=e}}function Rd(){return lt?.consumerAllowSignalWrites!==!1}function J_(t){t.dirty=!0,Ad(t),t.consumerMarkedDirty?.(t)}function qa(t){t.dirty=!1,t.lastCleanEpoch=Md}function ao(t){return t&&fg(t),ee(t)}function fg(t){t.producersTail=void 0,t.recomputing=!0}function ir(t,e){ee(e),t&&pg(t)}function pg(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(ar(t))do n=Nd(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function sr(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,o=e.lastReadVersion;if(o!==n.version||(Wa(n),o!==n.version))return!0}return!1}function lo(t){if(ar(t)){let e=t.producers;for(;e!==void 0;)e=Nd(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function hg(t,e){let n=t.consumersTail,o=ar(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!o)for(let r=t.producers;r!==void 0;r=r.nextProducer)hg(r.producer,r)}function Nd(t){let e=t.producer,n=t.nextProducer,o=t.nextConsumer,r=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,o!==void 0?o.prevConsumer=r:e.consumersTail=r,r!==void 0)r.nextConsumer=o;else if(e.consumers=o,!ar(e)){let i=e.producers;for(;i!==void 0;)i=Nd(i)}return n}function ar(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function ja(t){j_?.(t)}function Y_(t,e){let n=e.producersTail;if(n!==void 0){let o=e.producers;do{if(o===t)return!0;if(o===n)break;o=o.nextProducer}while(o!==void 0)}return!1}function Ja(t,e){let n=Object.create(K_);n.computation=t,e!==void 0&&(n.equal=e);let o=()=>{if(Wa(n),rr(n),n.value===fs)throw n.error;return n.value};return o[ft]=n,ja(n),o}var Ha=Symbol("UNSET"),$a=Symbol("COMPUTING"),fs=Symbol("ERRORED"),K_=de(N({},so),{value:Ha,dirty:!0,error:null,equal:Ga,kind:"computed",producerMustRecompute(t){return t.value===Ha||t.value===$a},producerRecomputeValue(t){if(t.value===$a)throw new Error("");let e=t.value;t.value=$a;let n=ao(t),o,r=!1;try{o=t.computation(),ee(null),r=e!==Ha&&e!==fs&&o!==fs&&t.equal(e,o)}catch(i){o=fs,t.error=i}finally{ir(t,n)}if(r){t.value=e;return}t.value=o,t.version++}});function Q_(){throw new Error}var mg=Q_;function gg(t){mg(t)}function kd(t){mg=t}var Z_=null;function Pd(t,e){let n=Object.create(Ya);n.value=t,e!==void 0&&(n.equal=e);let o=()=>vg(n);return o[ft]=n,ja(n),[o,a=>lr(n,a),a=>Fd(n,a)]}function vg(t){return rr(t),t.value}function lr(t,e){Rd()||gg(t),t.equal(t.value,e)||(t.value=e,X_(t))}function Fd(t,e){Rd()||gg(t),lr(t,e(t.value))}var Ya=de(N({},so),{equal:Ga,value:void 0,kind:"signal"});function X_(t){t.version++,dg(),Ad(t),Z_?.(t)}function se(t){return typeof t=="function"}function ur(t){let n=t(o=>{Error.call(o),o.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ka=ur(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((o,r)=>`${r+1}) ${o.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ps(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ge=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:o}=this;if(se(o))try{o()}catch(i){e=i instanceof Ka?i.errors:[i]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let i of r)try{yg(i)}catch(a){e=e??[],a instanceof Ka?e=[...e,...a.errors]:e.push(a)}}if(e)throw new Ka(e)}}add(e){var n;if(e&&e!==this)if(this.closed)yg(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ps(n,e)}remove(e){let{_finalizers:n}=this;n&&ps(n,e),e instanceof t&&e._removeParent(this)}};Ge.EMPTY=(()=>{let t=new Ge;return t.closed=!0,t})();var Ld=Ge.EMPTY;function Qa(t){return t instanceof Ge||t&&"closed"in t&&se(t.remove)&&se(t.add)&&se(t.unsubscribe)}function yg(t){se(t)?t():t.unsubscribe()}var zt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var cr={setTimeout(t,e,...n){let{delegate:o}=cr;return o?.setTimeout?o.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=cr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Za(t){cr.setTimeout(()=>{let{onUnhandledError:e}=zt;if(e)e(t);else throw t})}function hs(){}var Cg=Od("C",void 0,void 0);function Eg(t){return Od("E",void 0,t)}function _g(t){return Od("N",t,void 0)}function Od(t,e,n){return{kind:t,value:e,error:n}}var uo=null;function dr(t){if(zt.useDeprecatedSynchronousErrorHandling){let e=!uo;if(e&&(uo={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:o}=uo;if(uo=null,n)throw o}}else t()}function Tg(t){zt.useDeprecatedSynchronousErrorHandling&&uo&&(uo.errorThrown=!0,uo.error=t)}var co=class extends Ge{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Qa(e)&&e.add(this)):this.destination=nT}static create(e,n,o){return new fr(e,n,o)}next(e){this.isStopped?Ud(_g(e),this):this._next(e)}error(e){this.isStopped?Ud(Eg(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ud(Cg,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},eT=Function.prototype.bind;function Vd(t,e){return eT.call(t,e)}var Bd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(o){Xa(o)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(o){Xa(o)}else Xa(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Xa(n)}}},fr=class extends co{constructor(e,n,o){super();let r;if(se(e)||!e)r={next:e??void 0,error:n??void 0,complete:o??void 0};else{let i;this&&zt.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Vd(e.next,i),error:e.error&&Vd(e.error,i),complete:e.complete&&Vd(e.complete,i)}):r=e}this.destination=new Bd(r)}};function Xa(t){zt.useDeprecatedSynchronousErrorHandling?Tg(t):Za(t)}function tT(t){throw t}function Ud(t,e){let{onStoppedNotification:n}=zt;n&&cr.setTimeout(()=>n(t,e))}var nT={closed:!0,next:hs,error:tT,complete:hs};var pr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Dt(t){return t}function Hd(...t){return $d(t)}function $d(t){return t.length===0?Dt:t.length===1?t[0]:function(n){return t.reduce((o,r)=>r(o),n)}}var pe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let o=new t;return o.source=this,o.operator=n,o}subscribe(n,o,r){let i=rT(n)?n:new fr(n,o,r);return dr(()=>{let{operator:a,source:u}=this;i.add(a?a.call(i,u):u?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(o){n.error(o)}}forEach(n,o){return o=Sg(o),new o((r,i)=>{let a=new fr({next:u=>{try{n(u)}catch(c){i(c),a.unsubscribe()}},error:i,complete:r});this.subscribe(a)})}_subscribe(n){var o;return(o=this.source)===null||o===void 0?void 0:o.subscribe(n)}[pr](){return this}pipe(...n){return $d(n)(this)}toPromise(n){return n=Sg(n),new n((o,r)=>{let i;this.subscribe(a=>i=a,a=>r(a),()=>o(i))})}}return t.create=e=>new t(e),t})();function Sg(t){var e;return(e=t??zt.Promise)!==null&&e!==void 0?e:Promise}function oT(t){return t&&se(t.next)&&se(t.error)&&se(t.complete)}function rT(t){return t&&t instanceof co||oT(t)&&Qa(t)}function qd(t){return se(t?.lift)}function ge(t){return e=>{if(qd(e))return e.lift(function(n){try{return t(n,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function he(t,e,n,o,r){return new Gd(t,e,n,o,r)}var Gd=class extends co{constructor(e,n,o,r,i,a){super(e),this.onFinalize=i,this.shouldUnsubscribe=a,this._next=n?function(u){try{n(u)}catch(c){e.error(c)}}:super._next,this._error=r?function(u){try{r(u)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=o?function(){try{o()}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function hr(){return ge((t,e)=>{let n=null;t._refCount++;let o=he(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,i=n;n=null,r&&(!i||r===i)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(o),o.closed||(n=t.connect())})}var mr=class extends pe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,qd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ge;let n=this.getSubject();e.add(this.source.subscribe(he(n,void 0,()=>{this._teardown(),n.complete()},o=>{this._teardown(),n.error(o)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ge.EMPTY)}return e}refCount(){return hr()(this)}};var Ig=ur(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Be=(()=>{class t extends pe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let o=new el(this,this);return o.operator=n,o}_throwIfClosed(){if(this.closed)throw new Ig}next(n){dr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let o of this.currentObservers)o.next(n)}})}error(n){dr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:o}=this;for(;o.length;)o.shift().error(n)}})}complete(){dr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:o,isStopped:r,observers:i}=this;return o||r?Ld:(this.currentObservers=null,i.push(n),new Ge(()=>{this.currentObservers=null,ps(i,n)}))}_checkFinalizedStatuses(n){let{hasError:o,thrownError:r,isStopped:i}=this;o?n.error(r):i&&n.complete()}asObservable(){let n=new pe;return n.source=this,n}}return t.create=(e,n)=>new el(e,n),t})(),el=class extends Be{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.next)===null||o===void 0||o.call(n,e)}error(e){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.error)===null||o===void 0||o.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,o;return(o=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&o!==void 0?o:Ld}};var nt=class extends Be{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:o}=this;if(e)throw n;return this._throwIfClosed(),o}next(e){super.next(this._value=e)}};var zd={now(){return(zd.delegate||Date).now()},delegate:void 0};var ms=class extends Be{constructor(e=1/0,n=1/0,o=zd){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:o,_infiniteTimeWindow:r,_timestampProvider:i,_windowTime:a}=this;n||(o.push(e),!r&&o.push(i.now()+a)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:o,_buffer:r}=this,i=r.slice();for(let a=0;a<i.length&&!e.closed;a+=o?1:2)e.next(i[a]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:o,_infiniteTimeWindow:r}=this,i=(r?1:2)*e;if(e<1/0&&i<o.length&&o.splice(0,o.length-i),!r){let a=n.now(),u=0;for(let c=1;c<o.length&&o[c]<=a;c+=2)u=c;u&&o.splice(0,u+1)}}};var gt=new pe(t=>t.complete());function Dg(t){return t&&se(t.schedule)}function wg(t){return t[t.length-1]}function tl(t){return se(wg(t))?t.pop():void 0}function $n(t){return Dg(wg(t))?t.pop():void 0}function bg(t,e,n,o){function r(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function u(f){try{d(o.next(f))}catch(p){a(p)}}function c(f){try{d(o.throw(f))}catch(p){a(p)}}function d(f){f.done?i(f.value):r(f.value).then(u,c)}d((o=o.apply(t,e||[])).next())})}function xg(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fo(t){return this instanceof fo?(this.v=t,this):new fo(t)}function Mg(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,e||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",a),r[Symbol.asyncIterator]=function(){return this},r;function a(m){return function(E){return Promise.resolve(E).then(m,p)}}function u(m,E){o[m]&&(r[m]=function(T){return new Promise(function(D,w){i.push([m,T,D,w])>1||c(m,T)})},E&&(r[m]=E(r[m])))}function c(m,E){try{d(o[m](E))}catch(T){h(i[0][3],T)}}function d(m){m.value instanceof fo?Promise.resolve(m.value.v).then(f,p):h(i[0][2],m)}function f(m){c("next",m)}function p(m){c("throw",m)}function h(m,E){m(E),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Ag(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof xg=="function"?xg(t):t[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(i){n[i]=t[i]&&function(a){return new Promise(function(u,c){a=t[i](a),r(u,c,a.done,a.value)})}}function r(i,a,u,c){Promise.resolve(c).then(function(d){i({value:d,done:u})},a)}}var nl=t=>t&&typeof t.length=="number"&&typeof t!="function";function ol(t){return se(t?.then)}function rl(t){return se(t[pr])}function il(t){return Symbol.asyncIterator&&se(t?.[Symbol.asyncIterator])}function sl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function iT(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var al=iT();function ll(t){return se(t?.[al])}function ul(t){return Mg(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:o,done:r}=yield fo(n.read());if(r)return yield fo(void 0);yield yield fo(o)}}finally{n.releaseLock()}})}function cl(t){return se(t?.getReader)}function ze(t){if(t instanceof pe)return t;if(t!=null){if(rl(t))return sT(t);if(nl(t))return aT(t);if(ol(t))return lT(t);if(il(t))return Rg(t);if(ll(t))return uT(t);if(cl(t))return cT(t)}throw sl(t)}function sT(t){return new pe(e=>{let n=t[pr]();if(se(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function aT(t){return new pe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function lT(t){return new pe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Za)})}function uT(t){return new pe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Rg(t){return new pe(e=>{dT(t,e).catch(n=>e.error(n))})}function cT(t){return Rg(ul(t))}function dT(t,e){var n,o,r,i;return bg(this,void 0,void 0,function*(){try{for(n=Ag(t);o=yield n.next(),!o.done;){let a=o.value;if(e.next(a),e.closed)return}}catch(a){r={error:a}}finally{try{o&&!o.done&&(i=n.return)&&(yield i.call(n))}finally{if(r)throw r.error}}e.complete()})}function vt(t,e,n,o=0,r=!1){let i=e.schedule(function(){n(),r?t.add(this.schedule(null,o)):this.unsubscribe()},o);if(t.add(i),!r)return i}function dl(t,e=0){return ge((n,o)=>{n.subscribe(he(o,r=>vt(o,t,()=>o.next(r),e),()=>vt(o,t,()=>o.complete(),e),r=>vt(o,t,()=>o.error(r),e)))})}function fl(t,e=0){return ge((n,o)=>{o.add(t.schedule(()=>n.subscribe(o),e))})}function Ng(t,e){return ze(t).pipe(fl(e),dl(e))}function kg(t,e){return ze(t).pipe(fl(e),dl(e))}function Pg(t,e){return new pe(n=>{let o=0;return e.schedule(function(){o===t.length?n.complete():(n.next(t[o++]),n.closed||this.schedule())})})}function Fg(t,e){return new pe(n=>{let o;return vt(n,e,()=>{o=t[al](),vt(n,e,()=>{let r,i;try{({value:r,done:i}=o.next())}catch(a){n.error(a);return}i?n.complete():n.next(r)},0,!0)}),()=>se(o?.return)&&o.return()})}function pl(t,e){if(!t)throw new Error("Iterable cannot be null");return new pe(n=>{vt(n,e,()=>{let o=t[Symbol.asyncIterator]();vt(n,e,()=>{o.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function Lg(t,e){return pl(ul(t),e)}function Og(t,e){if(t!=null){if(rl(t))return Ng(t,e);if(nl(t))return Pg(t,e);if(ol(t))return kg(t,e);if(il(t))return pl(t,e);if(ll(t))return Fg(t,e);if(cl(t))return Lg(t,e)}throw sl(t)}function Fe(t,e){return e?Og(t,e):ze(t)}function V(...t){let e=$n(t);return Fe(t,e)}function gr(t,e){let n=se(t)?t:()=>t,o=r=>r.error(n());return new pe(e?r=>e.schedule(o,0,r):o)}function Wd(t){return!!t&&(t instanceof pe||se(t.lift)&&se(t.subscribe))}var In=ur(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function G(t,e){return ge((n,o)=>{let r=0;n.subscribe(he(o,i=>{o.next(t.call(e,i,r++))}))})}var{isArray:fT}=Array;function pT(t,e){return fT(e)?t(...e):t(e)}function hl(t){return G(e=>pT(t,e))}var{isArray:hT}=Array,{getPrototypeOf:mT,prototype:gT,keys:vT}=Object;function ml(t){if(t.length===1){let e=t[0];if(hT(e))return{args:e,keys:null};if(yT(e)){let n=vT(e);return{args:n.map(o=>e[o]),keys:n}}}return{args:t,keys:null}}function yT(t){return t&&typeof t=="object"&&mT(t)===gT}function gl(t,e){return t.reduce((n,o,r)=>(n[o]=e[r],n),{})}function yt(...t){let e=$n(t),n=tl(t),{args:o,keys:r}=ml(t);if(o.length===0)return Fe([],e);let i=new pe(CT(o,e,r?a=>gl(r,a):Dt));return n?i.pipe(hl(n)):i}function CT(t,e,n=Dt){return o=>{Vg(e,()=>{let{length:r}=t,i=new Array(r),a=r,u=r;for(let c=0;c<r;c++)Vg(e,()=>{let d=Fe(t[c],e),f=!1;d.subscribe(he(o,p=>{i[c]=p,f||(f=!0,u--),u||o.next(n(i.slice()))},()=>{--a||o.complete()}))},o)},o)}}function Vg(t,e,n){t?vt(n,t,e):e()}function Ug(t,e,n,o,r,i,a,u){let c=[],d=0,f=0,p=!1,h=()=>{p&&!c.length&&!d&&e.complete()},m=T=>d<o?E(T):c.push(T),E=T=>{i&&e.next(T),d++;let D=!1;ze(n(T,f++)).subscribe(he(e,w=>{r?.(w),i?m(w):e.next(w)},()=>{D=!0},void 0,()=>{if(D)try{for(d--;c.length&&d<o;){let w=c.shift();a?vt(e,a,()=>E(w)):E(w)}h()}catch(w){e.error(w)}}))};return t.subscribe(he(e,m,()=>{p=!0,h()})),()=>{u?.()}}function We(t,e,n=1/0){return se(e)?We((o,r)=>G((i,a)=>e(o,i,r,a))(ze(t(o,r))),n):(typeof e=="number"&&(n=e),ge((o,r)=>Ug(o,r,t,n)))}function vr(t=1/0){return We(Dt,t)}function Bg(){return vr(1)}function yr(...t){return Bg()(Fe(t,$n(t)))}function gs(t){return new pe(e=>{ze(t()).subscribe(e)})}function vs(...t){let e=tl(t),{args:n,keys:o}=ml(t),r=new pe(i=>{let{length:a}=n;if(!a){i.complete();return}let u=new Array(a),c=a,d=a;for(let f=0;f<a;f++){let p=!1;ze(n[f]).subscribe(he(i,h=>{p||(p=!0,d--),u[f]=h},()=>c--,void 0,()=>{(!c||!p)&&(d||i.next(o?gl(o,u):u),i.complete())}))}});return e?r.pipe(hl(e)):r}function He(t,e){return ge((n,o)=>{let r=0;n.subscribe(he(o,i=>t.call(e,i,r++)&&o.next(i)))})}function Ze(t){return ge((e,n)=>{let o=null,r=!1,i;o=e.subscribe(he(n,void 0,void 0,a=>{i=ze(t(a,Ze(t)(e))),o?(o.unsubscribe(),o=null,i.subscribe(n)):r=!0})),r&&(o.unsubscribe(),o=null,i.subscribe(n))})}function Hg(t,e,n,o,r){return(i,a)=>{let u=n,c=e,d=0;i.subscribe(he(a,f=>{let p=d++;c=u?t(c,f,p):(u=!0,f),o&&a.next(c)},r&&(()=>{u&&a.next(c),a.complete()})))}}function Dn(t,e){return se(e)?We(t,e,1):We(t,1)}function qn(t){return ge((e,n)=>{let o=!1;e.subscribe(he(n,r=>{o=!0,n.next(r)},()=>{o||n.next(t),n.complete()}))})}function wn(t){return t<=0?()=>gt:ge((e,n)=>{let o=0;e.subscribe(he(n,r=>{++o<=t&&(n.next(r),t<=o&&n.complete())}))})}function vl(t=ET){return ge((e,n)=>{let o=!1;e.subscribe(he(n,r=>{o=!0,n.next(r)},()=>o?n.complete():n.error(t())))})}function ET(){return new In}function Wt(t){return ge((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function xn(t,e){let n=arguments.length>=2;return o=>o.pipe(t?He((r,i)=>t(r,i,o)):Dt,wn(1),n?qn(e):vl(()=>new In))}function Cr(t){return t<=0?()=>gt:ge((e,n)=>{let o=[];e.subscribe(he(n,r=>{o.push(r),t<o.length&&o.shift()},()=>{for(let r of o)n.next(r);n.complete()},void 0,()=>{o=null}))})}function jd(t,e){let n=arguments.length>=2;return o=>o.pipe(t?He((r,i)=>t(r,i,o)):Dt,Cr(1),n?qn(e):vl(()=>new In))}function Jd(t,e){return ge(Hg(t,e,arguments.length>=2,!0))}function Yd(...t){let e=$n(t);return ge((n,o)=>{(e?yr(t,n,e):yr(t,n)).subscribe(o)})}function ce(t,e){return ge((n,o)=>{let r=null,i=0,a=!1,u=()=>a&&!r&&o.complete();n.subscribe(he(o,c=>{r?.unsubscribe();let d=0,f=i++;ze(t(c,f)).subscribe(r=he(o,p=>o.next(e?e(c,p,f,d++):p),()=>{r=null,u()}))},()=>{a=!0,u()}))})}function yl(t){return ge((e,n)=>{ze(t).subscribe(he(n,()=>n.complete(),hs)),!n.closed&&e.subscribe(n)})}function Le(t,e,n){let o=se(t)||e||n?{next:t,error:e,complete:n}:t;return o?ge((r,i)=>{var a;(a=o.subscribe)===null||a===void 0||a.call(o);let u=!0;r.subscribe(he(i,c=>{var d;(d=o.next)===null||d===void 0||d.call(o,c),i.next(c)},()=>{var c;u=!1,(c=o.complete)===null||c===void 0||c.call(o),i.complete()},c=>{var d;u=!1,(d=o.error)===null||d===void 0||d.call(o,c),i.error(c)},()=>{var c,d;u&&((c=o.unsubscribe)===null||c===void 0||c.call(o)),(d=o.finalize)===null||d===void 0||d.call(o)}))}):Dt}function $g(t){let e=ee(null);try{return t()}finally{ee(e)}}var qg=de(N({},so),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function Gg(t){if(t.dirty=!1,t.version>0&&!sr(t))return;t.version++;let e=ao(t);try{t.cleanup(),t.fn()}finally{ir(t,e)}}var Sl="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",U=class extends Error{code;constructor(e,n){super(_r(e,n)),this.code=e}};function _T(t){return`NG0${Math.abs(t)}`}function _r(t,e){return`${_T(t)}${e?": "+e:""}`}var vo=globalThis;function Se(t){for(let e in t)if(t[e]===Se)return e;throw Error("")}function Mn(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Mn).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let o=n.indexOf(`
`);return o>=0?n.slice(0,o):n}function Il(t,e){return t?e?`${t} ${e}`:t:e||""}var TT=Se({__forward_ref__:Se});function Dl(t){return t.__forward_ref__=Dl,t.toString=function(){return Mn(this())},t}function Ct(t){return af(t)?t():t}function af(t){return typeof t=="function"&&t.hasOwnProperty(TT)&&t.__forward_ref__===Dl}function O(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function zn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ts(t){return ST(t,wl)}function lf(t){return Ts(t)!==null}function ST(t,e){return t.hasOwnProperty(e)&&t[e]||null}function IT(t){let e=t?.[wl]??null;return e||null}function Qd(t){return t&&t.hasOwnProperty(El)?t[El]:null}var wl=Se({\u0275prov:Se}),El=Se({\u0275inj:Se}),Y=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=O({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function uf(t){return t&&!!t.\u0275providers}var cf=Se({\u0275cmp:Se}),df=Se({\u0275dir:Se}),ff=Se({\u0275pipe:Se}),pf=Se({\u0275mod:Se}),Cs=Se({\u0275fac:Se}),yo=Se({__NG_ELEMENT_ID__:Se}),zg=Se({__NG_ENV_ID__:Se});function Jt(t){return typeof t=="string"?t:t==null?"":String(t)}function jg(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Jt(t)}var Jg=Se({ngErrorCode:Se}),DT=Se({ngErrorMessage:Se}),wT=Se({ngTokenPath:Se});function hf(t,e){return Yg("",-200,e)}function xl(t,e){throw new U(-201,!1)}function Yg(t,e,n){let o=new U(e,t);return o[Jg]=e,o[DT]=t,n&&(o[wT]=n),o}function xT(t){return t[Jg]}var Zd;function Kg(){return Zd}function wt(t){let e=Zd;return Zd=t,e}function mf(t,e,n){let o=Ts(t);if(o&&o.providedIn=="root")return o.value===void 0?o.value=o.factory():o.value;if(n&8)return null;if(e!==void 0)return e;xl(t,"Injector")}var bT={},po=bT,MT="__NG_DI_FLAG__",Xd=class{injector;constructor(e){this.injector=e}retrieve(e,n){let o=ho(n)||0;try{return this.injector.get(e,o&8?null:po,o)}catch(r){if(or(r))return r;throw r}}};function AT(t,e=0){let n=Ua();if(n===void 0)throw new U(-203,!1);if(n===null)return mf(t,void 0,e);{let o=RT(e),r=n.retrieve(t,o);if(or(r)){if(o.optional)return null;throw r}return r}}function Q(t,e=0){return(Kg()||AT)(Ct(t),e)}function _(t,e){return Q(t,ho(e))}function ho(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function RT(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function ef(t){let e=[];for(let n=0;n<t.length;n++){let o=Ct(t[n]);if(Array.isArray(o)){if(o.length===0)throw new U(900,!1);let r,i=0;for(let a=0;a<o.length;a++){let u=o[a],c=NT(u);typeof c=="number"?c===-1?r=u.token:i|=c:r=u}e.push(Q(r,i))}else e.push(Q(o))}return e}function NT(t){return t[MT]}function mo(t,e){let n=t.hasOwnProperty(Cs);return n?t[Cs]:null}function Qg(t,e,n){if(t.length!==e.length)return!1;for(let o=0;o<t.length;o++){let r=t[o],i=e[o];if(n&&(r=n(r),i=n(i)),i!==r)return!1}return!0}function Zg(t){return t.flat(Number.POSITIVE_INFINITY)}function bl(t,e){t.forEach(n=>Array.isArray(n)?bl(n,e):e(n))}function gf(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ss(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Xg(t,e){let n=[];for(let o=0;o<t;o++)n.push(e);return n}function ev(t,e,n,o){let r=t.length;if(r==e)t.push(n,o);else if(r===1)t.push(o,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let i=r-2;t[r]=t[i],r--}t[e]=n,t[e+1]=o}}function Ml(t,e,n){let o=Tr(t,e);return o>=0?t[o|1]=n:(o=~o,ev(t,o,e,n)),o}function Al(t,e){let n=Tr(t,e);if(n>=0)return t[n|1]}function Tr(t,e){return kT(t,e,1)}function kT(t,e,n){let o=0,r=t.length>>n;for(;r!==o;){let i=o+(r-o>>1),a=t[i<<n];if(e===a)return i<<n;a>e?r=i:o=i+1}return~(r<<n)}var Co={},Et=[],Wn=new Y(""),vf=new Y("",-1),yf=new Y(""),Es=class{get(e,n=po){if(n===po){let r=Yg("",-201);throw r.name="\u0275NotFound",r}return n}};function Cf(t){return t[pf]||null}function jn(t){return t[cf]||null}function Ef(t){return t[df]||null}function tv(t){return t[ff]||null}function Eo(t){return{\u0275providers:t}}function nv(...t){return{\u0275providers:_f(!0,t),\u0275fromNgModule:!0}}function _f(t,...e){let n=[],o=new Set,r,i=a=>{n.push(a)};return bl(e,a=>{let u=a;_l(u,i,[],o)&&(r||=[],r.push(u))}),r!==void 0&&ov(r,i),n}function ov(t,e){for(let n=0;n<t.length;n++){let{ngModule:o,providers:r}=t[n];Tf(r,i=>{e(i,o)})}}function _l(t,e,n,o){if(t=Ct(t),!t)return!1;let r=null,i=Qd(t),a=!i&&jn(t);if(!i&&!a){let c=t.ngModule;if(i=Qd(c),i)r=c;else return!1}else{if(a&&!a.standalone)return!1;r=t}let u=o.has(r);if(a){if(u)return!1;if(o.add(r),a.dependencies){let c=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let d of c)_l(d,e,n,o)}}else if(i){if(i.imports!=null&&!u){o.add(r);let d;try{bl(i.imports,f=>{_l(f,e,n,o)&&(d||=[],d.push(f))})}finally{}d!==void 0&&ov(d,e)}if(!u){let d=mo(r)||(()=>new r);e({provide:r,useFactory:d,deps:Et},r),e({provide:yf,useValue:r,multi:!0},r),e({provide:Wn,useValue:()=>Q(r),multi:!0},r)}let c=i.providers;if(c!=null&&!u){let d=t;Tf(c,f=>{e(f,d)})}}else return!1;return r!==t&&t.providers!==void 0}function Tf(t,e){for(let n of t)uf(n)&&(n=n.\u0275providers),Array.isArray(n)?Tf(n,e):e(n)}var PT=Se({provide:String,useValue:Se});function rv(t){return t!==null&&typeof t=="object"&&PT in t}function FT(t){return!!(t&&t.useExisting)}function LT(t){return!!(t&&t.useFactory)}function Tl(t){return typeof t=="function"}var Is=new Y(""),Cl={},Wg={},Kd;function Ds(){return Kd===void 0&&(Kd=new Es),Kd}var je=class{},go=class extends je{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,o,r){super(),this.parent=n,this.source=o,this.scopes=r,nf(e,a=>this.processProvider(a)),this.records.set(vf,Er(void 0,this)),r.has("environment")&&this.records.set(je,Er(void 0,this));let i=this.records.get(Is);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(yf,Et,{self:!0}))}retrieve(e,n){let o=ho(n)||0;try{return this.get(e,po,o)}catch(r){if(or(r))return r;throw r}}destroy(){ys(this),this._destroyed=!0;let e=ee(null);try{for(let o of this._ngOnDestroyHooks)o.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let o of n)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ee(e)}}onDestroy(e){return ys(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){ys(this);let n=ln(this),o=wt(void 0),r;try{return e()}finally{ln(n),wt(o)}}get(e,n=po,o){if(ys(this),e.hasOwnProperty(zg))return e[zg](this);let r=ho(o),i,a=ln(this),u=wt(void 0);try{if(!(r&4)){let d=this.records.get(e);if(d===void 0){let f=HT(e)&&Ts(e);f&&this.injectableDefInScope(f)?d=Er(tf(e),Cl):d=null,this.records.set(e,d)}if(d!=null)return this.hydrate(e,d,r)}let c=r&2?Ds():this.parent;return n=r&8&&n===po?null:n,c.get(e,n)}catch(c){let d=xT(c);throw d===-200||d===-201?new U(d,null):c}finally{wt(u),ln(a)}}resolveInjectorInitializers(){let e=ee(null),n=ln(this),o=wt(void 0),r;try{let i=this.get(Wn,Et,{self:!0});for(let a of i)a()}finally{ln(n),wt(o),ee(e)}}toString(){let e=[],n=this.records;for(let o of n.keys())e.push(Mn(o));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ct(e);let n=Tl(e)?e:Ct(e&&e.provide),o=VT(e);if(!Tl(e)&&e.multi===!0){let r=this.records.get(n);r||(r=Er(void 0,Cl,!0),r.factory=()=>ef(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,o)}hydrate(e,n,o){let r=ee(null);try{if(n.value===Wg)throw hf(Mn(e));return n.value===Cl&&(n.value=Wg,n.value=n.factory(void 0,o)),typeof n.value=="object"&&n.value&&BT(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ee(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ct(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function tf(t){let e=Ts(t),n=e!==null?e.factory:mo(t);if(n!==null)return n;if(t instanceof Y)throw new U(204,!1);if(t instanceof Function)return OT(t);throw new U(204,!1)}function OT(t){if(t.length>0)throw new U(204,!1);let n=IT(t);return n!==null?()=>n.factory(t):()=>new t}function VT(t){if(rv(t))return Er(void 0,t.useValue);{let e=iv(t);return Er(e,Cl)}}function iv(t,e,n){let o;if(Tl(t)){let r=Ct(t);return mo(r)||tf(r)}else if(rv(t))o=()=>Ct(t.useValue);else if(LT(t))o=()=>t.useFactory(...ef(t.deps||[]));else if(FT(t))o=(r,i)=>Q(Ct(t.useExisting),i!==void 0&&i&8?8:void 0);else{let r=Ct(t&&(t.useClass||t.provide));if(UT(t))o=()=>new r(...ef(t.deps));else return mo(r)||tf(r)}return o}function ys(t){if(t.destroyed)throw new U(205,!1)}function Er(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function UT(t){return!!t.deps}function BT(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function HT(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function nf(t,e){for(let n of t)Array.isArray(n)?nf(n,e):n&&uf(n)?nf(n.\u0275providers,e):e(n)}function ot(t,e){let n;t instanceof go?(ys(t),n=t):n=new Xd(t);let o,r=ln(n),i=wt(void 0);try{return e()}finally{ln(r),wt(i)}}function sv(){return Kg()!==void 0||Ua()!=null}var Yt=0,te=1,ne=2,Xe=3,Pt=4,pt=5,_o=6,Sr=7,$e=8,Ir=9,un=10,Re=11,Dr=12,Sf=13,To=14,ht=15,Jn=16,So=17,cn=18,ws=19,If=20,bn=21,Rl=22,An=23,xt=24,Nl=25,rt=26,Ve=27,av=1,Df=6,Yn=7,xs=8,Io=9,Je=10;function dn(t){return Array.isArray(t)&&typeof t[av]=="object"}function Kt(t){return Array.isArray(t)&&t[av]===!0}function wf(t){return(t.flags&4)!==0}function Rn(t){return t.componentOffset>-1}function kl(t){return(t.flags&1)===1}function Do(t){return!!t.template}function wr(t){return(t[ne]&512)!==0}function wo(t){return(t[ne]&256)===256}var xf="svg",lv="math";function Ft(t){for(;Array.isArray(t);)t=t[Yt];return t}function bf(t,e){return Ft(e[t])}function Lt(t,e){return Ft(e[t.index])}function bs(t,e){return t.data[e]}function Mf(t,e){return t[e]}function Pl(t,e,n,o){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=o}function Ot(t,e){let n=e[t];return dn(n)?n:n[Yt]}function uv(t){return(t[ne]&4)===4}function Fl(t){return(t[ne]&128)===128}function cv(t){return Kt(t[Xe])}function fn(t,e){return e==null?null:t[e]}function Af(t){t[So]=0}function Rf(t){t[ne]&1024||(t[ne]|=1024,Fl(t)&&xo(t))}function dv(t,e){for(;t>0;)e=e[To],t--;return e}function Ms(t){return!!(t[ne]&9216||t[xt]?.dirty)}function Ll(t){t[un].changeDetectionScheduler?.notify(8),t[ne]&64&&(t[ne]|=1024),Ms(t)&&xo(t)}function xo(t){t[un].changeDetectionScheduler?.notify(0);let e=Gn(t);for(;e!==null&&!(e[ne]&8192||(e[ne]|=8192,!Fl(e)));)e=Gn(e)}function Nf(t,e){if(wo(t))throw new U(911,!1);t[bn]===null&&(t[bn]=[]),t[bn].push(e)}function fv(t,e){if(t[bn]===null)return;let n=t[bn].indexOf(e);n!==-1&&t[bn].splice(n,1)}function Gn(t){let e=t[Xe];return Kt(e)?e[Xe]:e}function kf(t){return t[Sr]??=[]}function Pf(t){return t.cleanup??=[]}function pv(t,e,n,o){let r=kf(e);r.push(n),t.firstCreatePass&&Pf(t).push(o,r.length-1)}var ae={lFrame:Iv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var of=!1;function hv(){return ae.lFrame.elementDepthCount}function mv(){ae.lFrame.elementDepthCount++}function Ff(){ae.lFrame.elementDepthCount--}function gv(){return ae.bindingsEnabled}function Lf(){return ae.skipHydrationRootTNode!==null}function Of(t){return ae.skipHydrationRootTNode===t}function Vf(){ae.skipHydrationRootTNode=null}function oe(){return ae.lFrame.lView}function Ye(){return ae.lFrame.tView}function Z(t){return ae.lFrame.contextLView=t,t[$e]}function X(t){return ae.lFrame.contextLView=null,t}function it(){let t=Uf();for(;t!==null&&t.type===64;)t=t.parent;return t}function Uf(){return ae.lFrame.currentTNode}function vv(){let t=ae.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function bo(t,e){let n=ae.lFrame;n.currentTNode=t,n.isParent=e}function Bf(){return ae.lFrame.isParent}function Hf(){ae.lFrame.isParent=!1}function $f(){return ae.lFrame.contextLView}function qf(){return of}function xr(t){let e=of;return of=t,e}function Ol(){let t=ae.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Gf(){return ae.lFrame.bindingIndex}function yv(t){return ae.lFrame.bindingIndex=t}function Kn(){return ae.lFrame.bindingIndex++}function As(t){let e=ae.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Cv(){return ae.lFrame.inI18n}function Ev(t,e){let n=ae.lFrame;n.bindingIndex=n.bindingRootIndex=t,Vl(e)}function _v(){return ae.lFrame.currentDirectiveIndex}function Vl(t){ae.lFrame.currentDirectiveIndex=t}function Tv(t){let e=ae.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function zf(){return ae.lFrame.currentQueryIndex}function Ul(t){ae.lFrame.currentQueryIndex=t}function $T(t){let e=t[te];return e.type===2?e.declTNode:e.type===1?t[pt]:null}function Wf(t,e,n){if(n&4){let r=e,i=t;for(;r=r.parent,r===null&&!(n&1);)if(r=$T(i),r===null||(i=i[To],r.type&10))break;if(r===null)return!1;e=r,t=i}let o=ae.lFrame=Sv();return o.currentTNode=e,o.lView=t,!0}function Bl(t){let e=Sv(),n=t[te];ae.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Sv(){let t=ae.lFrame,e=t===null?null:t.child;return e===null?Iv(t):e}function Iv(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Dv(){let t=ae.lFrame;return ae.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var jf=Dv;function Hl(){let t=Dv();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function wv(t){return(ae.lFrame.contextLView=dv(t,ae.lFrame.contextLView))[$e]}function Vt(){return ae.lFrame.selectedIndex}function Qn(t){ae.lFrame.selectedIndex=t}function Rs(){let t=ae.lFrame;return bs(t.tView,t.selectedIndex)}function H(){ae.lFrame.currentNamespace=xf}function $l(){qT()}function qT(){ae.lFrame.currentNamespace=null}function xv(){return ae.lFrame.currentNamespace}var bv=!0;function ql(){return bv}function Gl(t){bv=t}function rf(t,e=null,n=null,o){let r=Jf(t,e,n,o);return r.resolveInjectorInitializers(),r}function Jf(t,e=null,n=null,o,r=new Set){let i=[n||Et,nv(t)];return o=o||(typeof t=="object"?void 0:Mn(t)),new go(i,e||Ds(),o||null,r)}var _t=class t{static THROW_IF_NOT_FOUND=po;static NULL=new Es;static create(e,n){if(Array.isArray(e))return rf({name:""},n,e,"");{let o=e.name??"";return rf({name:o},e.parent,e.providers,o)}}static \u0275prov=O({token:t,providedIn:"any",factory:()=>Q(vf)});static __NG_ELEMENT_ID__=-1},Ue=new Y(""),Tt=(()=>{class t{static __NG_ELEMENT_ID__=GT;static __NG_ENV_ID__=n=>n}return t})(),_s=class extends Tt{_lView;constructor(e){super(),this._lView=e}get destroyed(){return wo(this._lView)}onDestroy(e){let n=this._lView;return Nf(n,e),()=>fv(n,e)}};function GT(){return new _s(oe())}var kt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},bt=new Y("",{providedIn:"root",factory:()=>{let t=_(je),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(kt),e.handleError(n))}}}),Mv={provide:Wn,useValue:()=>void _(kt),multi:!0};function $(t,e){let[n,o,r]=Pd(t,e?.equal),i=n,a=i[ft];return i.set=o,i.update=r,i.asReadonly=Yf.bind(i),i}function Yf(){let t=this[ft];if(t.readonlyFn===void 0){let e=()=>this();e[ft]=t,t.readonlyFn=e}return t.readonlyFn}var jt=class{},Ns=new Y("",{providedIn:"root",factory:()=>!1});var Kf=new Y(""),zl=new Y("");var ks=(()=>{class t{view;node;constructor(n,o){this.view=n,this.node=o}static __NG_ELEMENT_ID__=zT}return t})();function zT(){return new ks(oe(),it())}var pn=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new nt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new pe(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=O({token:t,providedIn:"root",factory:()=>new t})}return t})(),br=(()=>{class t{internalPendingTasks=_(pn);scheduler=_(jt);errorHandler=_(bt);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let o=this.add();n().catch(this.errorHandler).finally(o)}static \u0275prov=O({token:t,providedIn:"root",factory:()=>new t})}return t})();function Mo(...t){}var Ps=(()=>{class t{static \u0275prov=O({token:t,providedIn:"root",factory:()=>new sf})}return t})(),sf=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,o=this.queues.get(n);o.has(e)&&(o.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let o=this.queues.get(n);o.has(e)||o.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,o]of this.queues)n===null?e||=this.flushQueue(o):e||=n.run(()=>this.flushQueue(o));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let o of e)o.dirty&&(this.dirtyEffectCount--,n=!0,o.run());return n}};function Gs(t){return{toString:t}.toString()}function ZT(t){return typeof t=="function"}var tu=class{previousValue;currentValue;firstChange;constructor(e,n,o){this.previousValue=e,this.currentValue=n,this.firstChange=o}isFirstChange(){return this.firstChange}};function cy(t,e,n,o){e!==null?e.applyValueToInputSignal(e,o):t[n]=o}var ko=(()=>{let t=()=>dy;return t.ngInherit=!0,t})();function dy(t){return t.type.prototype.ngOnChanges&&(t.setInput=eS),XT}function XT(){let t=py(this),e=t?.current;if(e){let n=t.previous;if(n===Co)t.previous=e;else for(let o in e)n[o]=e[o];t.current=null,this.ngOnChanges(e)}}function eS(t,e,n,o,r){let i=this.declaredInputs[o],a=py(t)||tS(t,{previous:Co,current:null}),u=a.current||(a.current={}),c=a.previous,d=c[i];u[i]=new tu(d&&d.currentValue,n,c===Co),cy(t,e,r,n)}var fy="__ngSimpleChanges__";function py(t){return t[fy]||null}function tS(t,e){return t[fy]=e}var Av=[];var Me=function(t,e=null,n){for(let o=0;o<Av.length;o++){let r=Av[o];r(t,e,n)}};function nS(t,e,n){let{ngOnChanges:o,ngOnInit:r,ngDoCheck:i}=e.type.prototype;if(o){let a=dy(e);(n.preOrderHooks??=[]).push(t,a),(n.preOrderCheckHooks??=[]).push(t,a)}r&&(n.preOrderHooks??=[]).push(0-t,r),i&&((n.preOrderHooks??=[]).push(t,i),(n.preOrderCheckHooks??=[]).push(t,i))}function oS(t,e){for(let n=e.directiveStart,o=e.directiveEnd;n<o;n++){let i=t.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:u,ngAfterViewInit:c,ngAfterViewChecked:d,ngOnDestroy:f}=i;a&&(t.contentHooks??=[]).push(-n,a),u&&((t.contentHooks??=[]).push(n,u),(t.contentCheckHooks??=[]).push(n,u)),c&&(t.viewHooks??=[]).push(-n,c),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Kl(t,e,n){hy(t,e,3,n)}function Ql(t,e,n,o){(t[ne]&3)===n&&hy(t,e,n,o)}function Qf(t,e){let n=t[ne];(n&3)===e&&(n&=16383,n+=1,t[ne]=n)}function hy(t,e,n,o){let r=o!==void 0?t[So]&65535:0,i=o??-1,a=e.length-1,u=0;for(let c=r;c<a;c++)if(typeof e[c+1]=="number"){if(u=e[c],o!=null&&u>=o)break}else e[c]<0&&(t[So]+=65536),(u<i||i==-1)&&(rS(t,n,e,c),t[So]=(t[So]&4294901760)+c+2),c++}function Rv(t,e){Me(4,t,e);let n=ee(null);try{e.call(t)}finally{ee(n),Me(5,t,e)}}function rS(t,e,n,o){let r=n[o]<0,i=n[o+1],a=r?-n[o]:n[o],u=t[a];r?t[ne]>>14<t[So]>>16&&(t[ne]&3)===e&&(t[ne]+=16384,Rv(u,i)):Rv(u,i)}var Ar=-1,Os=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,o,r){this.factory=e,this.name=r,this.canSeeViewProviders=n,this.injectImpl=o}};function iS(t){return(t.flags&8)!==0}function sS(t){return(t.flags&16)!==0}function aS(t,e,n){let o=0;for(;o<n.length;){let r=n[o];if(typeof r=="number"){if(r!==0)break;o++;let i=n[o++],a=n[o++],u=n[o++];t.setAttribute(e,a,u,i)}else{let i=r,a=n[++o];lS(i)?t.setProperty(e,i,a):t.setAttribute(e,i,a),o++}}return o}function my(t){return t===3||t===4||t===6}function lS(t){return t.charCodeAt(0)===64}function Cu(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let o=0;o<e.length;o++){let r=e[o];typeof r=="number"?n=r:n===0||(n===-1||n===2?Nv(t,n,r,null,e[++o]):Nv(t,n,r,null,null))}}return t}function Nv(t,e,n,o,r){let i=0,a=t.length;if(e===-1)a=-1;else for(;i<t.length;){let u=t[i++];if(typeof u=="number"){if(u===e){a=-1;break}else if(u>e){a=i-1;break}}}for(;i<t.length;){let u=t[i];if(typeof u=="number")break;if(u===n){r!==null&&(t[i+1]=r);return}i++,r!==null&&i++}a!==-1&&(t.splice(a,0,e),i=a+1),t.splice(i++,0,n),r!==null&&t.splice(i++,0,r)}function gy(t){return t!==Ar}function nu(t){return t&32767}function uS(t){return t>>16}function ou(t,e){let n=uS(t),o=e;for(;n>0;)o=o[To],n--;return o}var ip=!0;function kv(t){let e=ip;return ip=t,e}var cS=256,vy=cS-1,yy=5,dS=0,hn={};function fS(t,e,n){let o;typeof n=="string"?o=n.charCodeAt(0)||0:n.hasOwnProperty(yo)&&(o=n[yo]),o==null&&(o=n[yo]=dS++);let r=o&vy,i=1<<r;e.data[t+(r>>yy)]|=i}function Cy(t,e){let n=Ey(t,e);if(n!==-1)return n;let o=e[te];o.firstCreatePass&&(t.injectorIndex=e.length,Zf(o.data,t),Zf(e,null),Zf(o.blueprint,null));let r=Lp(t,e),i=t.injectorIndex;if(gy(r)){let a=nu(r),u=ou(r,e),c=u[te].data;for(let d=0;d<8;d++)e[i+d]=u[a+d]|c[a+d]}return e[i+8]=r,i}function Zf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ey(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Lp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,o=null,r=e;for(;r!==null;){if(o=Dy(r),o===null)return Ar;if(n++,r=r[To],o.injectorIndex!==-1)return o.injectorIndex|n<<16}return Ar}function pS(t,e,n){fS(t,e,n)}function hS(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let o=n.length,r=0;for(;r<o;){let i=n[r];if(my(i))break;if(i===0)r=r+2;else if(typeof i=="number")for(r++;r<o&&typeof n[r]=="string";)r++;else{if(i===e)return n[r+1];r=r+2}}}return null}function _y(t,e,n){if(n&8||t!==void 0)return t;xl(e,"NodeInjector")}function Ty(t,e,n,o){if(n&8&&o===void 0&&(o=null),(n&3)===0){let r=t[Ir],i=wt(void 0);try{return r?r.get(e,o,n&8):mf(e,o,n&8)}finally{wt(i)}}return _y(o,e,n)}function Sy(t,e,n,o=0,r){if(t!==null){if(e[ne]&2048&&!(o&2)){let a=yS(t,e,n,o,hn);if(a!==hn)return a}let i=Iy(t,e,n,o,hn);if(i!==hn)return i}return Ty(e,n,o,r)}function Iy(t,e,n,o,r){let i=gS(n);if(typeof i=="function"){if(!Wf(e,t,o))return o&1?_y(r,n,o):Ty(e,n,o,r);try{let a;if(a=i(o),a==null&&!(o&8))xl(n);else return a}finally{jf()}}else if(typeof i=="number"){let a=null,u=Ey(t,e),c=Ar,d=o&1?e[ht][pt]:null;for((u===-1||o&4)&&(c=u===-1?Lp(t,e):e[u+8],c===Ar||!Fv(o,!1)?u=-1:(a=e[te],u=nu(c),e=ou(c,e)));u!==-1;){let f=e[te];if(Pv(i,u,f.data)){let p=mS(u,e,n,a,o,d);if(p!==hn)return p}c=e[u+8],c!==Ar&&Fv(o,e[te].data[u+8]===d)&&Pv(i,u,e)?(a=f,u=nu(c),e=ou(c,e)):u=-1}}return r}function mS(t,e,n,o,r,i){let a=e[te],u=a.data[t+8],c=o==null?Rn(u)&&ip:o!=a&&(u.type&3)!==0,d=r&1&&i===u,f=Zl(u,a,n,c,d);return f!==null?ru(e,a,f,u,r):hn}function Zl(t,e,n,o,r){let i=t.providerIndexes,a=e.data,u=i&1048575,c=t.directiveStart,d=t.directiveEnd,f=i>>20,p=o?u:u+f,h=r?u+f:d;for(let m=p;m<h;m++){let E=a[m];if(m<c&&n===E||m>=c&&E.type===n)return m}if(r){let m=a[c];if(m&&Do(m)&&m.type===n)return c}return null}function ru(t,e,n,o,r){let i=t[n],a=e.data;if(i instanceof Os){let u=i;if(u.resolving){let m=jg(a[n]);throw hf(m)}let c=kv(u.canSeeViewProviders);u.resolving=!0;let d=a[n].type||a[n],f,p=u.injectImpl?wt(u.injectImpl):null,h=Wf(t,o,0);try{i=t[n]=u.factory(void 0,r,a,t,o),e.firstCreatePass&&n>=o.directiveStart&&nS(n,a[n],e)}finally{p!==null&&wt(p),kv(c),u.resolving=!1,jf()}}return i}function gS(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(yo)?t[yo]:void 0;return typeof e=="number"?e>=0?e&vy:vS:e}function Pv(t,e,n){let o=1<<t;return!!(n[e+(t>>yy)]&o)}function Fv(t,e){return!(t&2)&&!(t&1&&e)}var Ao=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,o){return Sy(this._tNode,this._lView,e,ho(o),n)}};function vS(){return new Ao(it(),oe())}function Eu(t){return Gs(()=>{let e=t.prototype.constructor,n=e[Cs]||sp(e),o=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==o;){let i=r[Cs]||sp(r);if(i&&i!==n)return i;r=Object.getPrototypeOf(r)}return i=>new i})}function sp(t){return af(t)?()=>{let e=sp(Ct(t));return e&&e()}:mo(t)}function yS(t,e,n,o,r){let i=t,a=e;for(;i!==null&&a!==null&&a[ne]&2048&&!wr(a);){let u=Iy(i,a,n,o|2,hn);if(u!==hn)return u;let c=i.parent;if(!c){let d=a[If];if(d){let f=d.get(n,hn,o);if(f!==hn)return f}c=Dy(a),a=a[To]}i=c}return r}function Dy(t){let e=t[te],n=e.type;return n===2?e.declTNode:n===1?t[pt]:null}function zs(t){return hS(it(),t)}function CS(){return Or(it(),oe())}function Or(t,e){return new Pn(Lt(t,e))}var Pn=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=CS}return t})();function ES(t){return t instanceof Pn?t.nativeElement:t}function _S(){return this._results[Symbol.iterator]()}var iu=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Be}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let o=Zg(e);(this._changesDetected=!Qg(this._results,o,n))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=_S};function wy(t){return(t.flags&128)===128}var Op=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(Op||{}),xy=new Map,TS=0;function SS(){return TS++}function IS(t){xy.set(t[ws],t)}function ap(t){xy.delete(t[ws])}var Lv="__ngContext__";function Rr(t,e){dn(e)?(t[Lv]=e[ws],IS(e)):t[Lv]=e}function by(t){return Ay(t[Dr])}function My(t){return Ay(t[Pt])}function Ay(t){for(;t!==null&&!Kt(t);)t=t[Pt];return t}var lp;function Vp(t){lp=t}function Up(){if(lp!==void 0)return lp;if(typeof document<"u")return document;throw new U(210,!1)}var _u=new Y("",{providedIn:"root",factory:()=>DS}),DS="ng",Tu=new Y(""),Vr=new Y("",{providedIn:"platform",factory:()=>"unknown"});var Su=new Y("",{providedIn:"root",factory:()=>Up().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var wS="h",xS="b";var Ry="r";var Ny="di";var ky=!1,Py=new Y("",{providedIn:"root",factory:()=>ky});var bS=(t,e,n,o)=>{};function MS(t,e,n,o){bS(t,e,n,o)}function Iu(t){return(t.flags&32)===32}var AS=()=>null;function Fy(t,e,n=!1){return AS(t,e,n)}function Ly(t,e){let n=t.contentQueries;if(n!==null){let o=ee(null);try{for(let r=0;r<n.length;r+=2){let i=n[r],a=n[r+1];if(a!==-1){let u=t.data[a];Ul(i),u.contentQueries(2,e[a],a)}}}finally{ee(o)}}}function up(t,e,n){Ul(0);let o=ee(null);try{e(t,n)}finally{ee(o)}}function Oy(t,e,n){if(wf(e)){let o=ee(null);try{let r=e.directiveStart,i=e.directiveEnd;for(let a=r;a<i;a++){let u=t.data[a];if(u.contentQueries){let c=n[a];u.contentQueries(1,c,a)}}}finally{ee(o)}}}var Nn=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t})(Nn||{}),Wl;function RS(){if(Wl===void 0&&(Wl=null,vo.trustedTypes))try{Wl=vo.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Wl}function Du(t){return RS()?.createHTML(t)||t}var jl;function Vy(){if(jl===void 0&&(jl=null,vo.trustedTypes))try{jl=vo.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return jl}function Ov(t){return Vy()?.createHTML(t)||t}function Vv(t){return Vy()?.createScriptURL(t)||t}var su=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Sl})`}};function Ur(t){return t instanceof su?t.changingThisBreaksApplicationSecurity:t}function wu(t,e){let n=Uy(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Sl})`)}return n===e}function Uy(t){return t instanceof su&&t.getTypeName()||null}function NS(t){let e=new dp(t);return kS()?new cp(e):e}var cp=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Du(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},dp=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Du(e),n}};function kS(){try{return!!new window.DOMParser().parseFromString(Du(""),"text/html")}catch{return!1}}var PS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Bp(t){return t=String(t),t.match(PS)?t:"unsafe:"+t}function Fn(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function Ws(...t){let e={};for(let n of t)for(let o in n)n.hasOwnProperty(o)&&(e[o]=!0);return e}var By=Fn("area,br,col,hr,img,wbr"),Hy=Fn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$y=Fn("rp,rt"),FS=Ws($y,Hy),LS=Ws(Hy,Fn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),OS=Ws($y,Fn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Uv=Ws(By,LS,OS,FS),qy=Fn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),VS=Fn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),US=Fn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),BS=Ws(qy,VS,US),HS=Fn("script,style,template"),fp=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let n=e.firstChild,o=!0,r=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?o=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,o&&n.firstChild){r.push(n),n=GS(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=qS(n);if(i){n=i;break}n=r.pop()}}return this.buf.join("")}startElement(e){let n=Bv(e).toLowerCase();if(!Uv.hasOwnProperty(n))return this.sanitizedSomething=!0,!HS.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let o=e.attributes;for(let r=0;r<o.length;r++){let i=o.item(r),a=i.name,u=a.toLowerCase();if(!BS.hasOwnProperty(u)){this.sanitizedSomething=!0;continue}let c=i.value;qy[u]&&(c=Bp(c)),this.buf.push(" ",a,'="',Hv(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=Bv(e).toLowerCase();Uv.hasOwnProperty(n)&&!By.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(Hv(e))}};function $S(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function qS(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw Gy(e);return e}function GS(t){let e=t.firstChild;if(e&&$S(t,e))throw Gy(e);return e}function Bv(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function Gy(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var zS=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,WS=/([^\#-~ |!])/g;function Hv(t){return t.replace(/&/g,"&amp;").replace(zS,function(e){let n=e.charCodeAt(0),o=e.charCodeAt(1);return"&#"+((n-55296)*1024+(o-56320)+65536)+";"}).replace(WS,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Jl;function zy(t,e){let n=null;try{Jl=Jl||NS(t);let o=e?String(e):"";n=Jl.getInertBodyElement(o);let r=5,i=o;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,o=i,i=n.innerHTML,n=Jl.getInertBodyElement(o)}while(o!==i);let u=new fp().sanitizeChildren($v(n)||n);return Du(u)}finally{if(n){let o=$v(n)||n;for(;o.firstChild;)o.firstChild.remove()}}}function $v(t){return"content"in t&&jS(t)?t.content:null}function jS(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var js=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(js||{});function xu(t){let e=$p();return e?Ov(e.sanitize(js.HTML,t)||""):wu(t,"HTML")?Ov(Ur(t)):zy(Up(),Jt(t))}function Br(t){let e=$p();return e?e.sanitize(js.URL,t)||"":wu(t,"URL")?Ur(t):Bp(Jt(t))}function Wy(t){let e=$p();if(e)return Vv(e.sanitize(js.RESOURCE_URL,t)||"");if(wu(t,"ResourceURL"))return Vv(Ur(t));throw new U(904,!1)}function JS(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?Wy:Br}function Hp(t,e,n){return JS(e,n)(t)}function $p(){let t=oe();return t&&t[un].sanitizer}function jy(t){return t instanceof Function?t():t}function YS(t,e,n){let o=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let i=e.length;if(r+i===o||t.charCodeAt(r+i)<=32)return r}n=r+1}}var Jy="ng-template";function KS(t,e,n,o){let r=0;if(o){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&YS(e[r+1].toLowerCase(),n,0)!==-1)return!0}else if(qp(t))return!1;if(r=e.indexOf(1,r),r>-1){let i;for(;++r<e.length&&typeof(i=e[r])=="string";)if(i.toLowerCase()===n)return!0}return!1}function qp(t){return t.type===4&&t.value!==Jy}function QS(t,e,n){let o=t.type===4&&!n?Jy:t.value;return e===o}function ZS(t,e,n){let o=4,r=t.attrs,i=r!==null?tI(r):0,a=!1;for(let u=0;u<e.length;u++){let c=e[u];if(typeof c=="number"){if(!a&&!Qt(o)&&!Qt(c))return!1;if(a&&Qt(c))continue;a=!1,o=c|o&1;continue}if(!a)if(o&4){if(o=2|o&1,c!==""&&!QS(t,c,n)||c===""&&e.length===1){if(Qt(o))return!1;a=!0}}else if(o&8){if(r===null||!KS(t,r,c,n)){if(Qt(o))return!1;a=!0}}else{let d=e[++u],f=XS(c,r,qp(t),n);if(f===-1){if(Qt(o))return!1;a=!0;continue}if(d!==""){let p;if(f>i?p="":p=r[f+1].toLowerCase(),o&2&&d!==p){if(Qt(o))return!1;a=!0}}}}return Qt(o)||a}function Qt(t){return(t&1)===0}function XS(t,e,n,o){if(e===null)return-1;let r=0;if(o||!n){let i=!1;for(;r<e.length;){let a=e[r];if(a===t)return r;if(a===3||a===6)i=!0;else if(a===1||a===2){let u=e[++r];for(;typeof u=="string";)u=e[++r];continue}else{if(a===4)break;if(a===0){r+=4;continue}}r+=i?1:2}return-1}else return nI(e,t)}function Yy(t,e,n=!1){for(let o=0;o<e.length;o++)if(ZS(t,e[o],n))return!0;return!1}function eI(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if((n&1)===0)return e[n+1]}return null}function tI(t){for(let e=0;e<t.length;e++){let n=t[e];if(my(n))return e}return t.length}function nI(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let o=t[n];if(typeof o=="number")return-1;if(o===e)return n;n++}return-1}function oI(t,e){e:for(let n=0;n<e.length;n++){let o=e[n];if(t.length===o.length){for(let r=0;r<t.length;r++)if(t[r]!==o[r])continue e;return!0}}return!1}function qv(t,e){return t?":not("+e.trim()+")":e}function rI(t){let e=t[0],n=1,o=2,r="",i=!1;for(;n<t.length;){let a=t[n];if(typeof a=="string")if(o&2){let u=t[++n];r+="["+a+(u.length>0?'="'+u+'"':"")+"]"}else o&8?r+="."+a:o&4&&(r+=" "+a);else r!==""&&!Qt(a)&&(e+=qv(i,r),r=""),o=a,i=i||!Qt(o);n++}return r!==""&&(e+=qv(i,r)),e}function iI(t){return t.map(rI).join(",")}function sI(t){let e=[],n=[],o=1,r=2;for(;o<t.length;){let i=t[o];if(typeof i=="string")r===2?i!==""&&e.push(i,t[++o]):r===8&&n.push(i);else{if(!Qt(r))break;r=i}o++}return n.length&&e.push(1,...n),e}var st={};function aI(t,e){return t.createText(e)}function lI(t,e,n){t.setValue(e,n)}function Ky(t,e,n){return t.createElement(e,n)}function au(t,e,n,o,r){t.insertBefore(e,n,o,r)}function Qy(t,e,n){t.appendChild(e,n)}function Gv(t,e,n,o,r){o!==null?au(t,e,n,o,r):Qy(t,e,n)}function Zy(t,e,n,o){t.removeChild(null,e,n,o)}function uI(t,e,n){t.setAttribute(e,"style",n)}function cI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Xy(t,e,n){let{mergedAttrs:o,classes:r,styles:i}=n;o!==null&&aS(t,e,o),r!==null&&cI(t,e,r),i!==null&&uI(t,e,i)}function Gp(t,e,n,o,r,i,a,u,c,d,f){let p=Ve+o,h=p+r,m=dI(p,h),E=typeof d=="function"?d():d;return m[te]={type:t,blueprint:m,template:n,queries:null,viewQuery:u,declTNode:e,data:m.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:c,consts:E,incompleteFirstPass:!1,ssrId:f}}function dI(t,e){let n=[];for(let o=0;o<e;o++)n.push(o<t?null:st);return n}function fI(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Gp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function zp(t,e,n,o,r,i,a,u,c,d,f){let p=e.blueprint.slice();return p[Yt]=r,p[ne]=o|4|128|8|64|1024,(d!==null||t&&t[ne]&2048)&&(p[ne]|=2048),Af(p),p[Xe]=p[To]=t,p[$e]=n,p[un]=a||t&&t[un],p[Re]=u||t&&t[Re],p[Ir]=c||t&&t[Ir]||null,p[pt]=i,p[ws]=SS(),p[_o]=f,p[If]=d,p[ht]=e.type==2?t[ht]:p,p}function pI(t,e,n){let o=Lt(e,t),r=fI(n),i=t[un].rendererFactory,a=Wp(t,zp(t,r,null,e0(n),o,e,null,i.createRenderer(o,n),null,null,null));return t[e.index]=a}function e0(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function t0(t,e,n,o){if(n===0)return-1;let r=e.length;for(let i=0;i<n;i++)e.push(o),t.blueprint.push(o),t.data.push(null);return r}function Wp(t,e){return t[Dr]?t[Sf][Pt]=e:t[Dr]=e,t[Sf]=e,e}function g(t=1){n0(Ye(),oe(),Vt()+t,!1)}function n0(t,e,n,o){if(!o)if((e[ne]&3)===3){let i=t.preOrderCheckHooks;i!==null&&Kl(e,i,n)}else{let i=t.preOrderHooks;i!==null&&Ql(e,i,0,n)}Qn(n)}var bu=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(bu||{});function pp(t,e,n,o){let r=ee(null);try{let[i,a,u]=t.inputs[n],c=null;(a&bu.SignalBased)!==0&&(c=e[i][ft]),c!==null&&c.transformFn!==void 0?o=c.transformFn(o):u!==null&&(o=u.call(e,o)),t.setInput!==null?t.setInput(e,c,o,n,i):cy(e,c,i,o)}finally{ee(r)}}var kn=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(kn||{}),hI;function jp(t,e){return hI(t,e)}var Mu=new Set;function Mr(t,e,n,o,r,i){if(o!=null){let a,u=!1;Kt(o)?a=o:dn(o)&&(u=!0,o=o[Yt]);let c=Ft(o);t===0&&n!==null?r==null?Qy(e,n,c):au(e,n,c,r||null,!0):t===1&&n!==null?au(e,n,c,r||null,!0):t===2?zv(i,d=>{Zy(e,c,u,d)}):t===3&&zv(i,()=>{e.destroyNode(c)}),a!=null&&DI(e,t,a,n,r)}}function mI(t,e){o0(t,e),e[Yt]=null,e[pt]=null}function gI(t,e,n,o,r,i){o[Yt]=r,o[pt]=e,Ru(t,o,n,1,r,i)}function o0(t,e){e[un].changeDetectionScheduler?.notify(9),Ru(t,e,e[Re],2,null,null)}function vI(t){let e=t[Dr];if(!e)return Xf(t[te],t);for(;e;){let n=null;if(dn(e))n=e[Dr];else{let o=e[Je];o&&(n=o)}if(!n){for(;e&&!e[Pt]&&e!==t;)dn(e)&&Xf(e[te],e),e=e[Xe];e===null&&(e=t),dn(e)&&Xf(e[te],e),n=e&&e[Pt]}e=n}}function Jp(t,e){let n=t[Io],o=n.indexOf(e);n.splice(o,1)}function Au(t,e){if(wo(e))return;let n=e[Re];n.destroyNode&&Ru(t,e,n,3,null,null),vI(e)}function Xf(t,e){if(wo(e))return;let n=ee(null);try{e[ne]&=-129,e[ne]|=256,e[xt]&&lo(e[xt]),EI(t,e),CI(t,e),e[te].type===1&&e[Re].destroy();let o=e[Jn];if(o!==null&&Kt(e[Xe])){o!==e[Xe]&&Jp(o,e);let r=e[cn];r!==null&&r.detachView(t)}ap(e)}finally{ee(n)}}function zv(t,e){if(t&&t[rt]&&t[rt].leave)if(t[rt].skipLeaveAnimations)t[rt].skipLeaveAnimations=!1;else{let n=t[rt].leave,o=[];for(let r=0;r<n.length;r++){let i=n[r];o.push(i())}t[rt].running=Promise.allSettled(o),t[rt].leave=void 0}yI(t,e)}function yI(t,e){if(t&&t[rt]&&t[rt].running){t[rt].running.then(()=>{t[rt]&&t[rt].running&&(t[rt].running=void 0),Mu.delete(t),e(!0)});return}e(!1)}function CI(t,e){let n=t.cleanup,o=e[Sr];if(n!==null)for(let a=0;a<n.length-1;a+=2)if(typeof n[a]=="string"){let u=n[a+3];u>=0?o[u]():o[-u].unsubscribe(),a+=2}else{let u=o[n[a+1]];n[a].call(u)}o!==null&&(e[Sr]=null);let r=e[bn];if(r!==null){e[bn]=null;for(let a=0;a<r.length;a++){let u=r[a];u()}}let i=e[An];if(i!==null){e[An]=null;for(let a of i)a.destroy()}}function EI(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let o=0;o<n.length;o+=2){let r=e[n[o]];if(!(r instanceof Os)){let i=n[o+1];if(Array.isArray(i))for(let a=0;a<i.length;a+=2){let u=r[i[a]],c=i[a+1];Me(4,u,c);try{c.call(u)}finally{Me(5,u,c)}}else{Me(4,r,i);try{i.call(r)}finally{Me(5,r,i)}}}}}function r0(t,e,n){return _I(t,e.parent,n)}function _I(t,e,n){let o=e;for(;o!==null&&o.type&168;)e=o,o=e.parent;if(o===null)return n[Yt];if(Rn(o)){let{encapsulation:r}=t.data[o.directiveStart+o.componentOffset];if(r===Nn.None||r===Nn.Emulated)return null}return Lt(o,n)}function i0(t,e,n){return SI(t,e,n)}function TI(t,e,n){return t.type&40?Lt(t,n):null}var SI=TI,Wv;function Yp(t,e,n,o){let r=r0(t,o,e),i=e[Re],a=o.parent||e[pt],u=i0(a,o,e);if(r!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Gv(i,r,n[c],u,!1);else Gv(i,r,n,u,!1);Wv!==void 0&&Wv(i,o,e,n,r)}function Fs(t,e){if(e!==null){let n=e.type;if(n&3)return Lt(e,t);if(n&4)return hp(-1,t[e.index]);if(n&8){let o=e.child;if(o!==null)return Fs(t,o);{let r=t[e.index];return Kt(r)?hp(-1,r):Ft(r)}}else{if(n&128)return Fs(t,e.next);if(n&32)return jp(e,t)()||Ft(t[e.index]);{let o=s0(t,e);if(o!==null){if(Array.isArray(o))return o[0];let r=Gn(t[ht]);return Fs(r,o)}else return Fs(t,e.next)}}}return null}function s0(t,e){if(e!==null){let o=t[ht][pt],r=e.projection;return o.projection[r]}return null}function hp(t,e){let n=Je+t+1;if(n<e.length){let o=e[n],r=o[te].firstChild;if(r!==null)return Fs(o,r)}return e[Yn]}function Kp(t,e,n,o,r,i,a){for(;n!=null;){if(n.type===128){n=n.next;continue}let u=o[n.index],c=n.type;if(a&&e===0&&(u&&Rr(Ft(u),o),n.flags|=2),!Iu(n))if(c&8)Kp(t,e,n.child,o,r,i,!1),Mr(e,t,r,u,i,o);else if(c&32){let d=jp(n,o),f;for(;f=d();)Mr(e,t,r,f,i,o);Mr(e,t,r,u,i,o)}else c&16?a0(t,e,o,n,r,i):Mr(e,t,r,u,i,o);n=a?n.projectionNext:n.next}}function Ru(t,e,n,o,r,i){Kp(n,o,t.firstChild,e,r,i,!1)}function II(t,e,n){let o=e[Re],r=r0(t,n,e),i=n.parent||e[pt],a=i0(i,n,e);a0(o,0,e,n,r,a)}function a0(t,e,n,o,r,i){let a=n[ht],c=a[pt].projection[o.projection];if(Array.isArray(c))for(let d=0;d<c.length;d++){let f=c[d];Mr(e,t,r,f,i,n)}else{let d=c,f=a[Xe];wy(o)&&(d.flags|=128),Kp(t,e,d,f,r,i,!0)}}function DI(t,e,n,o,r){let i=n[Yn],a=Ft(n);i!==a&&Mr(e,t,o,i,r);for(let u=Je;u<n.length;u++){let c=n[u];Ru(c[te],c,t,e,o,i)}}function wI(t,e,n,o,r){if(e)r?t.addClass(n,o):t.removeClass(n,o);else{let i=o.indexOf("-")===-1?void 0:kn.DashCase;r==null?t.removeStyle(n,o,i):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),i|=kn.Important),t.setStyle(n,o,r,i))}}function l0(t,e,n,o,r){let i=Vt(),a=o&2;try{Qn(-1),a&&e.length>Ve&&n0(t,e,Ve,!1),Me(a?2:0,r,n),n(o,r)}finally{Qn(i),Me(a?3:1,r,n)}}function u0(t,e,n){NI(t,e,n),(n.flags&64)===64&&kI(t,e,n)}function Qp(t,e,n=Lt){let o=e.localNames;if(o!==null){let r=e.index+1;for(let i=0;i<o.length;i+=2){let a=o[i+1],u=a===-1?n(e,t):t[a];t[r++]=u}}}function xI(t,e,n,o){let i=o.get(Py,ky)||n===Nn.ShadowDom,a=t.selectRootElement(e,i);return bI(a),a}function bI(t){MI(t)}var MI=()=>null;function AI(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function RI(t,e,n,o,r,i){let a=e[te];if(Nu(t,a,e,n,o)){Rn(t)&&d0(e,t.index);return}t.type&3&&(n=AI(n)),c0(t,e,n,o,r,i)}function c0(t,e,n,o,r,i){if(t.type&3){let a=Lt(t,e);o=i!=null?i(o,t.value||"",n):o,r.setProperty(a,n,o)}else t.type&12}function d0(t,e){let n=Ot(e,t);n[ne]&16||(n[ne]|=64)}function NI(t,e,n){let o=n.directiveStart,r=n.directiveEnd;Rn(n)&&pI(e,n,t.data[o+n.componentOffset]),t.firstCreatePass||Cy(n,e);let i=n.initialInputs;for(let a=o;a<r;a++){let u=t.data[a],c=ru(e,t,a,n);if(Rr(c,e),i!==null&&OI(e,a-o,c,u,n,i),Do(u)){let d=Ot(n.index,e);d[$e]=ru(e,t,a,n)}}}function kI(t,e,n){let o=n.directiveStart,r=n.directiveEnd,i=n.index,a=_v();try{Qn(i);for(let u=o;u<r;u++){let c=t.data[u],d=e[u];Vl(u),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&PI(c,d)}}finally{Qn(-1),Vl(a)}}function PI(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function FI(t,e){let n=t.directiveRegistry,o=null;if(n)for(let r=0;r<n.length;r++){let i=n[r];Yy(e,i.selectors,!1)&&(o??=[],Do(i)?o.unshift(i):o.push(i))}return o}function LI(t,e,n,o,r,i){let a=Lt(t,e);f0(e[Re],a,i,t.value,n,o,r)}function f0(t,e,n,o,r,i,a){if(i==null)t.removeAttribute(e,r,n);else{let u=a==null?Jt(i):a(i,o||"",r);t.setAttribute(e,r,u,n)}}function OI(t,e,n,o,r,i){let a=i[e];if(a!==null)for(let u=0;u<a.length;u+=2){let c=a[u],d=a[u+1];pp(o,n,c,d)}}function p0(t,e,n,o,r){let i=Ve+n,a=e[te],u=r(a,e,t,o,n);e[i]=u,bo(t,!0);let c=t.type===2;return c?(Xy(e[Re],u,t),(hv()===0||kl(t))&&Rr(u,e),mv()):Rr(u,e),ql()&&(!c||!Iu(t))&&Yp(a,e,u,t),t}function h0(t){let e=t;return Bf()?Hf():(e=e.parent,bo(e,!1)),e}function VI(t,e){let n=t[Ir];if(!n)return;let o;try{o=n.get(bt,null)}catch{o=null}o?.(e)}function Nu(t,e,n,o,r){let i=t.inputs?.[o],a=t.hostDirectiveInputs?.[o],u=!1;if(a)for(let c=0;c<a.length;c+=2){let d=a[c],f=a[c+1],p=e.data[d];pp(p,n[d],f,r),u=!0}if(i)for(let c of i){let d=n[c],f=e.data[c];pp(f,d,o,r),u=!0}return u}function UI(t,e){let n=Ot(e,t),o=n[te];BI(o,n);let r=n[Yt];r!==null&&n[_o]===null&&(n[_o]=Fy(r,n[Ir])),Me(18),Zp(o,n,n[$e]),Me(19,n[$e])}function BI(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Zp(t,e,n){Bl(e);try{let o=t.viewQuery;o!==null&&up(1,o,n);let r=t.template;r!==null&&l0(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[cn]?.finishViewCreation(t),t.staticContentQueries&&Ly(t,e),t.staticViewQueries&&up(2,t.viewQuery,n);let i=t.components;i!==null&&HI(e,i)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{e[ne]&=-5,Hl()}}function HI(t,e){for(let n=0;n<e.length;n++)UI(t,e[n])}function Js(t,e,n,o){let r=ee(null);try{let i=e.tView,u=t[ne]&4096?4096:16,c=zp(t,i,n,u,null,e,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null),d=t[e.index];c[Jn]=d;let f=t[cn];return f!==null&&(c[cn]=f.createEmbeddedView(i)),Zp(i,c,n),c}finally{ee(r)}}function Nr(t,e){return!e||e.firstChild===null||wy(t)}function Vs(t,e,n,o,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue}let i=e[n.index];i!==null&&o.push(Ft(i)),Kt(i)&&m0(i,o);let a=n.type;if(a&8)Vs(t,e,n.child,o);else if(a&32){let u=jp(n,e),c;for(;c=u();)o.push(c)}else if(a&16){let u=s0(e,n);if(Array.isArray(u))o.push(...u);else{let c=Gn(e[ht]);Vs(c[te],c,u,o,!0)}}n=r?n.projectionNext:n.next}return o}function m0(t,e){for(let n=Je;n<t.length;n++){let o=t[n],r=o[te].firstChild;r!==null&&Vs(o[te],o,r,e)}t[Yn]!==t[Yt]&&e.push(t[Yn])}function g0(t){if(t[Nl]!==null){for(let e of t[Nl])e.impl.addSequence(e);t[Nl].length=0}}var v0=[];function $I(t){return t[xt]??qI(t)}function qI(t){let e=v0.pop()??Object.create(zI);return e.lView=t,e}function GI(t){t.lView[xt]!==t&&(t.lView=null,v0.push(t))}var zI=de(N({},so),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{xo(t.lView)},consumerOnSignalRead(){this.lView[xt]=this}});function WI(t){let e=t[xt]??Object.create(jI);return e.lView=t,e}var jI=de(N({},so),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Gn(t.lView);for(;e&&!y0(e[te]);)e=Gn(e);e&&Rf(e)},consumerOnSignalRead(){this.lView[xt]=this}});function y0(t){return t.type!==2}function C0(t){if(t[An]===null)return;let e=!0;for(;e;){let n=!1;for(let o of t[An])o.dirty&&(n=!0,o.zone===null||Zone.current===o.zone?o.run():o.zone.run(()=>o.run()));e=n&&!!(t[ne]&8192)}}var JI=100;function E0(t,e=0){let o=t[un].rendererFactory,r=!1;r||o.begin?.();try{YI(t,e)}finally{r||o.end?.()}}function YI(t,e){let n=qf();try{xr(!0),mp(t,e);let o=0;for(;Ms(t);){if(o===JI)throw new U(103,!1);o++,mp(t,1)}}finally{xr(n)}}function KI(t,e,n,o){if(wo(e))return;let r=e[ne],i=!1,a=!1;Bl(e);let u=!0,c=null,d=null;i||(y0(t)?(d=$I(e),c=ao(d)):za()===null?(u=!1,d=WI(e),c=ao(d)):e[xt]&&(lo(e[xt]),e[xt]=null));try{Af(e),yv(t.bindingStartIndex),n!==null&&l0(t,e,n,2,o),QI(e);let f=(r&3)===3;if(!i)if(f){let m=t.preOrderCheckHooks;m!==null&&Kl(e,m,null)}else{let m=t.preOrderHooks;m!==null&&Ql(e,m,0,null),Qf(e,0)}if(a||ZI(e),C0(e),_0(e,0),t.contentQueries!==null&&Ly(t,e),!i)if(f){let m=t.contentCheckHooks;m!==null&&Kl(e,m)}else{let m=t.contentHooks;m!==null&&Ql(e,m,1),Qf(e,1)}eD(t,e);let p=t.components;p!==null&&S0(e,p,0);let h=t.viewQuery;if(h!==null&&up(2,h,o),!i)if(f){let m=t.viewCheckHooks;m!==null&&Kl(e,m)}else{let m=t.viewHooks;m!==null&&Ql(e,m,2),Qf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Rl]){for(let m of e[Rl])m();e[Rl]=null}i||(g0(e),e[ne]&=-73)}catch(f){throw i||xo(e),f}finally{d!==null&&(ir(d,c),u&&GI(d)),Hl()}}function QI(t){let e=t[rt];if(e?.enter){for(let n of e.enter)n();e.enter=void 0}}function _0(t,e){for(let n=by(t);n!==null;n=My(n))for(let o=Je;o<n.length;o++){let r=n[o];T0(r,e)}}function ZI(t){for(let e=by(t);e!==null;e=My(e)){if(!(e[ne]&2))continue;let n=e[Io];for(let o=0;o<n.length;o++){let r=n[o];Rf(r)}}}function XI(t,e,n){Me(18);let o=Ot(e,t);T0(o,n),Me(19,o[$e])}function T0(t,e){Fl(t)&&mp(t,e)}function mp(t,e){let o=t[te],r=t[ne],i=t[xt],a=!!(e===0&&r&16);if(a||=!!(r&64&&e===0),a||=!!(r&1024),a||=!!(i?.dirty&&sr(i)),a||=!1,i&&(i.dirty=!1),t[ne]&=-9217,a)KI(o,t,o.template,t[$e]);else if(r&8192){let u=ee(null);try{C0(t),_0(t,1);let c=o.components;c!==null&&S0(t,c,1),g0(t)}finally{ee(u)}}}function S0(t,e,n){for(let o=0;o<e.length;o++)XI(t,e[o],n)}function eD(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let o=0;o<n.length;o++){let r=n[o];if(r<0)Qn(~r);else{let i=r,a=n[++o],u=n[++o];Ev(a,i);let c=e[i];Me(24,c),u(2,c),Me(25,c)}}}finally{Qn(-1)}}function Xp(t,e){let n=qf()?64:1088;for(t[un].changeDetectionScheduler?.notify(e);t;){t[ne]|=n;let o=Gn(t);if(wr(t)&&!o)return t;t=o}return null}function I0(t,e,n,o){return[t,!0,0,e,null,o,null,n,null,null]}function D0(t,e){let n=Je+e;if(n<t.length)return t[n]}function Ys(t,e,n,o=!0){let r=e[te];if(tD(r,e,t,n),o){let a=hp(n,t),u=e[Re],c=u.parentNode(t[Yn]);c!==null&&gI(r,t[pt],u,e,c,a)}let i=e[_o];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function w0(t,e){let n=Us(t,e);return n!==void 0&&Au(n[te],n),n}function Us(t,e){if(t.length<=Je)return;let n=Je+e,o=t[n];if(o){let r=o[Jn];r!==null&&r!==t&&Jp(r,o),e>0&&(t[n-1][Pt]=o[Pt]);let i=Ss(t,Je+e);mI(o[te],o);let a=i[cn];a!==null&&a.detachView(i[te]),o[Xe]=null,o[Pt]=null,o[ne]&=-129}return o}function tD(t,e,n,o){let r=Je+o,i=n.length;o>0&&(n[r-1][Pt]=e),o<i-Je?(e[Pt]=n[r],gf(n,Je+o,e)):(n.push(e),e[Pt]=null),e[Xe]=n;let a=e[Jn];a!==null&&n!==a&&x0(a,e);let u=e[cn];u!==null&&u.insertView(t),Ll(e),e[ne]|=128}function x0(t,e){let n=t[Io],o=e[Xe];if(dn(o))t[ne]|=2;else{let r=o[Xe][ht];e[ht]!==r&&(t[ne]|=2)}n===null?t[Io]=[e]:n.push(e)}var Zn=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[te];return Vs(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[$e]}set context(e){this._lView[$e]=e}get destroyed(){return wo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Xe];if(Kt(e)){let n=e[xs],o=n?n.indexOf(this):-1;o>-1&&(Us(e,o),Ss(n,o))}this._attachedToViewContainer=!1}Au(this._lView[te],this._lView)}onDestroy(e){Nf(this._lView,e)}markForCheck(){Xp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ne]&=-129}reattach(){Ll(this._lView),this._lView[ne]|=128}detectChanges(){this._lView[ne]|=1024,E0(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=wr(this._lView),n=this._lView[Jn];n!==null&&!e&&Jp(n,this._lView),o0(this._lView[te],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e;let n=wr(this._lView),o=this._lView[Jn];o!==null&&!n&&x0(o,this._lView),Ll(this._lView)}};var kr=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=nD;constructor(n,o,r){this._declarationLView=n,this._declarationTContainer=o,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,o){return this.createEmbeddedViewImpl(n,o)}createEmbeddedViewImpl(n,o,r){let i=Js(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:o,dehydratedView:r});return new Zn(i)}}return t})();function nD(){return eh(it(),oe())}function eh(t,e){return t.type&4?new kr(e,t,Or(t,e)):null}function Hr(t,e,n,o,r){let i=t.data[e];if(i===null)i=oD(t,e,n,o,r),Cv()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=o,i.attrs=r;let a=vv();i.injectorIndex=a===null?-1:a.injectorIndex}return bo(i,!0),i}function oD(t,e,n,o,r){let i=Uf(),a=Bf(),u=a?i:i&&i.parent,c=t.data[e]=iD(t,u,n,e,o,r);return rD(t,c,i,a),c}function rD(t,e,n,o){t.firstChild===null&&(t.firstChild=e),n!==null&&(o?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function iD(t,e,n,o,r,i){let a=e?e.injectorIndex:-1,u=0;return Lf()&&(u|=128),{type:n,index:o,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:u,providerIndexes:0,value:r,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Iq=new RegExp(`^(\\d+)*(${xS}|${wS})*(.*)`);function sD(t){let e=t[Df]??[],o=t[Xe][Re],r=[];for(let i of e)i.data[Ny]!==void 0?r.push(i):aD(i,o);t[Df]=r}function aD(t,e){let n=0,o=t.firstChild;if(o){let r=t.data[Ry];for(;n<r;){let i=o.nextSibling;Zy(e,o,!1),o=i,n++}}}var lD=()=>null,uD=()=>null;function lu(t,e){return lD(t,e)}function b0(t,e,n){return uD(t,e,n)}var M0=class{},ku=class{},gp=class{resolveComponentFactory(e){throw new U(917,!1)}},Ks=class{static NULL=new gp},Ro=class{},Qs=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>cD()}return t})();function cD(){let t=oe(),e=it(),n=Ot(e.index,t);return(dn(n)?n:t)[Re]}var A0=(()=>{class t{static \u0275prov=O({token:t,providedIn:"root",factory:()=>null})}return t})();var Xl={},vp=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,o){let r=this.injector.get(e,Xl,o);return r!==Xl||n===Xl?r:this.parentInjector.get(e,n,o)}};function uu(t,e,n){let o=n?t.styles:null,r=n?t.classes:null,i=0;if(e!==null)for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number")i=u;else if(i==1)r=Il(r,u);else if(i==2){let c=u,d=e[++a];o=Il(o,c+": "+d+";")}}n?t.styles=o:t.stylesWithoutHost=o,n?t.classes=r:t.classesWithoutHost=r}function St(t,e=0){let n=oe();if(n===null)return Q(t,e);let o=it();return Sy(o,n,Ct(t),e)}function dD(t,e,n,o,r){let i=o===null?null:{"":-1},a=r(t,n);if(a!==null){let u=a,c=null,d=null;for(let f of a)if(f.resolveHostDirectives!==null){[u,c,d]=f.resolveHostDirectives(a);break}hD(t,e,n,u,i,c,d)}i!==null&&o!==null&&fD(n,o,i)}function fD(t,e,n){let o=t.localNames=[];for(let r=0;r<e.length;r+=2){let i=n[e[r+1]];if(i==null)throw new U(-301,!1);o.push(e[r],i)}}function pD(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function hD(t,e,n,o,r,i,a){let u=o.length,c=!1;for(let h=0;h<u;h++){let m=o[h];!c&&Do(m)&&(c=!0,pD(t,n,h)),pS(Cy(n,e),t,m.type)}ED(n,t.data.length,u);for(let h=0;h<u;h++){let m=o[h];m.providersResolver&&m.providersResolver(m)}let d=!1,f=!1,p=t0(t,e,u,null);u>0&&(n.directiveToIndex=new Map);for(let h=0;h<u;h++){let m=o[h];if(n.mergedAttrs=Cu(n.mergedAttrs,m.hostAttrs),gD(t,n,e,p,m),CD(p,m,r),a!==null&&a.has(m)){let[T,D]=a.get(m);n.directiveToIndex.set(m.type,[p,T+n.directiveStart,D+n.directiveStart])}else(i===null||!i.has(m))&&n.directiveToIndex.set(m.type,p);m.contentQueries!==null&&(n.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(n.flags|=64);let E=m.type.prototype;!d&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),d=!0),!f&&(E.ngOnChanges||E.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),f=!0),p++}mD(t,n,i)}function mD(t,e,n){for(let o=e.directiveStart;o<e.directiveEnd;o++){let r=t.data[o];if(n===null||!n.has(r))jv(0,e,r,o),jv(1,e,r,o),Yv(e,o,!1);else{let i=n.get(r);Jv(0,e,i,o),Jv(1,e,i,o),Yv(e,o,!0)}}}function jv(t,e,n,o){let r=t===0?n.inputs:n.outputs;for(let i in r)if(r.hasOwnProperty(i)){let a;t===0?a=e.inputs??={}:a=e.outputs??={},a[i]??=[],a[i].push(o),R0(e,i)}}function Jv(t,e,n,o){let r=t===0?n.inputs:n.outputs;for(let i in r)if(r.hasOwnProperty(i)){let a=r[i],u;t===0?u=e.hostDirectiveInputs??={}:u=e.hostDirectiveOutputs??={},u[a]??=[],u[a].push(o,i),R0(e,a)}}function R0(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function Yv(t,e,n){let{attrs:o,inputs:r,hostDirectiveInputs:i}=t;if(o===null||!n&&r===null||n&&i===null||qp(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let a=null,u=0;for(;u<o.length;){let c=o[u];if(c===0){u+=4;continue}else if(c===5){u+=2;continue}else if(typeof c=="number")break;if(!n&&r.hasOwnProperty(c)){let d=r[c];for(let f of d)if(f===e){a??=[],a.push(c,o[u+1]);break}}else if(n&&i.hasOwnProperty(c)){let d=i[c];for(let f=0;f<d.length;f+=2)if(d[f]===e){a??=[],a.push(d[f+1],o[u+1]);break}}u+=2}t.initialInputs??=[],t.initialInputs.push(a)}function gD(t,e,n,o,r){t.data[o]=r;let i=r.factory||(r.factory=mo(r.type,!0)),a=new Os(i,Do(r),St,null);t.blueprint[o]=a,n[o]=a,vD(t,e,o,t0(t,n,r.hostVars,st),r)}function vD(t,e,n,o,r){let i=r.hostBindings;if(i){let a=t.hostBindingOpCodes;a===null&&(a=t.hostBindingOpCodes=[]);let u=~e.index;yD(a)!=u&&a.push(u),a.push(n,o,i)}}function yD(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function CD(t,e,n){if(n){if(e.exportAs)for(let o=0;o<e.exportAs.length;o++)n[e.exportAs[o]]=t;Do(e)&&(n[""]=t)}}function ED(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function N0(t,e,n,o,r,i,a,u){let c=e[te],d=c.consts,f=fn(d,a),p=Hr(c,t,n,o,f);return i&&dD(c,e,p,fn(d,u),r),p.mergedAttrs=Cu(p.mergedAttrs,p.attrs),p.attrs!==null&&uu(p,p.attrs,!1),p.mergedAttrs!==null&&uu(p,p.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,p),p}function k0(t,e){oS(t,e),wf(e)&&t.queries.elementEnd(e)}function _D(t,e,n,o,r,i){let a=e.consts,u=fn(a,r),c=Hr(e,t,n,o,u);if(c.mergedAttrs=Cu(c.mergedAttrs,c.attrs),i!=null){let d=fn(a,i);c.localNames=[];for(let f=0;f<d.length;f+=2)c.localNames.push(d[f],-1)}return c.attrs!==null&&uu(c,c.attrs,!1),c.mergedAttrs!==null&&uu(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function th(t,e,n){return t[e]=n}function TD(t,e){return t[e]}function Mt(t,e,n){if(n===st)return!1;let o=t[e];return Object.is(o,n)?!1:(t[e]=n,!0)}function nh(t,e,n,o){let r=Mt(t,e,n);return Mt(t,e+1,o)||r}function SD(t,e,n,o,r){let i=nh(t,e,n,o);return Mt(t,e+2,r)||i}function eu(t,e,n){return function o(r){let i=Rn(t)?Ot(t.index,e):e;Xp(i,5);let a=e[$e],u=Kv(e,a,n,r),c=o.__ngNextListenerFn__;for(;c;)u=Kv(e,a,c,r)&&u,c=c.__ngNextListenerFn__;return u}}function Kv(t,e,n,o){let r=ee(null);try{return Me(6,e,n),n(o)!==!1}catch(i){return VI(t,i),!1}finally{Me(7,e,n),ee(r)}}function P0(t,e,n,o,r,i,a,u){let c=kl(t),d=!1,f=null;if(!o&&c&&(f=DD(e,n,i,t.index)),f!==null){let p=f.__ngLastListenerFn__||f;p.__ngNextListenerFn__=a,f.__ngLastListenerFn__=a,d=!0}else{let p=Lt(t,n),h=o?o(p):p;MS(n,h,i,u);let m=r.listen(h,i,u);if(!ID(i)){let E=o?T=>o(Ft(T[t.index])):t.index;F0(E,e,n,i,u,m,!1)}}return d}function ID(t){return t.startsWith("animation")||t.startsWith("transition")}function DD(t,e,n,o){let r=t.cleanup;if(r!=null)for(let i=0;i<r.length-1;i+=2){let a=r[i];if(a===n&&r[i+1]===o){let u=e[Sr],c=r[i+2];return u&&u.length>c?u[c]:null}typeof a=="string"&&(i+=2)}return null}function F0(t,e,n,o,r,i,a){let u=e.firstCreatePass?Pf(e):null,c=kf(n),d=c.length;c.push(r,i),u&&u.push(o,t,d,(d+1)*(a?-1:1))}function Qv(t,e,n,o,r,i){let a=e[n],u=e[te],d=u.data[n].outputs[o],p=a[d].subscribe(i);F0(t.index,u,e,r,i,p,!0)}var yp=Symbol("BINDING");var cu=class extends Ks{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=jn(e);return new Pr(n,this.ngModule)}};function wD(t){return Object.keys(t).map(e=>{let[n,o,r]=t[e],i={propName:n,templateName:e,isSignal:(o&bu.SignalBased)!==0};return r&&(i.transform=r),i})}function xD(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function bD(t,e,n){let o=e instanceof je?e:e?.injector;return o&&t.getStandaloneInjector!==null&&(o=t.getStandaloneInjector(o)||o),o?new vp(n,o):n}function MD(t){let e=t.get(Ro,null);if(e===null)throw new U(407,!1);let n=t.get(A0,null),o=t.get(jt,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:o,ngReflect:!1}}function AD(t,e){let n=L0(t);return Ky(e,n,n==="svg"?xf:n==="math"?lv:null)}function L0(t){return(t.selectors[0][0]||"div").toLowerCase()}var Pr=class extends ku{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=wD(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=xD(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=iI(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,o,r,i,a){Me(22);let u=ee(null);try{let c=this.componentDef,d=RD(o,c,a,i),f=bD(c,r||this.ngModule,e),p=MD(f),h=p.rendererFactory.createRenderer(null,c),m=o?xI(h,o,c.encapsulation,f):AD(c,h),E=a?.some(Zv)||i?.some(w=>typeof w!="function"&&w.bindings.some(Zv)),T=zp(null,d,null,512|e0(c),null,null,p,h,f,null,Fy(m,f,!0));T[Ve]=m,Bl(T);let D=null;try{let w=N0(Ve,T,2,"#host",()=>d.directiveRegistry,!0,0);Xy(h,m,w),Rr(m,T),u0(d,T,w),Oy(d,w,T),k0(d,w),n!==void 0&&kD(w,this.ngContentSelectors,n),D=Ot(w.index,T),T[$e]=D[$e],Zp(d,T,null)}catch(w){throw D!==null&&ap(D),ap(T),w}finally{Me(23),Hl()}return new du(this.componentType,T,!!E)}finally{ee(u)}}};function RD(t,e,n,o){let r=t?["ng-version","20.3.2"]:sI(e.selectors[0]),i=null,a=null,u=0;if(n)for(let f of n)u+=f[yp].requiredVars,f.create&&(f.targetIdx=0,(i??=[]).push(f)),f.update&&(f.targetIdx=0,(a??=[]).push(f));if(o)for(let f=0;f<o.length;f++){let p=o[f];if(typeof p!="function")for(let h of p.bindings){u+=h[yp].requiredVars;let m=f+1;h.create&&(h.targetIdx=m,(i??=[]).push(h)),h.update&&(h.targetIdx=m,(a??=[]).push(h))}}let c=[e];if(o)for(let f of o){let p=typeof f=="function"?f:f.type,h=Ef(p);c.push(h)}return Gp(0,null,ND(i,a),1,u,c,null,null,null,[r],null)}function ND(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let o of t)o.create();if(n&2&&e)for(let o of e)o.update()}}function Zv(t){let e=t[yp].kind;return e==="input"||e==="twoWay"}var du=class extends M0{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,o){super(),this._rootLView=n,this._hasInputBindings=o,this._tNode=bs(n[te],Ve),this.location=Or(this._tNode,n),this.instance=Ot(this._tNode.index,n)[$e],this.hostView=this.changeDetectorRef=new Zn(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let o=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let r=this._rootLView,i=Nu(o,r[te],r,e,n);this.previousInputValues.set(e,n);let a=Ot(o.index,r);Xp(a,1)}get injector(){return new Ao(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function kD(t,e,n){let o=t.projection=[];for(let r=0;r<e.length;r++){let i=n[r];o.push(i!=null&&i.length?Array.from(i):null)}}var Po=(()=>{class t{static __NG_ELEMENT_ID__=PD}return t})();function PD(){let t=it();return V0(t,oe())}var FD=Po,O0=class extends FD{_lContainer;_hostTNode;_hostLView;constructor(e,n,o){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=o}get element(){return Or(this._hostTNode,this._hostLView)}get injector(){return new Ao(this._hostTNode,this._hostLView)}get parentInjector(){let e=Lp(this._hostTNode,this._hostLView);if(gy(e)){let n=ou(e,this._hostLView),o=nu(e),r=n[te].data[o+8];return new Ao(r,n)}else return new Ao(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Xv(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Je}createEmbeddedView(e,n,o){let r,i;typeof o=="number"?r=o:o!=null&&(r=o.index,i=o.injector);let a=lu(this._lContainer,e.ssrId),u=e.createEmbeddedViewImpl(n||{},i,a);return this.insertImpl(u,r,Nr(this._hostTNode,a)),u}createComponent(e,n,o,r,i,a,u){let c=e&&!ZT(e),d;if(c)d=n;else{let D=n||{};d=D.index,o=D.injector,r=D.projectableNodes,i=D.environmentInjector||D.ngModuleRef,a=D.directives,u=D.bindings}let f=c?e:new Pr(jn(e)),p=o||this.parentInjector;if(!i&&f.ngModule==null){let w=(c?p:this.parentInjector).get(je,null);w&&(i=w)}let h=jn(f.componentType??{}),m=lu(this._lContainer,h?.id??null),E=m?.firstChild??null,T=f.create(p,r,E,i,a,u);return this.insertImpl(T.hostView,d,Nr(this._hostTNode,m)),T}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,o){let r=e._lView;if(cv(r)){let u=this.indexOf(e);if(u!==-1)this.detach(u);else{let c=r[Xe],d=new O0(c,c[pt],c[Xe]);d.detach(d.indexOf(e))}}let i=this._adjustIndex(n),a=this._lContainer;return Ys(a,r,i,o),e.attachToViewContainerRef(),gf(ep(a),i,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Xv(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),o=Us(this._lContainer,n);o&&(Ss(ep(this._lContainer),n),Au(o[te],o))}detach(e){let n=this._adjustIndex(e,-1),o=Us(this._lContainer,n);return o&&Ss(ep(this._lContainer),n)!=null?new Zn(o):null}_adjustIndex(e,n=0){return e??this.length+n}};function Xv(t){return t[xs]}function ep(t){return t[xs]||(t[xs]=[])}function V0(t,e){let n,o=e[t.index];return Kt(o)?n=o:(n=I0(o,e,null,t),e[t.index]=n,Wp(e,n)),OD(n,e,t,o),new O0(n,t,e)}function LD(t,e){let n=t[Re],o=n.createComment(""),r=Lt(e,t),i=n.parentNode(r);return au(n,i,o,n.nextSibling(r),!1),o}var OD=BD,VD=()=>!1;function UD(t,e,n){return VD(t,e,n)}function BD(t,e,n,o){if(t[Yn])return;let r;n.type&8?r=Ft(o):r=LD(e,n),t[Yn]=r}var Cp=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Ep=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let o=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let i=0;i<o;i++){let a=n.getByIndex(i),u=this.queries[a.indexInDeclarationView];r.push(u.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)oh(e,n).matches!==null&&this.queries[n].setDirty()}},_p=class{flags;read;predicate;constructor(e,n,o=null){this.flags=n,this.read=o,typeof e=="string"?this.predicate=JD(e):this.predicate=e}},Tp=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let o=0;o<this.length;o++){let r=n!==null?n.length:0,i=this.getByIndex(o).embeddedTView(e,r);i&&(i.indexInDeclarationView=o,n!==null?n.push(i):n=[i])}return n!==null?new t(n):null}template(e,n){for(let o=0;o<this.queries.length;o++)this.queries[o].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Sp=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,o=e.parent;for(;o!==null&&o.type&8&&o.index!==n;)o=o.parent;return n===(o!==null?o.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let o=this.metadata.predicate;if(Array.isArray(o))for(let r=0;r<o.length;r++){let i=o[r];this.matchTNodeWithReadOption(e,n,HD(n,i)),this.matchTNodeWithReadOption(e,n,Zl(n,e,i,!1,!1))}else o===kr?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Zl(n,e,o,!1,!1))}matchTNodeWithReadOption(e,n,o){if(o!==null){let r=this.metadata.read;if(r!==null)if(r===Pn||r===Po||r===kr&&n.type&4)this.addMatch(n.index,-2);else{let i=Zl(n,e,r,!1,!1);i!==null&&this.addMatch(n.index,i)}else this.addMatch(n.index,o)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function HD(t,e){let n=t.localNames;if(n!==null){for(let o=0;o<n.length;o+=2)if(n[o]===e)return n[o+1]}return null}function $D(t,e){return t.type&11?Or(t,e):t.type&4?eh(t,e):null}function qD(t,e,n,o){return n===-1?$D(e,t):n===-2?GD(t,e,o):ru(t,t[te],n,e)}function GD(t,e,n){if(n===Pn)return Or(e,t);if(n===kr)return eh(e,t);if(n===Po)return V0(e,t)}function U0(t,e,n,o){let r=e[cn].queries[o];if(r.matches===null){let i=t.data,a=n.matches,u=[];for(let c=0;a!==null&&c<a.length;c+=2){let d=a[c];if(d<0)u.push(null);else{let f=i[d];u.push(qD(e,f,a[c+1],n.metadata.read))}}r.matches=u}return r.matches}function Ip(t,e,n,o){let r=t.queries.getByIndex(n),i=r.matches;if(i!==null){let a=U0(t,e,r,n);for(let u=0;u<i.length;u+=2){let c=i[u];if(c>0)o.push(a[u/2]);else{let d=i[u+1],f=e[-c];for(let p=Je;p<f.length;p++){let h=f[p];h[Jn]===h[Xe]&&Ip(h[te],h,d,o)}if(f[Io]!==null){let p=f[Io];for(let h=0;h<p.length;h++){let m=p[h];Ip(m[te],m,d,o)}}}}}return o}function zD(t,e){return t[cn].queries[e].queryList}function WD(t,e,n){let o=new iu((n&4)===4);return pv(t,e,o,o.destroy),(e[cn]??=new Ep).queries.push(new Cp(o))-1}function jD(t,e,n,o){let r=Ye();if(r.firstCreatePass){let i=it();YD(r,new _p(e,n,o),i.index),KD(r,t),(n&2)===2&&(r.staticContentQueries=!0)}return WD(r,oe(),n)}function JD(t){return t.split(",").map(e=>e.trim())}function YD(t,e,n){t.queries===null&&(t.queries=new Tp),t.queries.track(new Sp(e,n))}function KD(t,e){let n=t.contentQueries||(t.contentQueries=[]),o=n.length?n[n.length-1]:-1;e!==o&&n.push(t.queries.length-1,e)}function oh(t,e){return t.queries.getByIndex(e)}function QD(t,e){let n=t[te],o=oh(n,e);return o.crossesNgTemplate?Ip(n,t,e,[]):U0(n,t,o,e)}var ey=new Set;function Ln(t){ey.has(t)||(ey.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Fr=class{},Pu=class{};var fu=class extends Fr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new cu(this);constructor(e,n,o,r=!0){super(),this.ngModuleType=e,this._parent=n;let i=Cf(e);this._bootstrapComponents=jy(i.bootstrap),this._r3Injector=Jf(e,n,[{provide:Fr,useValue:this},{provide:Ks,useValue:this.componentFactoryResolver},...o],Mn(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},pu=class extends Pu{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new fu(this.moduleType,e,[])}};var Bs=class extends Fr{injector;componentFactoryResolver=new cu(this);instance=null;constructor(e){super();let n=new go([...e.providers,{provide:Fr,useValue:this},{provide:Ks,useValue:this.componentFactoryResolver}],e.parent||Ds(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Zs(t,e,n=null){return new Bs({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var ZD=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let o=_f(!1,n.type),r=o.length>0?Zs([o],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=O({token:t,providedIn:"environment",factory:()=>new t(Q(je))})}return t})();function x(t){return Gs(()=>{let e=B0(t),n=de(N({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Op.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?r=>r.get(ZD).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Nn.Emulated,styles:t.styles||Et,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Ln("NgStandalone"),H0(n);let o=t.dependencies;return n.directiveDefs=ty(o,XD),n.pipeDefs=ty(o,tv),n.id=nw(n),n})}function XD(t){return jn(t)||Ef(t)}function Fo(t){return Gs(()=>({type:t.type,bootstrap:t.bootstrap||Et,declarations:t.declarations||Et,imports:t.imports||Et,exports:t.exports||Et,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ew(t,e){if(t==null)return Co;let n={};for(let o in t)if(t.hasOwnProperty(o)){let r=t[o],i,a,u,c;Array.isArray(r)?(u=r[0],i=r[1],a=r[2]??i,c=r[3]||null):(i=r,a=r,u=bu.None,c=null),n[i]=[o,u,c],e[i]=a}return n}function tw(t){if(t==null)return Co;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Lo(t){return Gs(()=>{let e=B0(t);return H0(e),e})}function B0(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Co,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Et,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:ew(t.inputs,e),outputs:tw(t.outputs),debugInfo:null}}function H0(t){t.features?.forEach(e=>e(t))}function ty(t,e){return t?()=>{let n=typeof t=="function"?t():t,o=[];for(let r of n){let i=e(r);i!==null&&o.push(i)}return o}:null}function nw(t){let e=0,n=typeof t.consts=="function"?"":t.consts,o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let i of o.join("|"))e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function ow(t,e,n,o,r,i,a,u){if(n.firstCreatePass){t.mergedAttrs=Cu(t.mergedAttrs,t.attrs);let f=t.tView=Gp(2,t,r,i,a,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),f.queries=n.queries.embeddedTView(t))}u&&(t.flags|=u),bo(t,!1);let c=rw(n,e,t,o);ql()&&Yp(n,e,c,t),Rr(c,e);let d=I0(c,e,c,t);e[o+Ve]=d,Wp(e,d),UD(d,t,e)}function Hs(t,e,n,o,r,i,a,u,c,d,f){let p=n+Ve,h;if(e.firstCreatePass){if(h=Hr(e,p,4,a||null,u||null),d!=null){let m=fn(e.consts,d);h.localNames=[];for(let E=0;E<m.length;E+=2)h.localNames.push(m[E],-1)}}else h=e.data[p];return ow(h,t,e,n,o,r,i,c),d!=null&&Qp(t,h,f),h}var rw=iw;function iw(t,e,n,o){return Gl(!0),e[Re].createComment("")}var rh=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(rh||{}),Xs=new Y(""),$0=!1,Dp=class extends Be{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,sv()&&(this.destroyRef=_(Tt,{optional:!0})??void 0,this.pendingTasks=_(pn,{optional:!0})??void 0)}emit(e){let n=ee(null);try{super.next(e)}finally{ee(n)}}subscribe(e,n,o){let r=e,i=n||(()=>null),a=o;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),i=c.error?.bind(c),a=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),r&&(r=this.wrapInTimeout(r)),a&&(a=this.wrapInTimeout(a)));let u=super.subscribe({next:r,error:i,complete:a});return e instanceof Ge&&e.add(u),u}wrapInTimeout(e){return n=>{let o=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{o!==void 0&&this.pendingTasks?.remove(o)}})}}},ut=Dp;function q0(t){let e,n;function o(){t=Mo;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),o()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),o()})),()=>o()}function ny(t){return queueMicrotask(()=>t()),()=>{t=Mo}}var ih="isAngularZone",hu=ih+"_ID",sw=0,Ke=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ut(!1);onMicrotaskEmpty=new ut(!1);onStable=new ut(!1);onError=new ut(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:i=$0}=e;if(typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!r&&o,a.shouldCoalesceRunChangeDetection=r,a.callbackScheduled=!1,a.scheduleInRootZone=i,uw(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ih)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new U(909,!1)}run(e,n,o){return this._inner.run(e,n,o)}runTask(e,n,o,r){let i=this._inner,a=i.scheduleEventTask("NgZoneEvent: "+r,e,aw,Mo,Mo);try{return i.runTask(a,n,o)}finally{i.cancelTask(a)}}runGuarded(e,n,o){return this._inner.runGuarded(e,n,o)}runOutsideAngular(e){return this._outer.run(e)}},aw={};function sh(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function lw(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){q0(()=>{t.callbackScheduled=!1,wp(t),t.isCheckStableRunning=!0,sh(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),wp(t)}function uw(t){let e=()=>{lw(t)},n=sw++;t._inner=t._inner.fork({name:"angular",properties:{[ih]:!0,[hu]:n,[hu+n]:!0},onInvokeTask:(o,r,i,a,u,c)=>{if(cw(c))return o.invokeTask(i,a,u,c);try{return oy(t),o.invokeTask(i,a,u,c)}finally{(t.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),ry(t)}},onInvoke:(o,r,i,a,u,c,d)=>{try{return oy(t),o.invoke(i,a,u,c,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!dw(c)&&e(),ry(t)}},onHasTask:(o,r,i,a)=>{o.hasTask(i,a),r===i&&(a.change=="microTask"?(t._hasPendingMicrotasks=a.microTask,wp(t),sh(t)):a.change=="macroTask"&&(t.hasPendingMacrotasks=a.macroTask))},onHandleError:(o,r,i,a)=>(o.handleError(i,a),t.runOutsideAngular(()=>t.onError.emit(a)),!1)})}function wp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function oy(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ry(t){t._nesting--,sh(t)}var $s=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ut;onMicrotaskEmpty=new ut;onStable=new ut;onError=new ut;run(e,n,o){return e.apply(n,o)}runGuarded(e,n,o){return e.apply(n,o)}runOutsideAngular(e){return e()}runTask(e,n,o,r){return e.apply(n,o)}};function cw(t){return G0(t,"__ignore_ng_zone__")}function dw(t){return G0(t,"__scheduler_tick__")}function G0(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var z0=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=O({token:t,providedIn:"root",factory:()=>new t})}return t})();var ah=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(o){return new(o||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var lh=new Y("");function ea(t){return!!t&&typeof t.then=="function"}function W0(t){return!!t&&typeof t.subscribe=="function"}var j0=new Y("");var uh=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,o)=>{this.resolve=n,this.reject=o});appInits=_(j0,{optional:!0})??[];injector=_(_t);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let i=ot(this.injector,r);if(ea(i))n.push(i);else if(W0(i)){let a=new Promise((u,c)=>{i.subscribe({complete:u,error:c})});n.push(a)}}let o=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{o()}).catch(r=>{this.reject(r)}),n.length===0&&o(),this.initialized=!0}static \u0275fac=function(o){return new(o||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Fu=new Y("");function J0(){kd(()=>{let t="";throw new U(600,t)})}function Y0(t){return t.isBoundToModule}var fw=10;var Oo=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=_(bt);afterRenderManager=_(z0);zonelessEnabled=_(Ns);rootEffectScheduler=_(Ps);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Be;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=_(pn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(G(n=>!n))}constructor(){_(Xs,{optional:!0})}whenStable(){let n;return new Promise(o=>{n=this.isStable.subscribe({next:r=>{r&&o()}})}).finally(()=>{n.unsubscribe()})}_injector=_(je);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,o){return this.bootstrapImpl(n,o)}bootstrapImpl(n,o,r=_t.NULL){return this._injector.get(Ke).run(()=>{Me(10);let a=n instanceof ku;if(!this._injector.get(uh).done){let E="";throw new U(405,E)}let c;a?c=n:c=this._injector.get(Ks).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let d=Y0(c)?void 0:this._injector.get(Fr),f=o||c.selector,p=c.create(r,[],f,d),h=p.location.nativeElement,m=p.injector.get(lh,null);return m?.registerApplication(h),p.onDestroy(()=>{this.detachView(p.hostView),Ls(this.components,p),m?.unregisterApplication(h)}),this._loadComponent(p),Me(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Me(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(rh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new U(101,!1);let n=ee(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ee(n),this.afterTick.next(),Me(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ro,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<fw;)Me(14),this.synchronizeOnce(),Me(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let o=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r}of this.allViews){if(!o&&!Ms(r))continue;let i=o&&!this.zonelessEnabled?0:1;E0(r,i),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Ms(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let o=n;this._views.push(o),o.attachToAppRef(this)}detachView(n){let o=n;Ls(this._views,o),o.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(r){this.internalErrorHandler(r)}this.components.push(n),this._injector.get(Fu,[]).forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ls(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new U(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(o){return new(o||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ls(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var tp="aria";function Lu(t,e){let n=oe(),o=Kn();if(Mt(n,o,e)){let r=Ye(),i=Rs();if(Nu(i,r,n,t,e))Rn(i)&&d0(n,i.index);else{let u=Lt(i,n),c=pw(t);f0(n[Re],u,null,i.value,c,e,null)}}return Lu}function pw(t){return t.charAt(tp.length)!=="-"?tp+"-"+t.slice(tp.length).toLowerCase():t}function Ou(t,e,n,o){let r=oe(),i=Kn();if(Mt(r,i,e)){let a=Ye(),u=Rs();LI(u,r,t,e,n,o)}return Ou}var Rq=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var xp=class{destroy(e){}updateValue(e,n){}swap(e,n){let o=Math.min(e,n),r=Math.max(e,n),i=this.detach(r);if(r-o>1){let a=this.detach(o);this.attach(o,i),this.attach(r,a)}else this.attach(o,i)}move(e,n){this.attach(n,this.detach(e,!0))}};function np(t,e,n,o,r){return t===n&&Object.is(e,o)?1:Object.is(r(t,e),r(n,o))?-1:0}function hw(t,e,n){let o,r,i=0,a=t.length-1,u=void 0;if(Array.isArray(e)){let c=e.length-1;for(;i<=a&&i<=c;){let d=t.at(i),f=e[i],p=np(i,d,i,f,n);if(p!==0){p<0&&t.updateValue(i,f),i++;continue}let h=t.at(a),m=e[c],E=np(a,h,c,m,n);if(E!==0){E<0&&t.updateValue(a,m),a--,c--;continue}let T=n(i,d),D=n(a,h),w=n(i,f);if(Object.is(w,D)){let R=n(c,m);Object.is(R,T)?(t.swap(i,a),t.updateValue(a,m),c--,a--):t.move(a,i),t.updateValue(i,f),i++;continue}if(o??=new mu,r??=sy(t,i,a,n),bp(t,o,i,w))t.updateValue(i,f),i++,a++;else if(r.has(w))o.set(T,t.detach(i)),a--;else{let R=t.create(i,e[i]);t.attach(i,R),i++,a++}}for(;i<=c;)iy(t,o,n,i,e[i]),i++}else if(e!=null){let c=e[Symbol.iterator](),d=c.next();for(;!d.done&&i<=a;){let f=t.at(i),p=d.value,h=np(i,f,i,p,n);if(h!==0)h<0&&t.updateValue(i,p),i++,d=c.next();else{o??=new mu,r??=sy(t,i,a,n);let m=n(i,p);if(bp(t,o,i,m))t.updateValue(i,p),i++,a++,d=c.next();else if(!r.has(m))t.attach(i,t.create(i,p)),i++,a++,d=c.next();else{let E=n(i,f);o.set(E,t.detach(i)),a--}}}for(;!d.done;)iy(t,o,n,t.length,d.value),d=c.next()}for(;i<=a;)t.destroy(t.detach(a--));o?.forEach(c=>{t.destroy(c)})}function bp(t,e,n,o){return e!==void 0&&e.has(o)?(t.attach(n,e.get(o)),e.delete(o),!0):!1}function iy(t,e,n,o,r){if(bp(t,e,o,n(o,r)))t.updateValue(o,r);else{let i=t.create(o,r);t.attach(o,i)}}function sy(t,e,n,o){let r=new Set;for(let i=e;i<=n;i++)r.add(o(i,t.at(i)));return r}var mu=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let o=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(o);)o=r.get(o);r.set(o,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,o]of this.kvMap)if(e(o,n),this._vMap!==void 0){let r=this._vMap;for(;r.has(o);)o=r.get(o),e(o,n)}}};function k(t,e,n,o,r,i,a,u){Ln("NgControlFlow");let c=oe(),d=Ye(),f=fn(d.consts,i);return Hs(c,d,t,e,n,o,r,f,256,a,u),ch}function ch(t,e,n,o,r,i,a,u){Ln("NgControlFlow");let c=oe(),d=Ye(),f=fn(d.consts,i);return Hs(c,d,t,e,n,o,r,f,512,a,u),ch}function P(t,e){Ln("NgControlFlow");let n=oe(),o=Kn(),r=n[o]!==st?n[o]:-1,i=r!==-1?gu(n,Ve+r):void 0,a=0;if(Mt(n,o,t)){let u=ee(null);try{if(i!==void 0&&w0(i,a),t!==-1){let c=Ve+t,d=gu(n,c),f=Np(n[te],c),p=b0(d,f,n),h=Js(n,f,e,{dehydratedView:p});Ys(d,h,a,Nr(f,p))}}finally{ee(u)}}else if(i!==void 0){let u=D0(i,a);u!==void 0&&(u[$e]=e)}}var Mp=class{lContainer;$implicit;$index;constructor(e,n,o){this.lContainer=e,this.$implicit=n,this.$index=o}get $count(){return this.lContainer.length-Je}};function $r(t){return t}function ta(t,e){return e}var Ap=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,o){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=o}};function Ce(t,e,n,o,r,i,a,u,c,d,f,p,h){Ln("NgControlFlow");let m=oe(),E=Ye(),T=c!==void 0,D=oe(),w=u?a.bind(D[ht][$e]):a,R=new Ap(T,w);D[Ve+t]=R,Hs(m,E,t+1,e,n,o,r,fn(E.consts,i),256),T&&Hs(m,E,t+2,c,d,f,p,fn(E.consts,h),512)}var Rp=class extends xp{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,o){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=o}get length(){return this.lContainer.length-Je}at(e){return this.getLView(e)[$e].$implicit}attach(e,n){let o=n[_o];this.needsIndexUpdate||=e!==this.length,Ys(this.lContainer,n,e,Nr(this.templateTNode,o))}detach(e,n){return this.needsIndexUpdate||=e!==this.length-1,n&&mw(this.lContainer,e),gw(this.lContainer,e)}create(e,n){let o=lu(this.lContainer,this.templateTNode.tView.ssrId),r=Js(this.hostLView,this.templateTNode,new Mp(this.lContainer,n,e),{dehydratedView:o});return this.operationsCounter?.recordCreate(),r}destroy(e){Au(e[te],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[$e].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[$e].$index=e}getLView(e){return vw(this.lContainer,e)}};function Ee(t){let e=ee(null),n=Vt();try{let o=oe(),r=o[te],i=o[n],a=n+1,u=gu(o,a);if(i.liveCollection===void 0){let d=Np(r,a);i.liveCollection=new Rp(u,o,d)}else i.liveCollection.reset();let c=i.liveCollection;if(hw(c,t,i.trackByFn),c.updateIndexes(),i.hasEmptyBlock){let d=Kn(),f=c.length===0;if(Mt(o,d,f)){let p=n+2,h=gu(o,p);if(f){let m=Np(r,p),E=b0(h,m,o),T=Js(o,m,void 0,{dehydratedView:E});Ys(h,T,0,Nr(m,E))}else r.firstUpdatePass&&sD(h),w0(h,0)}}}finally{ee(e)}}function gu(t,e){return t[e]}function mw(t,e){if(t.length<=Je)return;let n=Je+e,o=t[n];o&&o[rt]&&(o[rt].skipLeaveAnimations=!0)}function gw(t,e){return Us(t,e)}function vw(t,e){return D0(t,e)}function Np(t,e){return bs(t,e)}function F(t,e,n){let o=oe(),r=Kn();if(Mt(o,r,e)){let i=Ye(),a=Rs();RI(a,o,t,e,o[Re],n)}return F}function kp(t,e,n,o,r){Nu(e,t,n,r?"class":"style",o)}function y(t,e,n,o){let r=oe(),i=r[te],a=t+Ve,u=i.firstCreatePass?N0(a,r,2,e,FI,gv(),n,o):i.data[a];if(p0(u,r,t,e,K0),kl(u)){let c=r[te];u0(c,r,u),Oy(c,u,r)}return o!=null&&Qp(r,u),y}function v(){let t=Ye(),e=it(),n=h0(e);return t.firstCreatePass&&k0(t,n),Of(n)&&Vf(),Ff(),n.classesWithoutHost!=null&&iS(n)&&kp(t,n,oe(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&sS(n)&&kp(t,n,oe(),n.stylesWithoutHost,!1),v}function b(t,e,n,o){return y(t,e,n,o),v(),b}function A(t,e,n,o){let r=oe(),i=r[te],a=t+Ve,u=i.firstCreatePass?_D(a,i,2,e,n,o):i.data[a];return p0(u,r,t,e,K0),o!=null&&Qp(r,u),A}function M(){let t=it(),e=h0(t);return Of(e)&&Vf(),Ff(),M}function z(t,e,n,o){return A(t,e,n,o),M(),z}var K0=(t,e,n,o,r)=>(Gl(!0),Ky(e[Re],o,xv()));function _e(){return oe()}function Vu(t,e,n){let o=oe(),r=Kn();if(Mt(o,r,e)){let i=Ye(),a=Rs();c0(a,o,t,e,o[Re],n)}return Vu}var na="en-US";var yw=na;function Q0(t){typeof t=="string"&&(yw=t.toLowerCase().replace(/_/g,"-"))}function j(t,e,n){let o=oe(),r=Ye(),i=it();return Cw(r,o,o[Re],i,t,e,n),j}function oa(t,e,n){let o=oe(),r=Ye(),i=it();return(i.type&3||n)&&P0(i,r,o,n,o[Re],t,e,eu(i,o,e)),oa}function Cw(t,e,n,o,r,i,a){let u=!0,c=null;if((o.type&3||a)&&(c??=eu(o,e,i),P0(o,t,e,a,n,r,i,c)&&(u=!1)),u){let d=o.outputs?.[r],f=o.hostDirectiveOutputs?.[r];if(f&&f.length)for(let p=0;p<f.length;p+=2){let h=f[p],m=f[p+1];c??=eu(o,e,i),Qv(o,e,h,m,r,c)}if(d&&d.length)for(let p of d)c??=eu(o,e,i),Qv(o,e,p,r,r,c)}}function I(t=1){return wv(t)}function Ew(t,e){let n=null,o=eI(t);for(let r=0;r<e.length;r++){let i=e[r];if(i==="*"){n=r;continue}if(o===null?Yy(t,i,!0):oI(o,i))return r}return n}function dh(t){let e=oe()[ht][pt];if(!e.projection){let n=t?t.length:1,o=e.projection=Xg(n,null),r=o.slice(),i=e.child;for(;i!==null;){if(i.type!==128){let a=t?Ew(i,t):0;a!==null&&(r[a]?r[a].projectionNext=i:o[a]=i,r[a]=i)}i=i.next}}}function ra(t,e=0,n,o,r,i){let a=oe(),u=Ye(),c=o?t+1:null;c!==null&&Hs(a,u,c,o,r,i,null,n);let d=Hr(u,Ve+t,16,null,n||null);d.projection===null&&(d.projection=e),Hf();let p=!a[_o]||Lf();a[ht][pt].projection[d.projection]===null&&c!==null?_w(a,u,c):p&&!Iu(d)&&II(u,a,d)}function _w(t,e,n){let o=Ve+n,r=e.data[o],i=t[o],a=lu(i,r.tView.ssrId),u=Js(t,r,void 0,{dehydratedView:a});Ys(i,u,0,Nr(r,a))}function fh(t,e,n,o){jD(t,e,n,o)}function ph(t){let e=oe(),n=Ye(),o=zf();Ul(o+1);let r=oh(n,o);if(t.dirty&&uv(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let i=QD(e,o);t.reset(i,ES),t.notifyOnChanges()}return!0}return!1}function hh(){return zD(oe(),zf())}function Uu(t){let e=$f();return Mf(e,Ve+t)}function Yl(t,e){return t<<17|e<<2}function No(t){return t>>17&32767}function Tw(t){return(t&2)==2}function Sw(t,e){return t&131071|e<<17}function Pp(t){return t|2}function Lr(t){return(t&131068)>>2}function op(t,e){return t&-131069|e<<2}function Iw(t){return(t&1)===1}function Fp(t){return t|1}function Dw(t,e,n,o,r,i){let a=i?e.classBindings:e.styleBindings,u=No(a),c=Lr(a);t[o]=n;let d=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||Tr(p,f)>0)&&(d=!0)}else f=n;if(r)if(c!==0){let h=No(t[u+1]);t[o+1]=Yl(h,u),h!==0&&(t[h+1]=op(t[h+1],o)),t[u+1]=Sw(t[u+1],o)}else t[o+1]=Yl(u,0),u!==0&&(t[u+1]=op(t[u+1],o)),u=o;else t[o+1]=Yl(c,0),u===0?u=o:t[c+1]=op(t[c+1],o),c=o;d&&(t[o+1]=Pp(t[o+1])),ay(t,f,o,!0),ay(t,f,o,!1),ww(e,f,t,o,i),a=Yl(u,c),i?e.classBindings=a:e.styleBindings=a}function ww(t,e,n,o,r){let i=r?t.residualClasses:t.residualStyles;i!=null&&typeof e=="string"&&Tr(i,e)>=0&&(n[o+1]=Fp(n[o+1]))}function ay(t,e,n,o){let r=t[n+1],i=e===null,a=o?No(r):Lr(r),u=!1;for(;a!==0&&(u===!1||i);){let c=t[a],d=t[a+1];xw(c,e)&&(u=!0,t[a+1]=o?Fp(d):Pp(d)),a=o?No(d):Lr(d)}u&&(t[n+1]=o?Pp(r):Fp(r))}function xw(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Tr(t,e)>=0:!1}var Zt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function bw(t){return t.substring(Zt.key,Zt.keyEnd)}function Mw(t){return Aw(t),Z0(t,X0(t,0,Zt.textEnd))}function Z0(t,e){let n=Zt.textEnd;return n===e?-1:(e=Zt.keyEnd=Rw(t,Zt.key=e,n),X0(t,e,n))}function Aw(t){Zt.key=0,Zt.keyEnd=0,Zt.value=0,Zt.valueEnd=0,Zt.textEnd=t.length}function X0(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Rw(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function Xt(t,e,n){return eC(t,e,n,!1),Xt}function Oe(t,e){return eC(t,e,null,!0),Oe}function qe(t){kw(Uw,Nw,t,!0)}function Nw(t,e){for(let n=Mw(e);n>=0;n=Z0(e,n))Ml(t,bw(e),!0)}function eC(t,e,n,o){let r=oe(),i=Ye(),a=As(2);if(i.firstUpdatePass&&nC(i,t,a,o),e!==st&&Mt(r,a,e)){let u=i.data[Vt()];oC(i,u,r,r[Re],t,r[a+1]=Hw(e,n),o,a)}}function kw(t,e,n,o){let r=Ye(),i=As(2);r.firstUpdatePass&&nC(r,null,i,o);let a=oe();if(n!==st&&Mt(a,i,n)){let u=r.data[Vt()];if(rC(u,o)&&!tC(r,i)){let c=o?u.classesWithoutHost:u.stylesWithoutHost;c!==null&&(n=Il(c,n||"")),kp(r,u,a,n,o)}else Bw(r,u,a,a[Re],a[i+1],a[i+1]=Vw(t,e,n),o,i)}}function tC(t,e){return e>=t.expandoStartIndex}function nC(t,e,n,o){let r=t.data;if(r[n+1]===null){let i=r[Vt()],a=tC(t,n);rC(i,o)&&e===null&&!a&&(e=!1),e=Pw(r,i,e,o),Dw(r,i,e,n,a,o)}}function Pw(t,e,n,o){let r=Tv(t),i=o?e.residualClasses:e.residualStyles;if(r===null)(o?e.classBindings:e.styleBindings)===0&&(n=rp(null,t,e,n,o),n=qs(n,e.attrs,o),i=null);else{let a=e.directiveStylingLast;if(a===-1||t[a]!==r)if(n=rp(r,t,e,n,o),i===null){let c=Fw(t,e,o);c!==void 0&&Array.isArray(c)&&(c=rp(null,t,e,c[1],o),c=qs(c,e.attrs,o),Lw(t,e,o,c))}else i=Ow(t,e,o)}return i!==void 0&&(o?e.residualClasses=i:e.residualStyles=i),n}function Fw(t,e,n){let o=n?e.classBindings:e.styleBindings;if(Lr(o)!==0)return t[No(o)]}function Lw(t,e,n,o){let r=n?e.classBindings:e.styleBindings;t[No(r)]=o}function Ow(t,e,n){let o,r=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<r;i++){let a=t[i].hostAttrs;o=qs(o,a,n)}return qs(o,e.attrs,n)}function rp(t,e,n,o,r){let i=null,a=n.directiveEnd,u=n.directiveStylingLast;for(u===-1?u=n.directiveStart:u++;u<a&&(i=e[u],o=qs(o,i.hostAttrs,r),i!==t);)u++;return t!==null&&(n.directiveStylingLast=u),o}function qs(t,e,n){let o=n?1:2,r=-1;if(e!==null)for(let i=0;i<e.length;i++){let a=e[i];typeof a=="number"?r=a:r===o&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Ml(t,a,n?!0:e[++i]))}return t===void 0?null:t}function Vw(t,e,n){if(n==null||n==="")return Et;let o=[],r=Ur(n);if(Array.isArray(r))for(let i=0;i<r.length;i++)t(o,r[i],!0);else if(typeof r=="object")for(let i in r)r.hasOwnProperty(i)&&t(o,i,r[i]);else typeof r=="string"&&e(o,r);return o}function Uw(t,e,n){let o=String(e);o!==""&&!o.includes(" ")&&Ml(t,o,n)}function Bw(t,e,n,o,r,i,a,u){r===st&&(r=Et);let c=0,d=0,f=0<r.length?r[0]:null,p=0<i.length?i[0]:null;for(;f!==null||p!==null;){let h=c<r.length?r[c+1]:void 0,m=d<i.length?i[d+1]:void 0,E=null,T;f===p?(c+=2,d+=2,h!==m&&(E=p,T=m)):p===null||f!==null&&f<p?(c+=2,E=f):(d+=2,E=p,T=m),E!==null&&oC(t,e,n,o,E,T,a,u),f=c<r.length?r[c]:null,p=d<i.length?i[d]:null}}function oC(t,e,n,o,r,i,a,u){if(!(e.type&3))return;let c=t.data,d=c[u+1],f=Iw(d)?ly(c,e,n,r,Lr(d),a):void 0;if(!vu(f)){vu(i)||Tw(d)&&(i=ly(c,null,n,r,u,a));let p=bf(Vt(),n);wI(o,a,p,r,i)}}function ly(t,e,n,o,r,i){let a=e===null,u;for(;r>0;){let c=t[r],d=Array.isArray(c),f=d?c[1]:c,p=f===null,h=n[r+1];h===st&&(h=p?Et:void 0);let m=p?Al(h,o):f===o?h:void 0;if(d&&!vu(m)&&(m=Al(c,o)),vu(m)&&(u=m,a))return u;let E=t[r+1];r=a?No(E):Lr(E)}if(e!==null){let c=i?e.residualClasses:e.residualStyles;c!=null&&(u=Al(c,o))}return u}function vu(t){return t!==void 0}function Hw(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Mn(Ur(t)))),t}function rC(t,e){return(t.flags&(e?8:16))!==0}function C(t,e=""){let n=oe(),o=Ye(),r=t+Ve,i=o.firstCreatePass?Hr(o,r,1,e,null):o.data[r],a=$w(o,n,i,e,t);n[r]=a,ql()&&Yp(o,n,a,i),bo(i,!1)}var $w=(t,e,n,o,r)=>(Gl(!0),aI(e[Re],o));function qw(t,e,n,o=""){return Mt(t,Kn(),n)?e+Jt(n)+o:st}function Gw(t,e,n,o,r,i=""){let a=Gf(),u=nh(t,a,n,r);return As(2),u?e+Jt(n)+o+Jt(r)+i:st}function zw(t,e,n,o,r,i,a,u=""){let c=Gf(),d=SD(t,c,n,r,a);return As(3),d?e+Jt(n)+o+Jt(r)+i+Jt(a)+u:st}function S(t){return re("",t),S}function re(t,e,n){let o=oe(),r=qw(o,t,e,n);return r!==st&&mh(o,Vt(),r),re}function at(t,e,n,o,r){let i=oe(),a=Gw(i,t,e,n,o,r);return a!==st&&mh(i,Vt(),a),at}function en(t,e,n,o,r,i,a){let u=oe(),c=zw(u,t,e,n,o,r,i,a);return c!==st&&mh(u,Vt(),c),en}function mh(t,e,n){let o=bf(e,t);lI(t[Re],o,n)}var iC={};function Ut(t){let e=Ye(),n=oe(),o=t+Ve,r=Hr(e,o,128,null,null);return bo(r,!1),Pl(e,n,o,iC),Ut}function tn(t){Ln("NgLet");let e=Ye(),n=oe(),o=Vt();return Pl(e,n,o,t),t}function Bt(t){let e=$f(),n=Mf(e,Ve+t);if(n===iC)throw new U(314,!1);return n}function gh(t,e,n){let o=Ol()+t,r=oe();return r[o]===st?th(r,o,n?e.call(n):e()):TD(r,o)}function mn(t,e,n,o){return Ww(oe(),Ol(),t,e,n,o)}function vh(t,e,n,o,r){return jw(oe(),Ol(),t,e,n,o,r)}function sC(t,e){let n=t[e];return n===st?void 0:n}function Ww(t,e,n,o,r,i){let a=e+n;return Mt(t,a,r)?th(t,a+1,i?o.call(i,r):o(r)):sC(t,a+1)}function jw(t,e,n,o,r,i,a){let u=e+n;return nh(t,u,r,i)?th(t,u+2,a?o.call(a,r,i):o(r,i)):sC(t,u+2)}var yu=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},yh=(()=>{class t{compileModuleSync(n){return new pu(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let o=this.compileModuleSync(n),r=Cf(n),i=jy(r.declarations).reduce((a,u)=>{let c=jn(u);return c&&a.push(new Pr(c)),a},[]);return new yu(o,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(o){return new(o||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Jw=(()=>{class t{zone=_(Ke);changeDetectionScheduler=_(jt);applicationRef=_(Oo);applicationErrorHandler=_(bt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(o){return new(o||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function aC({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Ke(de(N({},lC()),{scheduleInRootZone:n})),[{provide:Ke,useFactory:t},{provide:Wn,multi:!0,useFactory:()=>{let o=_(Jw,{optional:!0});return()=>o.initialize()}},{provide:Wn,multi:!0,useFactory:()=>{let o=_(Yw);return()=>{o.initialize()}}},e===!0?{provide:Kf,useValue:!0}:[],{provide:zl,useValue:n??$0},{provide:bt,useFactory:()=>{let o=_(Ke),r=_(je),i;return a=>{o.runOutsideAngular(()=>{r.destroyed&&!i?setTimeout(()=>{throw a}):(i??=r.get(kt),i.handleError(a))})}}}]}function lC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Yw=(()=>{class t{subscription=new Ge;initialized=!1;zone=_(Ke);pendingTasks=_(pn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ke.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ke.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(o){return new(o||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ch=(()=>{class t{applicationErrorHandler=_(bt);appRef=_(Oo);taskService=_(pn);ngZone=_(Ke);zonelessEnabled=_(Ns);tracing=_(Xs,{optional:!0});disableScheduling=_(Kf,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ge;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(hu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(_(zl,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof $s||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let o=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,o=!0;break}case 12:{this.appRef.dirtyFlags|=16,o=!0;break}case 13:{this.appRef.dirtyFlags|=2,o=!0;break}case 11:{o=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(o))return;let r=this.useMicrotaskScheduler?ny:q0;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(hu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(o){this.taskService.remove(n),this.applicationErrorHandler(o)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,ny(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(o){return new(o||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Eh(){return Ln("NgZoneless"),Eo([{provide:jt,useExisting:Ch},{provide:Ke,useClass:$s},{provide:Ns,useValue:!0},{provide:zl,useValue:!1},[]])}function Kw(){return typeof $localize<"u"&&$localize.locale||na}var _h=new Y("",{providedIn:"root",factory:()=>_(_h,{optional:!0,skipSelf:!0})||Kw()});var Bu=class{destroyed=!1;listeners=null;errorHandler=_(kt,{optional:!0});destroyRef=_(Tt);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new U(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let n=this.listeners?.indexOf(e);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(e){if(this.destroyed){console.warn(_r(953,!1));return}if(this.listeners===null)return;let n=ee(null);try{for(let o of this.listeners)try{o(e)}catch(r){this.errorHandler?.handleError(r)}}finally{ee(n)}}};function Ht(t){return $g(t)}function K(t,e){return Ja(t,e?.equal)}var Th=class{[ft];constructor(e){this[ft]=e}destroy(){this[ft].destroy()}};function me(t,e){let n=e?.injector??_(_t),o=e?.manualCleanup!==!0?n.get(Tt):null,r,i=n.get(ks,null,{optional:!0}),a=n.get(jt);return i!==null?(r=Xw(i.view,a,t),o instanceof _s&&o._lView===i.view&&(o=null)):r=ex(t,n.get(Ps),a),r.injector=n,o!==null&&(r.onDestroyFn=o.onDestroy(()=>r.destroy())),new Th(r)}var uC=de(N({},qg),{cleanupFns:void 0,zone:null,onDestroyFn:Mo,run(){let t=xr(!1);try{Gg(this)}finally{xr(t)}},cleanup(){if(!this.cleanupFns?.length)return;let t=ee(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],ee(t)}}}),Qw=de(N({},uC),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){lo(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),Zw=de(N({},uC),{consumerMarkedDirty(){this.view[ne]|=8192,xo(this.view),this.notifier.notify(13)},destroy(){lo(this),this.onDestroyFn(),this.cleanup(),this.view[An]?.delete(this)}});function Xw(t,e,n){let o=Object.create(Zw);return o.view=t,o.zone=typeof Zone<"u"?Zone.current:null,o.notifier=e,o.fn=cC(o,n),t[An]??=new Set,t[An].add(o),o.consumerMarkedDirty(o),o}function ex(t,e,n){let o=Object.create(Qw);return o.fn=cC(o,t),o.scheduler=e,o.notifier=n,o.zone=typeof Zone<"u"?Zone.current:null,o.scheduler.add(o),o.notifier.notify(12),o}function cC(t,e){return()=>{e(n=>(t.cleanupFns??=[]).push(n))}}var fC=Symbol("InputSignalNode#UNSET"),mx=de(N({},Ya),{transformFn:void 0,applyValueToInputSignal(t,e){lr(t,e)}});function pC(t,e){let n=Object.create(mx);n.value=t,n.transformFn=e?.transform;function o(){if(rr(n),n.value===fC){let r=null;throw new U(-950,r)}return n.value}return o[ft]=n,o}var $u=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>zs(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},gx=new Y("");gx.__NG_ELEMENT_ID__=t=>{let e=it();if(e===null)throw new U(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new U(204,!1)};function hC(t){return new Bu}function dC(t,e){return pC(t,e)}function vx(t){return pC(fC,t)}var we=(dC.required=vx,dC);var Sh=new Y(""),yx=new Y("");function ia(t){return!t.moduleRef}function Cx(t){let e=ia(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ke);return n.run(()=>{ia(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let o=e.get(bt),r;if(n.runOutsideAngular(()=>{r=n.onError.subscribe({next:o})}),ia(t)){let i=()=>e.destroy(),a=t.platformInjector.get(Sh);a.add(i),e.onDestroy(()=>{r.unsubscribe(),a.delete(i)})}else{let i=()=>t.moduleRef.destroy(),a=t.platformInjector.get(Sh);a.add(i),t.moduleRef.onDestroy(()=>{Ls(t.allPlatformModules,t.moduleRef),r.unsubscribe(),a.delete(i)})}return _x(o,n,()=>{let i=e.get(pn),a=i.add(),u=e.get(uh);return u.runInitializers(),u.donePromise.then(()=>{let c=e.get(_h,na);if(Q0(c||na),!e.get(yx,!0))return ia(t)?e.get(Oo):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(ia(t)){let f=e.get(Oo);return t.rootComponent!==void 0&&f.bootstrap(t.rootComponent),f}else return Ex?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void i.remove(a))})})}var Ex;function _x(t,e,n){try{let o=n();return ea(o)?o.catch(r=>{throw e.runOutsideAngular(()=>t(r)),r}):o}catch(o){throw e.runOutsideAngular(()=>t(o)),o}}var Hu=null;function Tx(t=[],e){return _t.create({name:e,providers:[{provide:Is,useValue:"platform"},{provide:Sh,useValue:new Set([()=>Hu=null])},...t]})}function Sx(t=[]){if(Hu)return Hu;let e=Tx(t);return Hu=e,J0(),Ix(e),e}function Ix(t){let e=t.get(Tu,null);ot(t,()=>{e?.forEach(n=>n())})}var sa=(()=>{class t{static __NG_ELEMENT_ID__=Dx}return t})();function Dx(t){return wx(it(),oe(),(t&16)===16)}function wx(t,e,n){if(Rn(t)&&!n){let o=Ot(t.index,e);return new Zn(o,o)}else if(t.type&175){let o=e[ht];return new Zn(o,e)}return null}function mC(t){let{rootComponent:e,appProviders:n,platformProviders:o,platformRef:r}=t;Me(8);try{let i=r?.injector??Sx(o),a=[aC({}),{provide:jt,useExisting:Ch},Mv,...n||[]],u=new Bs({providers:a,parent:i,debugName:"",runEnvironmentInitializers:!1});return Cx({r3Injector:u.injector,platformInjector:i,rootComponent:e})}catch(i){return Promise.reject(i)}finally{Me(9)}}function qu(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var yC=null;function gn(){return yC}function Ih(t){yC??=t}var aa=class{},la=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(o){return new(o||t)};static \u0275prov=O({token:t,factory:()=>_(CC),providedIn:"platform"})}return t})();var CC=(()=>{class t extends la{_location;_history;_doc=_(Ue);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return gn().getBaseHref(this._doc)}onPopState(n){let o=gn().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",n,!1),()=>o.removeEventListener("popstate",n)}onHashChange(n){let o=gn().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",n,!1),()=>o.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,o,r){this._history.pushState(n,o,r)}replaceState(n,o,r){this._history.replaceState(n,o,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(o){return new(o||t)};static \u0275prov=O({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Gu(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function gC(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function nn(t){return t&&t[0]!=="?"?`?${t}`:t}var vn=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(o){return new(o||t)};static \u0275prov=O({token:t,factory:()=>_(Dh),providedIn:"root"})}return t})(),zu=new Y(""),Dh=(()=>{class t extends vn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,o){super(),this._platformLocation=n,this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??_(Ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Gu(this._baseHref,n)}path(n=!1){let o=this._platformLocation.pathname+nn(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${o}${r}`:o}pushState(n,o,r,i){let a=this.prepareExternalUrl(r+nn(i));this._platformLocation.pushState(n,o,a)}replaceState(n,o,r,i){let a=this.prepareExternalUrl(r+nn(i));this._platformLocation.replaceState(n,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(o){return new(o||t)(Q(la),Q(zu,8))};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Vo=(()=>{class t{_subject=new Be;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let o=this._locationStrategy.getBaseHref();this._basePath=Mx(gC(vC(o))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,o=""){return this.path()==this.normalize(n+nn(o))}normalize(n){return t.stripTrailingSlash(bx(this._basePath,vC(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,o="",r=null){this._locationStrategy.pushState(r,"",n,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+nn(o)),r)}replaceState(n,o="",r=null){this._locationStrategy.replaceState(r,"",n,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+nn(o)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}),()=>{let o=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(o,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",o){this._urlChangeListeners.forEach(r=>r(n,o))}subscribe(n,o,r){return this._subject.subscribe({next:n,error:o??void 0,complete:r??void 0})}static normalizeQueryParams=nn;static joinWithSlash=Gu;static stripTrailingSlash=gC;static \u0275fac=function(o){return new(o||t)(Q(vn))};static \u0275prov=O({token:t,factory:()=>xx(),providedIn:"root"})}return t})();function xx(){return new Vo(Q(vn))}function bx(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function vC(t){return t.replace(/\/index.html$/,"")}function Mx(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var wh=(()=>{class t extends vn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,o){super(),this._platformLocation=n,o!=null&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let o=this._platformLocation.hash??"#";return o.length>0?o.substring(1):o}prepareExternalUrl(n){let o=Gu(this._baseHref,n);return o.length>0?"#"+o:o}pushState(n,o,r,i){let a=this.prepareExternalUrl(r+nn(i))||this._platformLocation.pathname;this._platformLocation.pushState(n,o,a)}replaceState(n,o,r,i){let a=this.prepareExternalUrl(r+nn(i))||this._platformLocation.pathname;this._platformLocation.replaceState(n,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(o){return new(o||t)(Q(la),Q(zu,8))};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})();var xe=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=Fo({type:t});static \u0275inj=zn({})}return t})();function ua(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let o=n.indexOf("="),[r,i]=o==-1?[n,""]:[n.slice(0,o),n.slice(o+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}var Uo=class{};var EC="browser";var ju=new Y(""),Rh=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,o){this._zone=o,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,o,r,i){return this._findPluginFor(o).addEventListener(n,o,r,i)}getZone(){return this._zone}_findPluginFor(n){let o=this._eventNameToPlugin.get(n);if(o)return o;if(o=this._plugins.find(i=>i.supports(n)),!o)throw new U(5101,!1);return this._eventNameToPlugin.set(n,o),o}static \u0275fac=function(o){return new(o||t)(Q(ju),Q(Ke))};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})(),ca=class{_doc;constructor(e){this._doc=e}manager},xh="ng-app-id";function _C(t){for(let e of t)e.remove()}function TC(t,e){let n=e.createElement("style");return n.textContent=t,n}function kx(t,e,n,o){let r=t.head?.querySelectorAll(`style[${xh}="${e}"],link[${xh}="${e}"]`);if(r)for(let i of r)i.removeAttribute(xh),i instanceof HTMLLinkElement?o.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}function Mh(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Nh=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,o,r,i={}){this.doc=n,this.appId=o,this.nonce=r,kx(n,o,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,o){for(let r of n)this.addUsage(r,this.inline,TC);o?.forEach(r=>this.addUsage(r,this.external,Mh))}removeStyles(n,o){for(let r of n)this.removeUsage(r,this.inline);o?.forEach(r=>this.removeUsage(r,this.external))}addUsage(n,o,r){let i=o.get(n);i?i.usage++:o.set(n,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,r(n,this.doc)))})}removeUsage(n,o){let r=o.get(n);r&&(r.usage--,r.usage<=0&&(_C(r.elements),o.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])_C(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[o,{elements:r}]of this.inline)r.push(this.addElement(n,TC(o,this.doc)));for(let[o,{elements:r}]of this.external)r.push(this.addElement(n,Mh(o,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,o){return this.nonce&&o.setAttribute("nonce",this.nonce),n.appendChild(o)}static \u0275fac=function(o){return new(o||t)(Q(Ue),Q(_u),Q(Su,8),Q(Vr))};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})(),bh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},kh=/%COMP%/g;var IC="%COMP%",Px=`_nghost-${IC}`,Fx=`_ngcontent-${IC}`,Lx=!0,Ox=new Y("",{providedIn:"root",factory:()=>Lx});function Vx(t){return Fx.replace(kh,t)}function Ux(t){return Px.replace(kh,t)}function DC(t,e){return e.map(n=>n.replace(kh,t))}var Ph=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,o,r,i,a,u,c,d=null,f=null){this.eventManager=n,this.sharedStylesHost=o,this.appId=r,this.removeStylesOnCompDestroy=i,this.doc=a,this.platformId=u,this.ngZone=c,this.nonce=d,this.tracingService=f,this.platformIsServer=!1,this.defaultRenderer=new da(n,a,c,this.platformIsServer,this.tracingService)}createRenderer(n,o){if(!n||!o)return this.defaultRenderer;let r=this.getOrCreateRenderer(n,o);return r instanceof Wu?r.applyToHost(n):r instanceof fa&&r.applyStyles(),r}getOrCreateRenderer(n,o){let r=this.rendererByCompId,i=r.get(o.id);if(!i){let a=this.doc,u=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer,h=this.tracingService;switch(o.encapsulation){case Nn.Emulated:i=new Wu(c,d,o,this.appId,f,a,u,p,h);break;case Nn.ShadowDom:return new Ah(c,d,n,o,a,u,this.nonce,p,h);default:i=new fa(c,d,o,f,a,u,p,h);break}r.set(o.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(o){return new(o||t)(Q(Rh),Q(Nh),Q(_u),Q(Ox),Q(Ue),Q(Vr),Q(Ke),Q(Su),Q(Xs,8))};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})(),da=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,o,r,i){this.eventManager=e,this.doc=n,this.ngZone=o,this.platformIsServer=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(bh[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(SC(e)?e.content:e).appendChild(n)}insertBefore(e,n,o){e&&(SC(e)?e.content:e).insertBefore(n,o)}removeChild(e,n){n.remove()}selectRootElement(e,n){let o=typeof e=="string"?this.doc.querySelector(e):e;if(!o)throw new U(-5104,!1);return n||(o.textContent=""),o}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,o,r){if(r){n=r+":"+n;let i=bh[r];i?e.setAttributeNS(i,n,o):e.setAttribute(n,o)}else e.setAttribute(n,o)}removeAttribute(e,n,o){if(o){let r=bh[o];r?e.removeAttributeNS(r,n):e.removeAttribute(`${o}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,o,r){r&(kn.DashCase|kn.Important)?e.style.setProperty(n,o,r&kn.Important?"important":""):e.style[n]=o}removeStyle(e,n,o){o&kn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,o){e!=null&&(e[n]=o)}setValue(e,n){e.nodeValue=n}listen(e,n,o,r){if(typeof e=="string"&&(e=gn().getGlobalEventTarget(this.doc,e),!e))throw new U(5102,!1);let i=this.decoratePreventDefault(o);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(e,n,i)),this.eventManager.addEventListener(e,n,i,r)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function SC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Ah=class extends da{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,o,r,i,a,u,c,d){super(e,i,a,c,d),this.sharedStylesHost=n,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=r.styles;f=DC(r.id,f);for(let h of f){let m=document.createElement("style");u&&m.setAttribute("nonce",u),m.textContent=h,this.shadowRoot.appendChild(m)}let p=r.getExternalStyles?.();if(p)for(let h of p){let m=Mh(h,i);u&&m.setAttribute("nonce",u),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,o){return super.insertBefore(this.nodeOrShadowRoot(e),n,o)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},fa=class extends da{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,o,r,i,a,u,c,d){super(e,i,a,u,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r;let f=o.styles;this.styles=d?DC(d,f):f,this.styleUrls=o.getExternalStyles?.(d)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Mu.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Wu=class extends fa{contentAttr;hostAttr;constructor(e,n,o,r,i,a,u,c,d){let f=r+"-"+o.id;super(e,n,o,i,a,u,c,d,f),this.contentAttr=Vx(f),this.hostAttr=Ux(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let o=super.createElement(e,n);return super.setAttribute(o,this.contentAttr,""),o}};var Ju=class t extends aa{supportsDOMEvents=!0;static makeCurrent(){Ih(new t)}onAndCancel(e,n,o,r){return e.addEventListener(n,o,r),()=>{e.removeEventListener(n,o,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Bx();return n==null?null:Hx(n)}resetBaseElement(){pa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ua(document.cookie,e)}},pa=null;function Bx(){return pa=pa||document.head.querySelector("base"),pa?pa.getAttribute("href"):null}function Hx(t){return new URL(t,document.baseURI).pathname}var $x=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(o){return new(o||t)};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})(),xC=(()=>{class t extends ca{constructor(n){super(n)}supports(n){return!0}addEventListener(n,o,r,i){return n.addEventListener(o,r,i),()=>this.removeEventListener(n,o,r,i)}removeEventListener(n,o,r,i){return n.removeEventListener(o,r,i)}static \u0275fac=function(o){return new(o||t)(Q(Ue))};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})(),wC=["alt","control","meta","shift"],qx={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Gx={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},bC=(()=>{class t extends ca{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,o,r,i){let a=t.parseEventName(o),u=t.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>gn().onAndCancel(n,a.domEventName,u,i))}static parseEventName(n){let o=n.toLowerCase().split("."),r=o.shift();if(o.length===0||!(r==="keydown"||r==="keyup"))return null;let i=t._normalizeKey(o.pop()),a="",u=o.indexOf("code");if(u>-1&&(o.splice(u,1),a="code."),wC.forEach(d=>{let f=o.indexOf(d);f>-1&&(o.splice(f,1),a+=d+".")}),a+=i,o.length!=0||i.length===0)return null;let c={};return c.domEventName=r,c.fullKey=a,c}static matchEventFullKeyCode(n,o){let r=qx[n.key]||n.key,i="";return o.indexOf("code.")>-1&&(r=n.code,i="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),wC.forEach(a=>{if(a!==r){let u=Gx[a];u(n)&&(i+=a+".")}}),i+=r,i===o)}static eventCallback(n,o,r){return i=>{t.matchEventFullKeyCode(i,n)&&r.runGuarded(()=>o(i))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(o){return new(o||t)(Q(Ue))};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})();function Fh(t,e,n){let o=N({rootComponent:t,platformRef:n?.platformRef},zx(e));return mC(o)}function zx(t){return{appProviders:[...Kx,...t?.providers??[]],platformProviders:Yx}}function Wx(){Ju.makeCurrent()}function jx(){return new kt}function Jx(){return Vp(document),document}var Yx=[{provide:Vr,useValue:EC},{provide:Tu,useValue:Wx,multi:!0},{provide:Ue,useFactory:Jx}];var Kx=[{provide:Is,useValue:"root"},{provide:kt,useFactory:jx},{provide:ju,useClass:xC,multi:!0,deps:[Ue]},{provide:ju,useClass:bC,multi:!0,deps:[Ue]},Ph,Nh,Rh,{provide:Ro,useExisting:Ph},{provide:Uo,useClass:$x},[]];var zr=class{},ha=class{},Xn=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let o=n.indexOf(":");if(o>0){let r=n.slice(0,o),i=n.slice(o+1).trim();this.addHeaderEntry(r,i)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,o)=>{this.addHeaderEntry(o,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,o])=>{this.setHeaderEntries(n,o)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let o=e.value;if(typeof o=="string"&&(o=[o]),o.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...o),this.headers.set(n,r);break;case"d":let i=e.value;if(!i)this.headers.delete(n),this.normalizedNames.delete(n);else{let a=this.headers.get(n);if(!a)return;a=a.filter(u=>i.indexOf(u)===-1),a.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,a)}break}}addHeaderEntry(e,n){let o=e.toLowerCase();this.maybeSetNormalizedName(e,o),this.headers.has(o)?this.headers.get(o).push(n):this.headers.set(o,[n])}setHeaderEntries(e,n){let o=(Array.isArray(n)?n:[n]).map(i=>i.toString()),r=e.toLowerCase();this.headers.set(r,o),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Ku=class{encodeKey(e){return MC(e)}encodeValue(e){return MC(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Qx(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let i=r.indexOf("="),[a,u]=i==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,i)),e.decodeValue(r.slice(i+1))],c=n.get(a)||[];c.push(u),n.set(a,c)}),n}var Zx=/%(\d[a-f0-9])/gi,Xx={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function MC(t){return encodeURIComponent(t).replace(Zx,(e,n)=>Xx[n]??e)}function Yu(t){return`${t}`}var On=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Ku,e.fromString){if(e.fromObject)throw new U(2805,!1);this.map=Qx(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let o=e.fromObject[n],r=Array.isArray(o)?o.map(Yu):[Yu(o)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(o=>{let r=e[o];Array.isArray(r)?r.forEach(i=>{n.push({param:o,value:i,op:"a"})}):n.push({param:o,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(o=>n+"="+this.encoder.encodeValue(o)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Yu(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let o=this.map.get(e.param)||[],r=o.indexOf(Yu(e.value));r!==-1&&o.splice(r,1),o.length>0?this.map.set(e.param,o):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Qu=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function eb(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function AC(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function RC(t){return typeof Blob<"u"&&t instanceof Blob}function NC(t){return typeof FormData<"u"&&t instanceof FormData}function tb(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var kC="Content-Type",PC="Accept",FC="X-Request-URL",LC="text/plain",OC="application/json",nb=`${OC}, ${LC}, */*`,qr=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,n,o,r){this.url=n,this.method=e.toUpperCase();let i;if(eb(this.method)||r?(this.body=o!==void 0?o:null,i=r):i=o,i){if(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,this.keepalive=!!i.keepalive,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),i.priority&&(this.priority=i.priority),i.cache&&(this.cache=i.cache),i.credentials&&(this.credentials=i.credentials),typeof i.timeout=="number"){if(i.timeout<1||!Number.isInteger(i.timeout))throw new U(2822,"");this.timeout=i.timeout}i.mode&&(this.mode=i.mode),i.redirect&&(this.redirect=i.redirect),i.integrity&&(this.integrity=i.integrity),i.referrer&&(this.referrer=i.referrer),this.transferCache=i.transferCache}if(this.headers??=new Xn,this.context??=new Qu,!this.params)this.params=new On,this.urlWithParams=n;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=n;else{let u=n.indexOf("?"),c=u===-1?"?":u<n.length-1?"&":"";this.urlWithParams=n+c+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||AC(this.body)||RC(this.body)||NC(this.body)||tb(this.body)?this.body:this.body instanceof On?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||NC(this.body)?null:RC(this.body)?this.body.type||null:AC(this.body)?null:typeof this.body=="string"?LC:this.body instanceof On?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?OC:null}clone(e={}){let n=e.method||this.method,o=e.url||this.url,r=e.responseType||this.responseType,i=e.keepalive??this.keepalive,a=e.priority||this.priority,u=e.cache||this.cache,c=e.mode||this.mode,d=e.redirect||this.redirect,f=e.credentials||this.credentials,p=e.referrer||this.referrer,h=e.integrity||this.integrity,m=e.transferCache??this.transferCache,E=e.timeout??this.timeout,T=e.body!==void 0?e.body:this.body,D=e.withCredentials??this.withCredentials,w=e.reportProgress??this.reportProgress,R=e.headers||this.headers,L=e.params||this.params,q=e.context??this.context;return e.setHeaders!==void 0&&(R=Object.keys(e.setHeaders).reduce((J,fe)=>J.set(fe,e.setHeaders[fe]),R)),e.setParams&&(L=Object.keys(e.setParams).reduce((J,fe)=>J.set(fe,e.setParams[fe]),L)),new t(n,o,T,{params:L,headers:R,context:q,reportProgress:w,responseType:r,withCredentials:D,transferCache:m,keepalive:i,cache:u,priority:a,timeout:E,mode:c,redirect:d,credentials:f,referrer:p,integrity:h})}},Bo=(function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t})(Bo||{}),Wr=class{headers;status;statusText;url;ok;type;redirected;constructor(e,n=200,o="OK"){this.headers=e.headers||new Xn,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||o,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}},Zu=class t extends Wr{constructor(e={}){super(e)}type=Bo.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ma=class t extends Wr{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Bo.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}},Gr=class extends Wr{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},ob=200,rb=204;function Lh(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,credentials:t.credentials,transferCache:t.transferCache,timeout:t.timeout,keepalive:t.keepalive,priority:t.priority,cache:t.cache,mode:t.mode,redirect:t.redirect,integrity:t.integrity,referrer:t.referrer}}var ec=(()=>{class t{handler;constructor(n){this.handler=n}request(n,o,r={}){let i;if(n instanceof qr)i=n;else{let c;r.headers instanceof Xn?c=r.headers:c=new Xn(r.headers);let d;r.params&&(r.params instanceof On?d=r.params:d=new On({fromObject:r.params})),i=new qr(n,o,r.body!==void 0?r.body:null,{headers:c,context:r.context,params:d,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache,keepalive:r.keepalive,priority:r.priority,cache:r.cache,mode:r.mode,redirect:r.redirect,credentials:r.credentials,referrer:r.referrer,integrity:r.integrity,timeout:r.timeout})}let a=V(i).pipe(Dn(c=>this.handler.handle(c)));if(n instanceof qr||r.observe==="events")return a;let u=a.pipe(He(c=>c instanceof ma));switch(r.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return u.pipe(G(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new U(2806,!1);return c.body}));case"blob":return u.pipe(G(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new U(2807,!1);return c.body}));case"text":return u.pipe(G(c=>{if(c.body!==null&&typeof c.body!="string")throw new U(2808,!1);return c.body}));case"json":default:return u.pipe(G(c=>c.body))}case"response":return u;default:throw new U(2809,!1)}}delete(n,o={}){return this.request("DELETE",n,o)}get(n,o={}){return this.request("GET",n,o)}head(n,o={}){return this.request("HEAD",n,o)}jsonp(n,o){return this.request("JSONP",n,{params:new On().append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,o={}){return this.request("OPTIONS",n,o)}patch(n,o,r={}){return this.request("PATCH",n,Lh(r,o))}post(n,o,r={}){return this.request("POST",n,Lh(r,o))}put(n,o,r={}){return this.request("PUT",n,Lh(r,o))}static \u0275fac=function(o){return new(o||t)(Q(zr))};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})();var ib=new Y("");function sb(t,e){return e(t)}function ab(t,e,n){return(o,r)=>ot(n,()=>e(o,i=>t(i,r)))}var VC=new Y(""),UC=new Y(""),BC=new Y("",{providedIn:"root",factory:()=>!0});var Xu=(()=>{class t extends zr{backend;injector;chain=null;pendingTasks=_(br);contributeToStability=_(BC);constructor(n,o){super(),this.backend=n,this.injector=o}handle(n){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(VC),...this.injector.get(UC,[])]));this.chain=o.reduceRight((r,i)=>ab(r,i,this.injector),sb)}if(this.contributeToStability){let o=this.pendingTasks.add();return this.chain(n,r=>this.backend.handle(r)).pipe(Wt(o))}else return this.chain(n,o=>this.backend.handle(o))}static \u0275fac=function(o){return new(o||t)(Q(ha),Q(je))};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})();var lb=/^\)\]\}',?\n/,ub=RegExp(`^${FC}:`,"m");function cb(t){return"responseURL"in t&&t.responseURL?t.responseURL:ub.test(t.getAllResponseHeaders())?t.getResponseHeader(FC):null}var Oh=(()=>{class t{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new U(-2800,!1);let o=this.xhrFactory;return V(null).pipe(ce(()=>new pe(i=>{let a=o.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((D,w)=>a.setRequestHeader(D,w.join(","))),n.headers.has(PC)||a.setRequestHeader(PC,nb),!n.headers.has(kC)){let D=n.detectContentTypeHeader();D!==null&&a.setRequestHeader(kC,D)}if(n.timeout&&(a.timeout=n.timeout),n.responseType){let D=n.responseType.toLowerCase();a.responseType=D!=="json"?D:"text"}let u=n.serializeBody(),c=null,d=()=>{if(c!==null)return c;let D=a.statusText||"OK",w=new Xn(a.getAllResponseHeaders()),R=cb(a)||n.url;return c=new Zu({headers:w,status:a.status,statusText:D,url:R}),c},f=()=>{let{headers:D,status:w,statusText:R,url:L}=d(),q=null;w!==rb&&(q=typeof a.response>"u"?a.responseText:a.response),w===0&&(w=q?ob:0);let J=w>=200&&w<300;if(n.responseType==="json"&&typeof q=="string"){let fe=q;q=q.replace(lb,"");try{q=q!==""?JSON.parse(q):null}catch(ve){q=fe,J&&(J=!1,q={error:ve,text:q})}}J?(i.next(new ma({body:q,headers:D,status:w,statusText:R,url:L||void 0})),i.complete()):i.error(new Gr({error:q,headers:D,status:w,statusText:R,url:L||void 0}))},p=D=>{let{url:w}=d(),R=new Gr({error:D,status:a.status||0,statusText:a.statusText||"Unknown Error",url:w||void 0});i.error(R)},h=p;n.timeout&&(h=D=>{let{url:w}=d(),R=new Gr({error:new DOMException("Request timed out","TimeoutError"),status:a.status||0,statusText:a.statusText||"Request timeout",url:w||void 0});i.error(R)});let m=!1,E=D=>{m||(i.next(d()),m=!0);let w={type:Bo.DownloadProgress,loaded:D.loaded};D.lengthComputable&&(w.total=D.total),n.responseType==="text"&&a.responseText&&(w.partialText=a.responseText),i.next(w)},T=D=>{let w={type:Bo.UploadProgress,loaded:D.loaded};D.lengthComputable&&(w.total=D.total),i.next(w)};return a.addEventListener("load",f),a.addEventListener("error",p),a.addEventListener("timeout",h),a.addEventListener("abort",p),n.reportProgress&&(a.addEventListener("progress",E),u!==null&&a.upload&&a.upload.addEventListener("progress",T)),a.send(u),i.next({type:Bo.Sent}),()=>{a.removeEventListener("error",p),a.removeEventListener("abort",p),a.removeEventListener("load",f),a.removeEventListener("timeout",h),n.reportProgress&&(a.removeEventListener("progress",E),u!==null&&a.upload&&a.upload.removeEventListener("progress",T)),a.readyState!==a.DONE&&a.abort()}})))}static \u0275fac=function(o){return new(o||t)(Q(Uo))};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})(),HC=new Y(""),db="XSRF-TOKEN",fb=new Y("",{providedIn:"root",factory:()=>db}),pb="X-XSRF-TOKEN",hb=new Y("",{providedIn:"root",factory:()=>pb}),ga=class{},mb=(()=>{class t{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,o){this.doc=n,this.cookieName=o}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=ua(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(o){return new(o||t)(Q(Ue),Q(fb))};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})();function gb(t,e){let n=t.url.toLowerCase();if(!_(HC)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let o=_(ga).getToken(),r=_(hb);return o!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,o)})),e(t)}function Vh(...t){let e=[ec,Oh,Xu,{provide:zr,useExisting:Xu},{provide:ha,useFactory:()=>_(ib,{optional:!0})??_(Oh)},{provide:VC,useValue:gb,multi:!0},{provide:HC,useValue:!0},{provide:ga,useClass:mb}];for(let n of t)e.push(...n.\u0275providers);return Eo(e)}var $C=(()=>{class t{_doc;_dom;constructor(n){this._doc=n,this._dom=gn()}addTag(n,o=!1){return n?this._getOrCreateElement(n,o):null}addTags(n,o=!1){return n?n.reduce((r,i)=>(i&&r.push(this._getOrCreateElement(i,o)),r),[]):[]}getTag(n){return n&&this._doc.querySelector(`meta[${n}]`)||null}getTags(n){if(!n)return[];let o=this._doc.querySelectorAll(`meta[${n}]`);return o?[].slice.call(o):[]}updateTag(n,o){if(!n)return null;o=o||this._parseSelector(n);let r=this.getTag(o);return r?this._setMetaElementAttributes(n,r):this._getOrCreateElement(n,!0)}removeTag(n){this.removeTagElement(this.getTag(n))}removeTagElement(n){n&&this._dom.remove(n)}_getOrCreateElement(n,o=!1){if(!o){let a=this._parseSelector(n),u=this.getTags(a).filter(c=>this._containsAttributes(n,c))[0];if(u!==void 0)return u}let r=this._dom.createElement("meta");return this._setMetaElementAttributes(n,r),this._doc.getElementsByTagName("head")[0].appendChild(r),r}_setMetaElementAttributes(n,o){return Object.keys(n).forEach(r=>o.setAttribute(this._getMetaKeyMap(r),n[r])),o}_parseSelector(n){let o=n.name?"name":"property";return`${o}="${n[o]}"`}_containsAttributes(n,o){return Object.keys(n).every(r=>o.getAttribute(this._getMetaKeyMap(r))===n[r])}_getMetaKeyMap(n){return vb[n]||n}static \u0275fac=function(o){return new(o||t)(Q(Ue))};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),vb={httpEquiv:"http-equiv"},tc=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(o){return new(o||t)(Q(Ue))};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var le="primary",Ra=Symbol("RouteTitle"),qh=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function qo(t){return new qh(t)}function KC(t,e,n){let o=n.path.split("/");if(o.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||o.length<t.length))return null;let r={};for(let i=0;i<o.length;i++){let a=o[i],u=t[i];if(a[0]===":")r[a.substring(1)]=u;else if(a!==u.path)return null}return{consumed:t.slice(0,o.length),posParams:r}}function Cb(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!yn(t[n],e[n]))return!1;return!0}function yn(t,e){let n=t?Gh(t):void 0,o=e?Gh(e):void 0;if(!n||!o||n.length!=o.length)return!1;let r;for(let i=0;i<n.length;i++)if(r=n[i],!QC(t[r],e[r]))return!1;return!0}function Gh(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function QC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),o=[...e].sort();return n.every((r,i)=>o[i]===r)}else return t===e}function ZC(t){return t.length>0?t[t.length-1]:null}function Un(t){return Wd(t)?t:ea(t)?Fe(Promise.resolve(t)):V(t)}var Eb={exact:eE,subset:tE},XC={exact:_b,subset:Tb,ignored:()=>!0};function qC(t,e,n){return Eb[n.paths](t.root,e.root,n.matrixParams)&&XC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function _b(t,e){return yn(t,e)}function eE(t,e,n){if(!Ho(t.segments,e.segments)||!rc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let o in e.children)if(!t.children[o]||!eE(t.children[o],e.children[o],n))return!1;return!0}function Tb(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>QC(t[n],e[n]))}function tE(t,e,n){return nE(t,e,e.segments,n)}function nE(t,e,n,o){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!Ho(r,n)||e.hasChildren()||!rc(r,n,o))}else if(t.segments.length===n.length){if(!Ho(t.segments,n)||!rc(t.segments,n,o))return!1;for(let r in e.children)if(!t.children[r]||!tE(t.children[r],e.children[r],o))return!1;return!0}else{let r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!Ho(t.segments,r)||!rc(t.segments,r,o)||!t.children[le]?!1:nE(t.children[le],e,i,o)}}function rc(t,e,n){return e.every((o,r)=>XC[n](t[r].parameters,o.parameters))}var En=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Te([],{}),n={},o=null){this.root=e,this.queryParams=n,this.fragment=o}get queryParamMap(){return this._queryParamMap??=qo(this.queryParams),this._queryParamMap}toString(){return Db.serialize(this)}},Te=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(o=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ic(this)}},eo=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=qo(this.parameters),this._parameterMap}toString(){return rE(this)}};function Sb(t,e){return Ho(t,e)&&t.every((n,o)=>yn(n.parameters,e[o].parameters))}function Ho(t,e){return t.length!==e.length?!1:t.every((n,o)=>n.path===e[o].path)}function Ib(t,e){let n=[];return Object.entries(t.children).forEach(([o,r])=>{o===le&&(n=n.concat(e(r,o)))}),Object.entries(t.children).forEach(([o,r])=>{o!==le&&(n=n.concat(e(r,o)))}),n}var Na=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275prov=O({token:t,factory:()=>new Go,providedIn:"root"})}return t})(),Go=class{parse(e){let n=new Wh(e);return new En(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${va(e.root,!0)}`,o=bb(e.queryParams),r=typeof e.fragment=="string"?`#${wb(e.fragment)}`:"";return`${n}${o}${r}`}},Db=new Go;function ic(t){return t.segments.map(e=>rE(e)).join("/")}function va(t,e){if(!t.hasChildren())return ic(t);if(e){let n=t.children[le]?va(t.children[le],!1):"",o=[];return Object.entries(t.children).forEach(([r,i])=>{r!==le&&o.push(`${r}:${va(i,!1)}`)}),o.length>0?`${n}(${o.join("//")})`:n}else{let n=Ib(t,(o,r)=>r===le?[va(t.children[le],!1)]:[`${r}:${va(o,!1)}`]);return Object.keys(t.children).length===1&&t.children[le]!=null?`${ic(t)}/${n[0]}`:`${ic(t)}/(${n.join("//")})`}}function oE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nc(t){return oE(t).replace(/%3B/gi,";")}function wb(t){return encodeURI(t)}function zh(t){return oE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sc(t){return decodeURIComponent(t)}function GC(t){return sc(t.replace(/\+/g,"%20"))}function rE(t){return`${zh(t.path)}${xb(t.parameters)}`}function xb(t){return Object.entries(t).map(([e,n])=>`;${zh(e)}=${zh(n)}`).join("")}function bb(t){let e=Object.entries(t).map(([n,o])=>Array.isArray(o)?o.map(r=>`${nc(n)}=${nc(r)}`).join("&"):`${nc(n)}=${nc(o)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Mb=/^[^\/()?;#]+/;function Uh(t){let e=t.match(Mb);return e?e[0]:""}var Ab=/^[^\/()?;=#]+/;function Rb(t){let e=t.match(Ab);return e?e[0]:""}var Nb=/^[^=?&#]+/;function kb(t){let e=t.match(Nb);return e?e[0]:""}var Pb=/^[^&#]+/;function Fb(t){let e=t.match(Pb);return e?e[0]:""}var Wh=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Te([],{}):new Te([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(o[le]=new Te(e,n)),o}parseSegment(){let e=Uh(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(e),new eo(sc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Rb(this.remaining);if(!n)return;this.capture(n);let o="";if(this.consumeOptional("=")){let r=Uh(this.remaining);r&&(o=r,this.capture(o))}e[sc(n)]=sc(o)}parseQueryParam(e){let n=kb(this.remaining);if(!n)return;this.capture(n);let o="";if(this.consumeOptional("=")){let a=Fb(this.remaining);a&&(o=a,this.capture(o))}let r=GC(n),i=GC(o);if(e.hasOwnProperty(r)){let a=e[r];Array.isArray(a)||(a=[a],e[r]=a),a.push(i)}else e[r]=i}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let o=Uh(this.remaining),r=this.remaining[o.length];if(r!=="/"&&r!==")"&&r!==";")throw new U(4010,!1);let i;o.indexOf(":")>-1?(i=o.slice(0,o.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=le);let a=this.parseChildren();n[i]=Object.keys(a).length===1?a[le]:new Te([],a),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new U(4011,!1)}};function iE(t){return t.segments.length>0?new Te([],{[le]:t}):t}function sE(t){let e={};for(let[o,r]of Object.entries(t.children)){let i=sE(r);if(o===le&&i.segments.length===0&&i.hasChildren())for(let[a,u]of Object.entries(i.children))e[a]=u;else(i.segments.length>0||i.hasChildren())&&(e[o]=i)}let n=new Te(t.segments,e);return Lb(n)}function Lb(t){if(t.numberOfChildren===1&&t.children[le]){let e=t.children[le];return new Te(t.segments.concat(e.segments),e.children)}return t}function to(t){return t instanceof En}function aE(t,e,n=null,o=null){let r=lE(t);return uE(r,e,n,o)}function lE(t){let e;function n(i){let a={};for(let c of i.children){let d=n(c);a[c.outlet]=d}let u=new Te(i.url,a);return i===t&&(e=u),u}let o=n(t.root),r=iE(o);return e??r}function uE(t,e,n,o){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return Bh(r,r,r,n,o);let i=Ob(e);if(i.toRoot())return Bh(r,r,new Te([],{}),n,o);let a=Vb(i,r,t),u=a.processChildren?Ca(a.segmentGroup,a.index,i.commands):dE(a.segmentGroup,a.index,i.commands);return Bh(r,a.segmentGroup,u,n,o)}function ac(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ta(t){return typeof t=="object"&&t!=null&&t.outlets}function Bh(t,e,n,o,r){let i={};o&&Object.entries(o).forEach(([c,d])=>{i[c]=Array.isArray(d)?d.map(f=>`${f}`):`${d}`});let a;t===e?a=n:a=cE(t,e,n);let u=iE(sE(a));return new En(u,i,r)}function cE(t,e,n){let o={};return Object.entries(t.children).forEach(([r,i])=>{i===e?o[r]=n:o[r]=cE(i,e,n)}),new Te(t.segments,o)}var lc=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,o){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=o,e&&o.length>0&&ac(o[0]))throw new U(4003,!1);let r=o.find(Ta);if(r&&r!==ZC(o))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Ob(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new lc(!0,0,t);let e=0,n=!1,o=t.reduce((r,i,a)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let u={};return Object.entries(i.outlets).forEach(([c,d])=>{u[c]=typeof d=="string"?d.split("/"):d}),[...r,{outlets:u}]}if(i.segmentPath)return[...r,i.segmentPath]}return typeof i!="string"?[...r,i]:a===0?(i.split("/").forEach((u,c)=>{c==0&&u==="."||(c==0&&u===""?n=!0:u===".."?e++:u!=""&&r.push(u))}),r):[...r,i]},[]);return new lc(n,e,o)}var Yr=class{segmentGroup;processChildren;index;constructor(e,n,o){this.segmentGroup=e,this.processChildren=n,this.index=o}};function Vb(t,e,n){if(t.isAbsolute)return new Yr(e,!0,0);if(!n)return new Yr(e,!1,NaN);if(n.parent===null)return new Yr(n,!0,0);let o=ac(t.commands[0])?0:1,r=n.segments.length-1+o;return Ub(n,r,t.numberOfDoubleDots)}function Ub(t,e,n){let o=t,r=e,i=n;for(;i>r;){if(i-=r,o=o.parent,!o)throw new U(4005,!1);r=o.segments.length}return new Yr(o,!1,r-i)}function Bb(t){return Ta(t[0])?t[0].outlets:{[le]:t}}function dE(t,e,n){if(t??=new Te([],{}),t.segments.length===0&&t.hasChildren())return Ca(t,e,n);let o=Hb(t,e,n),r=n.slice(o.commandIndex);if(o.match&&o.pathIndex<t.segments.length){let i=new Te(t.segments.slice(0,o.pathIndex),{});return i.children[le]=new Te(t.segments.slice(o.pathIndex),t.children),Ca(i,0,r)}else return o.match&&r.length===0?new Te(t.segments,{}):o.match&&!t.hasChildren()?jh(t,e,n):o.match?Ca(t,0,r):jh(t,e,n)}function Ca(t,e,n){if(n.length===0)return new Te(t.segments,{});{let o=Bb(n),r={};if(Object.keys(o).some(i=>i!==le)&&t.children[le]&&t.numberOfChildren===1&&t.children[le].segments.length===0){let i=Ca(t.children[le],e,n);return new Te(t.segments,i.children)}return Object.entries(o).forEach(([i,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(r[i]=dE(t.children[i],e,a))}),Object.entries(t.children).forEach(([i,a])=>{o[i]===void 0&&(r[i]=a)}),new Te(t.segments,r)}}function Hb(t,e,n){let o=0,r=e,i={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(o>=n.length)return i;let a=t.segments[r],u=n[o];if(Ta(u))break;let c=`${u}`,d=o<n.length-1?n[o+1]:null;if(r>0&&c===void 0)break;if(c&&d&&typeof d=="object"&&d.outlets===void 0){if(!WC(c,d,a))return i;o+=2}else{if(!WC(c,{},a))return i;o++}r++}return{match:!0,pathIndex:r,commandIndex:o}}function jh(t,e,n){let o=t.segments.slice(0,e),r=0;for(;r<n.length;){let i=n[r];if(Ta(i)){let c=$b(i.outlets);return new Te(o,c)}if(r===0&&ac(n[0])){let c=t.segments[e];o.push(new eo(c.path,zC(n[0]))),r++;continue}let a=Ta(i)?i.outlets[le]:`${i}`,u=r<n.length-1?n[r+1]:null;a&&u&&ac(u)?(o.push(new eo(a,zC(u))),r+=2):(o.push(new eo(a,{})),r++)}return new Te(o,{})}function $b(t){let e={};return Object.entries(t).forEach(([n,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(e[n]=jh(new Te([],{}),0,o))}),e}function zC(t){let e={};return Object.entries(t).forEach(([n,o])=>e[n]=`${o}`),e}function WC(t,e,n){return t==n.path&&yn(e,n.parameters)}var Ea="imperative",et=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(et||{}),Rt=class{id;url;constructor(e,n){this.id=e,this.url=n}},zo=class extends Rt{type=et.NavigationStart;navigationTrigger;restoredState;constructor(e,n,o="imperative",r=null){super(e,n),this.navigationTrigger=o,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},rn=class extends Rt{urlAfterRedirects;type=et.NavigationEnd;constructor(e,n,o){super(e,n),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},mt=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(mt||{}),Sa=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(Sa||{}),Cn=class extends Rt{reason;code;type=et.NavigationCancel;constructor(e,n,o,r){super(e,n),this.reason=o,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Vn=class extends Rt{reason;code;type=et.NavigationSkipped;constructor(e,n,o,r){super(e,n),this.reason=o,this.code=r}},Qr=class extends Rt{error;target;type=et.NavigationError;constructor(e,n,o,r){super(e,n),this.error=o,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ia=class extends Rt{urlAfterRedirects;state;type=et.RoutesRecognized;constructor(e,n,o,r){super(e,n),this.urlAfterRedirects=o,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},uc=class extends Rt{urlAfterRedirects;state;type=et.GuardsCheckStart;constructor(e,n,o,r){super(e,n),this.urlAfterRedirects=o,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cc=class extends Rt{urlAfterRedirects;state;shouldActivate;type=et.GuardsCheckEnd;constructor(e,n,o,r,i){super(e,n),this.urlAfterRedirects=o,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},dc=class extends Rt{urlAfterRedirects;state;type=et.ResolveStart;constructor(e,n,o,r){super(e,n),this.urlAfterRedirects=o,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fc=class extends Rt{urlAfterRedirects;state;type=et.ResolveEnd;constructor(e,n,o,r){super(e,n),this.urlAfterRedirects=o,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pc=class{route;type=et.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},hc=class{route;type=et.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},mc=class{snapshot;type=et.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gc=class{snapshot;type=et.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vc=class{snapshot;type=et.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yc=class{snapshot;type=et.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Da=class{},Zr=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function qb(t){return!(t instanceof Da)&&!(t instanceof Zr)}function Gb(t,e){return t.providers&&!t._injector&&(t._injector=Zs(t.providers,e,`Route: ${t.path}`)),t._injector??e}function on(t){return t.outlet||le}function zb(t,e){let n=t.filter(o=>on(o)===e);return n.push(...t.filter(o=>on(o)!==e)),n}function ti(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Cc=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ti(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new ni(this.rootInjector)}},ni=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,o){let r=this.getOrCreateContext(n);r.outlet=o,this.contexts.set(n,r)}onChildOutletDestroyed(n){let o=this.getContext(n);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let o=this.getContext(n);return o||(o=new Cc(this.rootInjector),this.contexts.set(n,o)),o}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(o){return new(o||t)(Q(je))};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ec=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Jh(e,this._root);return n?n.children.map(o=>o.value):[]}firstChild(e){let n=Jh(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Yh(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Yh(e,this._root).map(n=>n.value)}};function Jh(t,e){if(t===e.value)return e;for(let n of e.children){let o=Jh(t,n);if(o)return o}return null}function Yh(t,e){if(t===e.value)return[e];for(let n of e.children){let o=Yh(t,n);if(o.length)return o.unshift(e),o}return[]}var At=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Jr(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var wa=class extends Ec{snapshot;constructor(e,n){super(e),this.snapshot=n,om(this,e)}toString(){return this.snapshot.toString()}};function fE(t){let e=Wb(t),n=new nt([new eo("",{})]),o=new nt({}),r=new nt({}),i=new nt({}),a=new nt(""),u=new Nt(n,o,i,a,r,le,t,e.root);return u.snapshot=e.root,new wa(new At(u,[]),e)}function Wb(t){let e={},n={},o={},i=new $o([],e,o,"",n,le,t,null,{});return new xa("",new At(i,[]))}var Nt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,o,r,i,a,u,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=o,this.fragmentSubject=r,this.dataSubject=i,this.outlet=a,this.component=u,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(G(d=>d[Ra]))??V(void 0),this.url=e,this.params=n,this.queryParams=o,this.fragment=r,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(G(e=>qo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(G(e=>qo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function _c(t,e,n="emptyOnly"){let o,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?o={params:N(N({},e.params),t.params),data:N(N({},e.data),t.data),resolve:N(N(N(N({},t.data),e.data),r?.data),t._resolvedData)}:o={params:N({},t.params),data:N({},t.data),resolve:N(N({},t.data),t._resolvedData??{})},r&&hE(r)&&(o.resolve[Ra]=r.title),o}var $o=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ra]}constructor(e,n,o,r,i,a,u,c,d){this.url=e,this.params=n,this.queryParams=o,this.fragment=r,this.data=i,this.outlet=a,this.component=u,this.routeConfig=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=qo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=qo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(o=>o.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},xa=class extends Ec{url;constructor(e,n){super(n),this.url=e,om(this,n)}toString(){return pE(this._root)}};function om(t,e){e.value._routerState=t,e.children.forEach(n=>om(t,n))}function pE(t){let e=t.children.length>0?` { ${t.children.map(pE).join(", ")} } `:"";return`${t.value}${e}`}function Hh(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,yn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),yn(e.params,n.params)||t.paramsSubject.next(n.params),Cb(e.url,n.url)||t.urlSubject.next(n.url),yn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Kh(t,e){let n=yn(t.params,e.params)&&Sb(t.url,e.url),o=!t.parent!=!e.parent;return n&&!o&&(!t.parent||Kh(t.parent,e.parent))}function hE(t){return typeof t.title=="string"||t.title===null}var mE=new Y(""),ka=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=le;activateEvents=new ut;deactivateEvents=new ut;attachEvents=new ut;detachEvents=new ut;routerOutletData=we(void 0);parentContexts=_(ni);location=_(Po);changeDetector=_(sa);inputBinder=_(Dc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:o,previousValue:r}=n.name;if(o)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,o){this.activated=n,this._activatedRoute=o,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,o){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=n;let r=this.location,a=n.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,c=new Qh(n,u,r.injector,this.routerOutletData);this.activated=r.createComponent(a,{index:r.length,injector:c,environmentInjector:o}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(o){return new(o||t)};static \u0275dir=Lo({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ko]})}return t})(),Qh=class{route;childContexts;parent;outletData;constructor(e,n,o,r){this.route=e,this.childContexts=n,this.parent=o,this.outletData=r}get(e,n){return e===Nt?this.route:e===ni?this.childContexts:e===mE?this.outletData:this.parent.get(e,n)}},Dc=new Y("");var rm=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275cmp=x({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(o,r){o&1&&b(0,"router-outlet")},dependencies:[ka],encapsulation:2})}return t})();function im(t){let e=t.children&&t.children.map(im),n=e?de(N({},t),{children:e}):N({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==le&&(n.component=rm),n}function jb(t,e,n){let o=ba(t,e._root,n?n._root:void 0);return new wa(o,e)}function ba(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let o=n.value;o._futureSnapshot=e.value;let r=Jb(t,e,n);return new At(o,r)}else{if(t.shouldAttach(e.value)){let i=t.retrieve(e.value);if(i!==null){let a=i.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(u=>ba(t,u)),a}}let o=Yb(e.value),r=e.children.map(i=>ba(t,i));return new At(o,r)}}function Jb(t,e,n){return e.children.map(o=>{for(let r of n.children)if(t.shouldReuseRoute(o.value,r.value.snapshot))return ba(t,o,r);return ba(t,o)})}function Yb(t){return new Nt(new nt(t.url),new nt(t.params),new nt(t.queryParams),new nt(t.fragment),new nt(t.data),t.outlet,t.component,t)}var Xr=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},gE="ngNavigationCancelingError";function Tc(t,e){let{redirectTo:n,navigationBehaviorOptions:o}=to(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=vE(!1,mt.Redirect);return r.url=n,r.navigationBehaviorOptions=o,r}function vE(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[gE]=!0,n.cancellationCode=e,n}function Kb(t){return yE(t)&&to(t.url)}function yE(t){return!!t&&t[gE]}var Qb=(t,e,n,o)=>G(r=>(new Zh(e,r.targetRouterState,r.currentRouterState,n,o).activate(t),r)),Zh=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,o,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=o,this.forwardEvent=r,this.inputBindingEnabled=i}activate(e){let n=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,o,e),Hh(this.futureState.root),this.activateChildRoutes(n,o,e)}deactivateChildRoutes(e,n,o){let r=Jr(n);e.children.forEach(i=>{let a=i.value.outlet;this.deactivateRoutes(i,r[a],o),delete r[a]}),Object.values(r).forEach(i=>{this.deactivateRouteAndItsChildren(i,o)})}deactivateRoutes(e,n,o){let r=e.value,i=n?n.value:null;if(r===i)if(r.component){let a=o.getContext(r.outlet);a&&this.deactivateChildRoutes(e,n,a.children)}else this.deactivateChildRoutes(e,n,o);else i&&this.deactivateRouteAndItsChildren(n,o)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let o=n.getContext(e.value.outlet),r=o&&e.value.component?o.children:n,i=Jr(e);for(let a of Object.values(i))this.deactivateRouteAndItsChildren(a,r);if(o&&o.outlet){let a=o.outlet.detach(),u=o.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:u})}}deactivateRouteAndOutlet(e,n){let o=n.getContext(e.value.outlet),r=o&&e.value.component?o.children:n,i=Jr(e);for(let a of Object.values(i))this.deactivateRouteAndItsChildren(a,r);o&&(o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated()),o.attachRef=null,o.route=null)}activateChildRoutes(e,n,o){let r=Jr(n);e.children.forEach(i=>{this.activateRoutes(i,r[i.value.outlet],o),this.forwardEvent(new yc(i.value.snapshot))}),e.children.length&&this.forwardEvent(new gc(e.value.snapshot))}activateRoutes(e,n,o){let r=e.value,i=n?n.value:null;if(Hh(r),r===i)if(r.component){let a=o.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,a.children)}else this.activateChildRoutes(e,n,o);else if(r.component){let a=o.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let u=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(u.contexts),a.attachRef=u.componentRef,a.route=u.route.value,a.outlet&&a.outlet.attach(u.componentRef,u.route.value),Hh(u.route.value),this.activateChildRoutes(e,null,a.children)}else a.attachRef=null,a.route=r,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(e,null,a.children)}else this.activateChildRoutes(e,null,o)}},Sc=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Kr=class{component;route;constructor(e,n){this.component=e,this.route=n}};function Zb(t,e,n){let o=t._root,r=e?e._root:null;return ya(o,r,n,[o.value])}function Xb(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function oi(t,e){let n=Symbol(),o=e.get(t,n);return o===n?typeof t=="function"&&!lf(t)?t:e.get(t):o}function ya(t,e,n,o,r={canDeactivateChecks:[],canActivateChecks:[]}){let i=Jr(e);return t.children.forEach(a=>{eM(a,i[a.value.outlet],n,o.concat([a.value]),r),delete i[a.value.outlet]}),Object.entries(i).forEach(([a,u])=>_a(u,n.getContext(a),r)),r}function eM(t,e,n,o,r={canDeactivateChecks:[],canActivateChecks:[]}){let i=t.value,a=e?e.value:null,u=n?n.getContext(t.value.outlet):null;if(a&&i.routeConfig===a.routeConfig){let c=tM(a,i,i.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new Sc(o)):(i.data=a.data,i._resolvedData=a._resolvedData),i.component?ya(t,e,u?u.children:null,o,r):ya(t,e,n,o,r),c&&u&&u.outlet&&u.outlet.isActivated&&r.canDeactivateChecks.push(new Kr(u.outlet.component,a))}else a&&_a(e,u,r),r.canActivateChecks.push(new Sc(o)),i.component?ya(t,null,u?u.children:null,o,r):ya(t,null,n,o,r);return r}function tM(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ho(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ho(t.url,e.url)||!yn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Kh(t,e)||!yn(t.queryParams,e.queryParams);case"paramsChange":default:return!Kh(t,e)}}function _a(t,e,n){let o=Jr(t),r=t.value;Object.entries(o).forEach(([i,a])=>{r.component?e?_a(a,e.children.getContext(i),n):_a(a,null,n):_a(a,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Kr(e.outlet.component,r)):n.canDeactivateChecks.push(new Kr(null,r)):n.canDeactivateChecks.push(new Kr(null,r))}function Pa(t){return typeof t=="function"}function nM(t){return typeof t=="boolean"}function oM(t){return t&&Pa(t.canLoad)}function rM(t){return t&&Pa(t.canActivate)}function iM(t){return t&&Pa(t.canActivateChild)}function sM(t){return t&&Pa(t.canDeactivate)}function aM(t){return t&&Pa(t.canMatch)}function CE(t){return t instanceof In||t?.name==="EmptyError"}var oc=Symbol("INITIAL_VALUE");function ei(){return ce(t=>yt(t.map(e=>e.pipe(wn(1),Yd(oc)))).pipe(G(e=>{for(let n of e)if(n!==!0){if(n===oc)return oc;if(n===!1||lM(n))return n}return!0}),He(e=>e!==oc),wn(1)))}function lM(t){return to(t)||t instanceof Xr}function uM(t,e){return We(n=>{let{targetSnapshot:o,currentSnapshot:r,guards:{canActivateChecks:i,canDeactivateChecks:a}}=n;return a.length===0&&i.length===0?V(de(N({},n),{guardsResult:!0})):cM(a,o,r,t).pipe(We(u=>u&&nM(u)?dM(o,i,t,e):V(u)),G(u=>de(N({},n),{guardsResult:u})))})}function cM(t,e,n,o){return Fe(t).pipe(We(r=>gM(r.component,r.route,n,e,o)),xn(r=>r!==!0,!0))}function dM(t,e,n,o){return Fe(e).pipe(Dn(r=>yr(pM(r.route.parent,o),fM(r.route,o),mM(t,r.path,n),hM(t,r.route,n))),xn(r=>r!==!0,!0))}function fM(t,e){return t!==null&&e&&e(new vc(t)),V(!0)}function pM(t,e){return t!==null&&e&&e(new mc(t)),V(!0)}function hM(t,e,n){let o=e.routeConfig?e.routeConfig.canActivate:null;if(!o||o.length===0)return V(!0);let r=o.map(i=>gs(()=>{let a=ti(e)??n,u=oi(i,a),c=rM(u)?u.canActivate(e,t):ot(a,()=>u(e,t));return Un(c).pipe(xn())}));return V(r).pipe(ei())}function mM(t,e,n){let o=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(a=>Xb(a)).filter(a=>a!==null).map(a=>gs(()=>{let u=a.guards.map(c=>{let d=ti(a.node)??n,f=oi(c,d),p=iM(f)?f.canActivateChild(o,t):ot(d,()=>f(o,t));return Un(p).pipe(xn())});return V(u).pipe(ei())}));return V(i).pipe(ei())}function gM(t,e,n,o,r){let i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||i.length===0)return V(!0);let a=i.map(u=>{let c=ti(e)??r,d=oi(u,c),f=sM(d)?d.canDeactivate(t,e,n,o):ot(c,()=>d(t,e,n,o));return Un(f).pipe(xn())});return V(a).pipe(ei())}function vM(t,e,n,o){let r=e.canLoad;if(r===void 0||r.length===0)return V(!0);let i=r.map(a=>{let u=oi(a,t),c=oM(u)?u.canLoad(e,n):ot(t,()=>u(e,n));return Un(c)});return V(i).pipe(ei(),EE(o))}function EE(t){return Hd(Le(e=>{if(typeof e!="boolean")throw Tc(t,e)}),G(e=>e===!0))}function yM(t,e,n,o){let r=e.canMatch;if(!r||r.length===0)return V(!0);let i=r.map(a=>{let u=oi(a,t),c=aM(u)?u.canMatch(e,n):ot(t,()=>u(e,n));return Un(c)});return V(i).pipe(ei(),EE(o))}var Ma=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Aa=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function jr(t){return gr(new Ma(t))}function CM(t){return gr(new U(4e3,!1))}function EM(t){return gr(vE(!1,mt.GuardRejected))}var Xh=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let o=[],r=n.root;for(;;){if(o=o.concat(r.segments),r.numberOfChildren===0)return V(o);if(r.numberOfChildren>1||!r.children[le])return CM(`${e.redirectTo}`);r=r.children[le]}}applyRedirectCommands(e,n,o,r,i){return _M(n,r,i).pipe(G(a=>{if(a instanceof En)throw new Aa(a);let u=this.applyRedirectCreateUrlTree(a,this.urlSerializer.parse(a),e,o);if(a[0]==="/")throw new Aa(u);return u}))}applyRedirectCreateUrlTree(e,n,o,r){let i=this.createSegmentGroup(e,n.root,o,r);return new En(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let o={};return Object.entries(e).forEach(([r,i])=>{if(typeof i=="string"&&i[0]===":"){let u=i.substring(1);o[r]=n[u]}else o[r]=i}),o}createSegmentGroup(e,n,o,r){let i=this.createSegments(e,n.segments,o,r),a={};return Object.entries(n.children).forEach(([u,c])=>{a[u]=this.createSegmentGroup(e,c,o,r)}),new Te(i,a)}createSegments(e,n,o,r){return n.map(i=>i.path[0]===":"?this.findPosParam(e,i,r):this.findOrReturn(i,o))}findPosParam(e,n,o){let r=o[n.path.substring(1)];if(!r)throw new U(4001,!1);return r}findOrReturn(e,n){let o=0;for(let r of n){if(r.path===e.path)return n.splice(o),r;o++}return e}};function _M(t,e,n){if(typeof t=="string")return V(t);let o=t,{queryParams:r,fragment:i,routeConfig:a,url:u,outlet:c,params:d,data:f,title:p}=e;return Un(ot(n,()=>o({params:d,data:f,queryParams:r,fragment:i,routeConfig:a,url:u,outlet:c,title:p})))}var em={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function TM(t,e,n,o,r){let i=_E(t,e,n);return i.matched?(o=Gb(e,o),yM(o,e,n,r).pipe(G(a=>a===!0?i:N({},em)))):V(i)}function _E(t,e,n){if(e.path==="**")return SM(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?N({},em):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||KC)(n,t,e);if(!r)return N({},em);let i={};Object.entries(r.posParams??{}).forEach(([u,c])=>{i[u]=c.path});let a=r.consumed.length>0?N(N({},i),r.consumed[r.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function SM(t){return{matched:!0,parameters:t.length>0?ZC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function jC(t,e,n,o){return n.length>0&&wM(t,n,o)?{segmentGroup:new Te(e,DM(o,new Te(n,t.children))),slicedSegments:[]}:n.length===0&&xM(t,n,o)?{segmentGroup:new Te(t.segments,IM(t,n,o,t.children)),slicedSegments:n}:{segmentGroup:new Te(t.segments,t.children),slicedSegments:n}}function IM(t,e,n,o){let r={};for(let i of n)if(wc(t,e,i)&&!o[on(i)]){let a=new Te([],{});r[on(i)]=a}return N(N({},o),r)}function DM(t,e){let n={};n[le]=e;for(let o of t)if(o.path===""&&on(o)!==le){let r=new Te([],{});n[on(o)]=r}return n}function wM(t,e,n){return n.some(o=>wc(t,e,o)&&on(o)!==le)}function xM(t,e,n){return n.some(o=>wc(t,e,o))}function wc(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function bM(t,e,n){return e.length===0&&!t.children[n]}var tm=class{};function MM(t,e,n,o,r,i,a="emptyOnly"){return new nm(t,e,n,o,r,a,i).recognize()}var AM=31,nm=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,o,r,i,a,u){this.injector=e,this.configLoader=n,this.rootComponentType=o,this.config=r,this.urlTree=i,this.paramsInheritanceStrategy=a,this.urlSerializer=u,this.applyRedirects=new Xh(this.urlSerializer,this.urlTree)}noMatchError(e){return new U(4002,`'${e.segmentGroup}'`)}recognize(){let e=jC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(G(({children:n,rootSnapshot:o})=>{let r=new At(o,n),i=new xa("",r),a=aE(o,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(a),{state:i,tree:a}}))}match(e){let n=new $o([],Object.freeze({}),Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),le,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,le,n).pipe(G(o=>({children:o,rootSnapshot:n})),Ze(o=>{if(o instanceof Aa)return this.urlTree=o.urlTree,this.match(o.urlTree.root);throw o instanceof Ma?this.noMatchError(o):o}))}processSegmentGroup(e,n,o,r,i){return o.segments.length===0&&o.hasChildren()?this.processChildren(e,n,o,i):this.processSegment(e,n,o,o.segments,r,!0,i).pipe(G(a=>a instanceof At?[a]:[]))}processChildren(e,n,o,r){let i=[];for(let a of Object.keys(o.children))a==="primary"?i.unshift(a):i.push(a);return Fe(i).pipe(Dn(a=>{let u=o.children[a],c=zb(n,a);return this.processSegmentGroup(e,c,u,a,r)}),Jd((a,u)=>(a.push(...u),a)),qn(null),jd(),We(a=>{if(a===null)return jr(o);let u=TE(a);return RM(u),V(u)}))}processSegment(e,n,o,r,i,a,u){return Fe(n).pipe(Dn(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,o,r,i,a,u).pipe(Ze(d=>{if(d instanceof Ma)return V(null);throw d}))),xn(c=>!!c),Ze(c=>{if(CE(c))return bM(o,r,i)?V(new tm):jr(o);throw c}))}processSegmentAgainstRoute(e,n,o,r,i,a,u,c){return on(o)!==a&&(a===le||!wc(r,i,o))?jr(r):o.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,o,i,a,c):this.allowRedirects&&u?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,o,i,a,c):jr(r)}expandSegmentAgainstRouteUsingRedirect(e,n,o,r,i,a,u){let{matched:c,parameters:d,consumedSegments:f,positionalParamSegments:p,remainingSegments:h}=_E(n,r,i);if(!c)return jr(n);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>AM&&(this.allowRedirects=!1));let m=new $o(i,d,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,JC(r),on(r),r.component??r._loadedComponent??null,r,YC(r)),E=_c(m,u,this.paramsInheritanceStrategy);return m.params=Object.freeze(E.params),m.data=Object.freeze(E.data),this.applyRedirects.applyRedirectCommands(f,r.redirectTo,p,m,e).pipe(ce(D=>this.applyRedirects.lineralizeSegments(r,D)),We(D=>this.processSegment(e,o,n,D.concat(h),a,!1,u)))}matchSegmentAgainstRoute(e,n,o,r,i,a){let u=TM(n,o,r,e,this.urlSerializer);return o.path==="**"&&(n.children={}),u.pipe(ce(c=>c.matched?(e=o._injector??e,this.getChildConfig(e,o,r).pipe(ce(({routes:d})=>{let f=o._loadedInjector??e,{parameters:p,consumedSegments:h,remainingSegments:m}=c,E=new $o(h,p,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,JC(o),on(o),o.component??o._loadedComponent??null,o,YC(o)),T=_c(E,a,this.paramsInheritanceStrategy);E.params=Object.freeze(T.params),E.data=Object.freeze(T.data);let{segmentGroup:D,slicedSegments:w}=jC(n,h,m,d);if(w.length===0&&D.hasChildren())return this.processChildren(f,d,D,E).pipe(G(L=>new At(E,L)));if(d.length===0&&w.length===0)return V(new At(E,[]));let R=on(o)===i;return this.processSegment(f,d,D,w,R?le:i,!0,E).pipe(G(L=>new At(E,L instanceof At?[L]:[])))}))):jr(n)))}getChildConfig(e,n,o){return n.children?V({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?V({routes:n._loadedRoutes,injector:n._loadedInjector}):vM(e,n,o,this.urlSerializer).pipe(We(r=>r?this.configLoader.loadChildren(e,n).pipe(Le(i=>{n._loadedRoutes=i.routes,n._loadedInjector=i.injector})):EM(n))):V({routes:[],injector:e})}};function RM(t){t.sort((e,n)=>e.value.outlet===le?-1:n.value.outlet===le?1:e.value.outlet.localeCompare(n.value.outlet))}function NM(t){let e=t.value.routeConfig;return e&&e.path===""}function TE(t){let e=[],n=new Set;for(let o of t){if(!NM(o)){e.push(o);continue}let r=e.find(i=>o.value.routeConfig===i.value.routeConfig);r!==void 0?(r.children.push(...o.children),n.add(r)):e.push(o)}for(let o of n){let r=TE(o.children);e.push(new At(o.value,r))}return e.filter(o=>!n.has(o))}function JC(t){return t.data||{}}function YC(t){return t.resolve||{}}function kM(t,e,n,o,r,i){return We(a=>MM(t,e,n,o,a.extractedUrl,r,i).pipe(G(({state:u,tree:c})=>de(N({},a),{targetSnapshot:u,urlAfterRedirects:c}))))}function PM(t,e){return We(n=>{let{targetSnapshot:o,guards:{canActivateChecks:r}}=n;if(!r.length)return V(n);let i=new Set(r.map(c=>c.route)),a=new Set;for(let c of i)if(!a.has(c))for(let d of SE(c))a.add(d);let u=0;return Fe(a).pipe(Dn(c=>i.has(c)?FM(c,o,t,e):(c.data=_c(c,c.parent,t).resolve,V(void 0))),Le(()=>u++),Cr(1),We(c=>u===a.size?V(n):gt))})}function SE(t){let e=t.children.map(n=>SE(n)).flat();return[t,...e]}function FM(t,e,n,o){let r=t.routeConfig,i=t._resolve;return r?.title!==void 0&&!hE(r)&&(i[Ra]=r.title),gs(()=>(t.data=_c(t,t.parent,n).resolve,LM(i,t,e,o).pipe(G(a=>(t._resolvedData=a,t.data=N(N({},t.data),a),null)))))}function LM(t,e,n,o){let r=Gh(t);if(r.length===0)return V({});let i={};return Fe(r).pipe(We(a=>OM(t[a],e,n,o).pipe(xn(),Le(u=>{if(u instanceof Xr)throw Tc(new Go,u);i[a]=u}))),Cr(1),G(()=>i),Ze(a=>CE(a)?gt:gr(a)))}function OM(t,e,n,o){let r=ti(e)??o,i=oi(t,r),a=i.resolve?i.resolve(e,n):ot(r,()=>i(e,n));return Un(a)}function $h(t){return ce(e=>{let n=t(e);return n?Fe(n).pipe(G(()=>e)):V(e)})}var sm=(()=>{class t{buildTitle(n){let o,r=n.root;for(;r!==void 0;)o=this.getResolvedTitleForRoute(r)??o,r=r.children.find(i=>i.outlet===le);return o}getResolvedTitleForRoute(n){return n.data[Ra]}static \u0275fac=function(o){return new(o||t)};static \u0275prov=O({token:t,factory:()=>_(IE),providedIn:"root"})}return t})(),IE=(()=>{class t extends sm{title;constructor(n){super(),this.title=n}updateTitle(n){let o=this.buildTitle(n);o!==void 0&&this.title.setTitle(o)}static \u0275fac=function(o){return new(o||t)(Q(tc))};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ri=new Y("",{providedIn:"root",factory:()=>({})}),Fa=new Y(""),DE=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=_(yh);loadComponent(n,o){if(this.componentLoaders.get(o))return this.componentLoaders.get(o);if(o._loadedComponent)return V(o._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(o);let r=Un(ot(n,()=>o.loadComponent())).pipe(G(xE),ce(bE),Le(a=>{this.onLoadEndListener&&this.onLoadEndListener(o),o._loadedComponent=a}),Wt(()=>{this.componentLoaders.delete(o)})),i=new mr(r,()=>new Be).pipe(hr());return this.componentLoaders.set(o,i),i}loadChildren(n,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return V({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);let i=wE(o,this.compiler,n,this.onLoadEndListener).pipe(Wt(()=>{this.childrenLoaders.delete(o)})),a=new mr(i,()=>new Be).pipe(hr());return this.childrenLoaders.set(o,a),a}static \u0275fac=function(o){return new(o||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function wE(t,e,n,o){return Un(ot(n,()=>t.loadChildren())).pipe(G(xE),ce(bE),We(r=>r instanceof Pu||Array.isArray(r)?V(r):Fe(e.compileModuleAsync(r))),G(r=>{o&&o(t);let i,a,u=!1;return Array.isArray(r)?(a=r,u=!0):(i=r.create(n).injector,a=i.get(Fa,[],{optional:!0,self:!0}).flat()),{routes:a.map(im),injector:i}}))}function VM(t){return t&&typeof t=="object"&&"default"in t}function xE(t){return VM(t)?t.default:t}function bE(t){return V(t)}var xc=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275prov=O({token:t,factory:()=>_(UM),providedIn:"root"})}return t})(),UM=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,o){return n}static \u0275fac=function(o){return new(o||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ME=new Y("");var AE=new Y(""),RE=(()=>{class t{currentNavigation=$(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Be;transitionAbortWithErrorSubject=new Be;configLoader=_(DE);environmentInjector=_(je);destroyRef=_(Tt);urlSerializer=_(Na);rootContexts=_(ni);location=_(Vo);inputBindingEnabled=_(Dc,{optional:!0})!==null;titleStrategy=_(sm);options=_(ri,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=_(xc);createViewTransition=_(ME,{optional:!0});navigationErrorHandler=_(AE,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>V(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=r=>this.events.next(new pc(r)),o=r=>this.events.next(new hc(r));this.configLoader.onLoadEndListener=o,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let o=++this.navigationId;Ht(()=>{this.transitions?.next(de(N({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:o}))})}setupNavigations(n){return this.transitions=new nt(null),this.transitions.pipe(He(o=>o!==null),ce(o=>{let r=!1;return V(o).pipe(ce(i=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",mt.SupersededByNewNavigation),gt;this.currentTransition=o,this.currentNavigation.set({id:i.id,initialUrl:i.rawUrl,extractedUrl:i.extractedUrl,targetBrowserUrl:typeof i.extras.browserUrl=="string"?this.urlSerializer.parse(i.extras.browserUrl):i.extras.browserUrl,trigger:i.source,extras:i.extras,previousNavigation:this.lastSuccessfulNavigation?de(N({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>i.abortController.abort()});let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=i.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&u!=="reload")return this.events.next(new Vn(i.id,this.urlSerializer.serialize(i.rawUrl),"",Sa.IgnoredSameUrlNavigation)),i.resolve(!1),gt;if(this.urlHandlingStrategy.shouldProcessUrl(i.rawUrl))return V(i).pipe(ce(c=>(this.events.next(new zo(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?gt:Promise.resolve(c))),kM(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Le(c=>{o.targetSnapshot=c.targetSnapshot,o.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(f=>(f.finalUrl=c.urlAfterRedirects,f));let d=new Ia(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(i.currentRawUrl)){let{id:c,extractedUrl:d,source:f,restoredState:p,extras:h}=i,m=new zo(c,this.urlSerializer.serialize(d),f,p);this.events.next(m);let E=fE(this.rootComponentType).snapshot;return this.currentTransition=o=de(N({},i),{targetSnapshot:E,urlAfterRedirects:d,extras:de(N({},h),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(T=>(T.finalUrl=d,T)),V(o)}else return this.events.next(new Vn(i.id,this.urlSerializer.serialize(i.extractedUrl),"",Sa.IgnoredByUrlHandlingStrategy)),i.resolve(!1),gt}),Le(i=>{let a=new uc(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot);this.events.next(a)}),G(i=>(this.currentTransition=o=de(N({},i),{guards:Zb(i.targetSnapshot,i.currentSnapshot,this.rootContexts)}),o)),uM(this.environmentInjector,i=>this.events.next(i)),Le(i=>{if(o.guardsResult=i.guardsResult,i.guardsResult&&typeof i.guardsResult!="boolean")throw Tc(this.urlSerializer,i.guardsResult);let a=new cc(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot,!!i.guardsResult);this.events.next(a)}),He(i=>i.guardsResult?!0:(this.cancelNavigationTransition(i,"",mt.GuardRejected),!1)),$h(i=>{if(i.guards.canActivateChecks.length!==0)return V(i).pipe(Le(a=>{let u=new dc(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),ce(a=>{let u=!1;return V(a).pipe(PM(this.paramsInheritanceStrategy,this.environmentInjector),Le({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",mt.NoDataFromResolver)}}))}),Le(a=>{let u=new fc(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),$h(i=>{let a=u=>{let c=[];if(u.routeConfig?.loadComponent){let d=ti(u)??this.environmentInjector;c.push(this.configLoader.loadComponent(d,u.routeConfig).pipe(Le(f=>{u.component=f}),G(()=>{})))}for(let d of u.children)c.push(...a(d));return c};return yt(a(i.targetSnapshot.root)).pipe(qn(null),wn(1))}),$h(()=>this.afterPreactivation()),ce(()=>{let{currentSnapshot:i,targetSnapshot:a}=o,u=this.createViewTransition?.(this.environmentInjector,i.root,a.root);return u?Fe(u).pipe(G(()=>o)):V(o)}),G(i=>{let a=jb(n.routeReuseStrategy,i.targetSnapshot,i.currentRouterState);return this.currentTransition=o=de(N({},i),{targetRouterState:a}),this.currentNavigation.update(u=>(u.targetRouterState=a,u)),o}),Le(()=>{this.events.next(new Da)}),Qb(this.rootContexts,n.routeReuseStrategy,i=>this.events.next(i),this.inputBindingEnabled),wn(1),yl(new pe(i=>{let a=o.abortController.signal,u=()=>i.next();return a.addEventListener("abort",u),()=>a.removeEventListener("abort",u)}).pipe(He(()=>!r&&!o.targetRouterState),Le(()=>{this.cancelNavigationTransition(o,o.abortController.signal.reason+"",mt.Aborted)}))),Le({next:i=>{r=!0,this.lastSuccessfulNavigation=Ht(this.currentNavigation),this.events.next(new rn(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects))),this.titleStrategy?.updateTitle(i.targetRouterState.snapshot),i.resolve(!0)},complete:()=>{r=!0}}),yl(this.transitionAbortWithErrorSubject.pipe(Le(i=>{throw i}))),Wt(()=>{r||this.cancelNavigationTransition(o,"",mt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Ze(i=>{if(this.destroyed)return o.resolve(!1),gt;if(r=!0,yE(i))this.events.next(new Cn(o.id,this.urlSerializer.serialize(o.extractedUrl),i.message,i.cancellationCode)),Kb(i)?this.events.next(new Zr(i.url,i.navigationBehaviorOptions)):o.resolve(!1);else{let a=new Qr(o.id,this.urlSerializer.serialize(o.extractedUrl),i,o.targetSnapshot??void 0);try{let u=ot(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(u instanceof Xr){let{message:c,cancellationCode:d}=Tc(this.urlSerializer,u);this.events.next(new Cn(o.id,this.urlSerializer.serialize(o.extractedUrl),c,d)),this.events.next(new Zr(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(a),i}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return gt}))}))}cancelNavigationTransition(n,o,r){let i=new Cn(n.id,this.urlSerializer.serialize(n.extractedUrl),o,r);this.events.next(i),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),o=Ht(this.currentNavigation),r=o?.targetBrowserUrl??o?.extractedUrl;return n.toString()!==r?.toString()&&!o?.extras.skipLocationChange}static \u0275fac=function(o){return new(o||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function BM(t){return t!==Ea}var NE=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275prov=O({token:t,factory:()=>_(HM),providedIn:"root"})}return t})(),Ic=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},HM=(()=>{class t extends Ic{static \u0275fac=(()=>{let n;return function(r){return(n||(n=Eu(t)))(r||t)}})();static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),kE=(()=>{class t{urlSerializer=_(Na);options=_(ri,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=_(Vo);urlHandlingStrategy=_(xc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new En;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:o,targetBrowserUrl:r}){let i=n!==void 0?this.urlHandlingStrategy.merge(n,o):o,a=r??i;return a instanceof En?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:n,finalUrl:o,initialUrl:r}){o&&n?(this.currentUrlTree=o,this.rawUrlTree=this.urlHandlingStrategy.merge(o,r),this.routerState=n):this.rawUrlTree=r}routerState=fE(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(o){return new(o||t)};static \u0275prov=O({token:t,factory:()=>_($M),providedIn:"root"})}return t})(),$M=(()=>{class t extends kE{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(o=>{o.type==="popstate"&&setTimeout(()=>{n(o.url,o.state,"popstate")})})}handleRouterEvent(n,o){n instanceof zo?this.updateStateMemento():n instanceof Vn?this.commitTransition(o):n instanceof Ia?this.urlUpdateStrategy==="eager"&&(o.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(o),o)):n instanceof Da?(this.commitTransition(o),this.urlUpdateStrategy==="deferred"&&!o.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(o),o)):n instanceof Cn&&n.code!==mt.SupersededByNewNavigation&&n.code!==mt.Redirect?this.restoreHistory(o):n instanceof Qr?this.restoreHistory(o,!0):n instanceof rn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:o,id:r}){let{replaceUrl:i,state:a}=o;if(this.location.isCurrentPathEqualTo(n)||i){let u=this.browserPageId,c=N(N({},a),this.generateNgRouterState(r,u));this.location.replaceState(n,"",c)}else{let u=N(N({},a),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(n,"",u)}}restoreHistory(n,o=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,i=this.currentPageId-r;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===n.finalUrl&&i===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(o&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,o){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:o}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(r){return(n||(n=Eu(t)))(r||t)}})();static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function am(t,e){t.events.pipe(He(n=>n instanceof rn||n instanceof Cn||n instanceof Qr||n instanceof Vn),G(n=>n instanceof rn||n instanceof Vn?0:(n instanceof Cn?n.code===mt.Redirect||n.code===mt.SupersededByNewNavigation:!1)?2:1),He(n=>n!==2),wn(1)).subscribe(()=>{e()})}var qM={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},GM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ii=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=_(ah);stateManager=_(kE);options=_(ri,{optional:!0})||{};pendingTasks=_(pn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=_(RE);urlSerializer=_(Na);location=_(Vo);urlHandlingStrategy=_(xc);injector=_(je);_events=new Be;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=_(NE);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=_(Fa,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!_(Dc,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ge;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(o=>{try{let r=this.navigationTransitions.currentTransition,i=Ht(this.navigationTransitions.currentNavigation);if(r!==null&&i!==null){if(this.stateManager.handleRouterEvent(o,i),o instanceof Cn&&o.code!==mt.Redirect&&o.code!==mt.SupersededByNewNavigation)this.navigated=!0;else if(o instanceof rn)this.navigated=!0;else if(o instanceof Zr){let a=o.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(o.url,r.currentRawUrl),c=N({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||BM(r.source)},a);this.scheduleNavigation(u,Ea,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}qb(o)&&this._events.next(o)}catch(r){this.navigationTransitions.transitionAbortWithErrorSubject.next(r)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ea,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,o,r)=>{this.navigateToSyncWithBrowser(n,r,o)})}navigateToSyncWithBrowser(n,o,r){let i={replaceUrl:!0},a=r?.navigationId?r:null;if(r){let c=N({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let u=this.parseUrl(n);this.scheduleNavigation(u,o,a,i).catch(c=>{this.disposed||this.injector.get(bt)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Ht(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(im),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,o={}){let{relativeTo:r,queryParams:i,fragment:a,queryParamsHandling:u,preserveFragment:c}=o,d=c?this.currentUrlTree.fragment:a,f=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":f=N(N({},this.currentUrlTree.queryParams),i);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=i||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let h=r?r.snapshot:this.routerState.snapshot.root;p=lE(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return uE(p,n,f,d??null)}navigateByUrl(n,o={skipLocationChange:!1}){let r=to(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(i,Ea,null,o)}navigate(n,o={skipLocationChange:!1}){return zM(n),this.navigateByUrl(this.createUrlTree(n,o),o)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,o){let r;if(o===!0?r=N({},qM):o===!1?r=N({},GM):r=o,to(n))return qC(this.currentUrlTree,n,r);let i=this.parseUrl(n);return qC(this.currentUrlTree,i,r)}removeEmptyProps(n){return Object.entries(n).reduce((o,[r,i])=>(i!=null&&(o[r]=i),o),{})}scheduleNavigation(n,o,r,i,a){if(this.disposed)return Promise.resolve(!1);let u,c,d;a?(u=a.resolve,c=a.reject,d=a.promise):d=new Promise((p,h)=>{u=p,c=h});let f=this.pendingTasks.add();return am(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:u,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}static \u0275fac=function(o){return new(o||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function zM(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new U(4008,!1)}var It=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=$(null);get href(){return Ht(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Be;applicationErrorHandler=_(bt);options=_(ri,{optional:!0});constructor(n,o,r,i,a,u){this.router=n,this.route=o,this.tabIndexAttribute=r,this.renderer=i,this.el=a,this.locationStrategy=u,this.reactiveHref.set(_(new $u("href"),{optional:!0}));let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,o=r=>r==="merge"||r==="preserve";n||=o(this.queryParamsHandling),n||=!this.queryParamsHandling&&!o(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(r=>{r instanceof rn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(to(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,o,r,i,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(n!==0||o||r||i||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,c)?.catch(d=>{this.applicationErrorHandler(d)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,o){let r=this.renderer,i=this.el.nativeElement;o!==null?r.setAttribute(i,n,o):r.removeAttribute(i,n)}get urlTree(){return this.routerLinkInput===null?null:to(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(o){return new(o||t)(St(ii),St(Nt),zs("tabindex"),St(Qs),St(Pn),St(vn))};static \u0275dir=Lo({type:t,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(o,r){o&1&&j("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),o&2&&Ou("href",r.reactiveHref(),Hp)("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",qu],skipLocationChange:[2,"skipLocationChange","skipLocationChange",qu],replaceUrl:[2,"replaceUrl","replaceUrl",qu],routerLink:"routerLink"},features:[ko]})}return t})(),lm=(()=>{class t{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new ut;constructor(n,o,r,i,a){this.router=n,this.element=o,this.renderer=r,this.cdr=i,this.link=a,this.routerEventsSubscription=n.events.subscribe(u=>{u instanceof rn&&this.update()})}ngAfterContentInit(){V(this.links.changes,V(null)).pipe(vr()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(o=>!!o).map(o=>o.onChanges);this.linkInputChangesSubscription=Fe(n).pipe(vr()).subscribe(o=>{this._isActive!==this.isLinkActive(this.router)(o)&&this.update()})}set routerLinkActive(n){let o=Array.isArray(n)?n:n.split(" ");this.classes=o.filter(r=>!!r)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(o=>{n?this.renderer.addClass(this.element.nativeElement,o):this.renderer.removeClass(this.element.nativeElement,o)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let o=jM(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let i=r.urlTree;return i?n.isActive(i,o):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(o){return new(o||t)(St(ii),St(Pn),St(Qs),St(sa),St(It,8))};static \u0275dir=Lo({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(o,r,i){if(o&1&&fh(i,It,5),o&2){let a;ph(a=hh())&&(r.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[ko]})}return t})();function jM(t){return!!t.paths}var JM=new Y("");function um(t,...e){return Eo([{provide:Fa,multi:!0,useValue:t},[],{provide:Nt,useFactory:YM,deps:[ii]},{provide:Fu,multi:!0,useFactory:QM},e.map(n=>n.\u0275providers)])}function YM(t){return t.routerState.root}function KM(t,e){return{\u0275kind:t,\u0275providers:e}}function QM(){let t=_(_t);return e=>{let n=t.get(Oo);if(e!==n.components[0])return;let o=t.get(ii),r=t.get(ZM);t.get(XM)===1&&o.initialNavigation(),t.get(eA,null,{optional:!0})?.setUpPreloading(),t.get(JM,null,{optional:!0})?.init(),o.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var ZM=new Y("",{factory:()=>new Be}),XM=new Y("",{providedIn:"root",factory:()=>1});var eA=new Y("");function cm(){return KM(6,[{provide:vn,useClass:wh}])}var Wo=class Wo{constructor(){this.translations={ar:{"Quran Kareem":"\u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064A\u0645",Home:"\u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629",Surahs:"\u0627\u0644\u0633\u0648\u0631",Reciters:"\u0627\u0644\u0642\u0631\u0627\u0621",Radio:"\u0627\u0644\u0625\u0630\u0627\u0639\u0629",Language:"\u0627\u0644\u0644\u063A\u0629","Listen to Holy Quran Radio":"\u0627\u0633\u062A\u0645\u0639 \u0625\u0644\u0649 \u0625\u0630\u0627\u0639\u0629 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064A\u0645","Explore the Holy Quran":"\u062A\u0635\u0641\u062D \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064A\u0645","Choose from renowned reciters":"\u0627\u062E\u062A\u0631 \u0645\u0646 \u0628\u064A\u0646 \u0645\u0634\u0627\u0647\u064A\u0631 \u0627\u0644\u0642\u0631\u0627\u0621","Listen to Live Radio":"\u0627\u0633\u062A\u0645\u0639 \u0644\u0644\u0628\u062B \u0627\u0644\u0645\u0628\u0627\u0634\u0631","All Surahs":"\u0643\u0644 \u0627\u0644\u0633\u0648\u0631","All Reciters":"\u0643\u0644 \u0627\u0644\u0642\u0631\u0627\u0621","All Radio Stations":"\u062C\u0645\u064A\u0639 \u0645\u062D\u0637\u0627\u062A \u0627\u0644\u0625\u0630\u0627\u0639\u0629",Revelation:"\u0627\u0644\u0646\u0632\u0648\u0644",Ayahs:"\u0622\u064A\u0627\u062A",Meccan:"\u0645\u0643\u064A\u0629",Medinan:"\u0645\u062F\u0646\u064A\u0629",Recitations:"\u0627\u0644\u062A\u0644\u0627\u0648\u0627\u062A","Select Reciter":"\u0627\u062E\u062A\u0631 \u0627\u0644\u0642\u0627\u0631\u0626","Loading...":"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0645\u064A\u0644...","Error loading data.":"\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A.",Tafsir:"\u0627\u0644\u062A\u0641\u0633\u064A\u0631","Select Tafsir":"\u0627\u062E\u062A\u0631 \u0627\u0644\u062A\u0641\u0633\u064A\u0631","Show Tafsir":"\u0625\u0638\u0647\u0627\u0631 \u0627\u0644\u062A\u0641\u0633\u064A\u0631","Hide Tafsir":"\u0625\u062E\u0641\u0627\u0621 \u0627\u0644\u062A\u0641\u0633\u064A\u0631","Ask AI":"\u0627\u0633\u0623\u0644 \u0627\u0644\u0630\u0643\u0627\u0621 \u0627\u0644\u0627\u0635\u0637\u0646\u0627\u0639\u064A","AI Explanation":"\u0634\u0631\u062D \u0628\u0627\u0644\u0630\u0643\u0627\u0621 \u0627\u0644\u0627\u0635\u0637\u0646\u0627\u0639\u064A","Generating explanation...":"\u062C\u0627\u0631\u064A \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0634\u0631\u062D...","Could not get explanation.":"\u062A\u0639\u0630\u0631 \u0627\u0644\u062D\u0635\u0648\u0644 \u0639\u0644\u0649 \u0634\u0631\u062D.",Close:"\u0625\u063A\u0644\u0627\u0642",Favorites:"\u0627\u0644\u0645\u0641\u0636\u0644\u0629","My Favorites":"\u0645\u0641\u0636\u0644\u062A\u064A","Favorited Surahs":"\u0627\u0644\u0633\u0648\u0631 \u0627\u0644\u0645\u0641\u0636\u0644\u0629","Favorited Ayahs":"\u0627\u0644\u0622\u064A\u0627\u062A \u0627\u0644\u0645\u0641\u0636\u0644\u0629","No favorites yet.":"\u0644\u0627 \u064A\u0648\u062C\u062F \u0645\u0641\u0636\u0644\u0627\u062A \u0628\u0639\u062F.","Add to favorites":"\u0625\u0636\u0627\u0641\u0629 \u0625\u0644\u0649 \u0627\u0644\u0645\u0641\u0636\u0644\u0629","Remove from favorites":"\u0625\u0632\u0627\u0644\u0629 \u0645\u0646 \u0627\u0644\u0645\u0641\u0636\u0644\u0629","Add to bookmarks":"\u0625\u0636\u0627\u0641\u0629 \u0625\u0644\u0649 \u0627\u0644\u0625\u0634\u0627\u0631\u0627\u062A \u0627\u0644\u0645\u0631\u062C\u0639\u064A\u0629","Remove from bookmarks":"\u0625\u0632\u0627\u0644\u0629 \u0645\u0646 \u0627\u0644\u0625\u0634\u0627\u0631\u0627\u062A \u0627\u0644\u0645\u0631\u062C\u0639\u064A\u0629",Qibla:"\u0627\u0644\u0642\u0628\u0644\u0629","Find the direction to the Kaaba":"\u0627\u0628\u062D\u062B \u0639\u0646 \u0627\u062A\u062C\u0627\u0647 \u0627\u0644\u0643\u0639\u0628\u0629 \u0627\u0644\u0645\u0634\u0631\u0641\u0629","Get Location":"\u0627\u0644\u062D\u0635\u0648\u0644 \u0639\u0644\u0649 \u0627\u0644\u0645\u0648\u0642\u0639","Qibla Direction":"\u0627\u062A\u062C\u0627\u0647 \u0627\u0644\u0642\u0628\u0644\u0629",Distance:"\u0627\u0644\u0645\u0633\u0627\u0641\u0629","Acquiring location...":"\u062C\u0627\u0631\u064A \u062A\u062D\u062F\u064A\u062F \u0627\u0644\u0645\u0648\u0642\u0639...","Location acquired.":"\u062A\u0645 \u062A\u062D\u062F\u064A\u062F \u0627\u0644\u0645\u0648\u0642\u0639.","Could not get location. Please enable location services.":"\u062A\u0639\u0630\u0631 \u0627\u0644\u062D\u0635\u0648\u0644 \u0639\u0644\u0649 \u0627\u0644\u0645\u0648\u0642\u0639. \u064A\u0631\u062C\u0649 \u062A\u0641\u0639\u064A\u0644 \u062E\u062F\u0645\u0627\u062A \u0627\u0644\u0645\u0648\u0642\u0639.","Compass not supported.":"\u0627\u0644\u0628\u0648\u0635\u0644\u0629 \u063A\u064A\u0631 \u0645\u062F\u0639\u0648\u0645\u0629.",km:"\u0643\u0645","Calibrate Compass":"\u0645\u0639\u0627\u064A\u0631\u0629 \u0627\u0644\u0628\u0648\u0635\u0644\u0629","For best results, move your phone in a figure-eight pattern to calibrate the compass.":"\u0644\u0644\u062D\u0635\u0648\u0644 \u0639\u0644\u0649 \u0623\u0641\u0636\u0644 \u0627\u0644\u0646\u062A\u0627\u0626\u062C\u060C \u0642\u0645 \u0628\u062A\u062D\u0631\u064A\u0643 \u0647\u0627\u062A\u0641\u0643 \u0639\u0644\u0649 \u0634\u0643\u0644 \u0631\u0642\u0645 \u062B\u0645\u0627\u0646\u064A\u0629 \u0644\u0645\u0639\u0627\u064A\u0631\u0629 \u0627\u0644\u0628\u0648\u0635\u0644\u0629.",Done:"\u062A\u0645","Prayer Times":"\u0623\u0648\u0642\u0627\u062A \u0627\u0644\u0635\u0644\u0627\u0629","Daily prayer times for your location":"\u0623\u0648\u0642\u0627\u062A \u0627\u0644\u0635\u0644\u0627\u0629 \u0627\u0644\u064A\u0648\u0645\u064A\u0629 \u0644\u0645\u0648\u0642\u0639\u0643",Fajr:"\u0627\u0644\u0641\u062C\u0631",Sunrise:"\u0627\u0644\u0634\u0631\u0648\u0642",Dhuhr:"\u0627\u0644\u0638\u0647\u0631",Asr:"\u0627\u0644\u0639\u0635\u0631",Maghrib:"\u0627\u0644\u0645\u063A\u0631\u0628",Isha:"\u0627\u0644\u0639\u0634\u0627\u0621","Next prayer":"\u0627\u0644\u0635\u0644\u0627\u0629 \u0627\u0644\u062A\u0627\u0644\u064A\u0629",Refresh:"\u062A\u062D\u062F\u064A\u062B",Today:"\u0627\u0644\u064A\u0648\u0645",Location:"\u0627\u0644\u0645\u0648\u0642\u0639","Error loading prayer times.":"\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0623\u0648\u0642\u0627\u062A \u0627\u0644\u0635\u0644\u0627\u0629.","Search Reciters...":"\u0627\u0628\u062D\u062B \u0639\u0646 \u0642\u0627\u0631\u0626...","Playback Mode":"\u0648\u0636\u0639 \u0627\u0644\u062A\u0634\u063A\u064A\u0644","By Ayah":"\u0622\u064A\u0629 \u0628\u0622\u064A\u0629","Full Surah":"\u0633\u0648\u0631\u0629 \u0643\u0627\u0645\u0644\u0629","Play Surah":"\u062A\u0634\u063A\u064A\u0644 \u0627\u0644\u0633\u0648\u0631\u0629","All Surahs by":"\u062C\u0645\u064A\u0639 \u0633\u0648\u0631 \u0627\u0644\u0642\u0627\u0631\u0626",Listen:"\u0627\u0633\u062A\u0645\u0627\u0639","Not available":"\u063A\u064A\u0631 \u0645\u062A\u0627\u062D","No reciters found.":"\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u0642\u0631\u0627\u0621.","Translation View":"\u0639\u0631\u0636 \u0627\u0644\u062A\u0631\u062C\u0645\u0629",Arabic:"\u0639\u0631\u0628\u064A",English:"\u0625\u0646\u062C\u0644\u064A\u0632\u064A","Sort by":"\u0641\u0631\u0632 \u062D\u0633\u0628","Surah Number":"\u0631\u0642\u0645 \u0627\u0644\u0633\u0648\u0631\u0629",Name:"\u0627\u0644\u0627\u0633\u0645","Date Added":"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0625\u0636\u0627\u0641\u0629","Ayah Number":"\u0631\u0642\u0645 \u0627\u0644\u0622\u064A\u0629","Jump to Ayah":"\u0627\u0644\u0627\u0646\u062A\u0642\u0627\u0644 \u0625\u0644\u0649 \u0622\u064A\u0629",Go:"\u0627\u0630\u0647\u0628","Search favorites...":"\u0627\u0628\u062D\u062B \u0641\u064A \u0627\u0644\u0645\u0641\u0636\u0644\u0629...","No favorites found matching your search.":"\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u0645\u0641\u0636\u0644\u0627\u062A \u0645\u0637\u0627\u0628\u0642\u0629 \u0644\u0628\u062D\u062B\u0643.","Verse of the Day":"\u0622\u064A\u0629 \u0627\u0644\u064A\u0648\u0645","Welcome to Quran Kareem":"\u0623\u0647\u0644\u0627\u064B \u0628\u0643 \u0641\u064A \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064A\u0645","Your daily inspiration from the Holy Quran":"\u0625\u0644\u0647\u0627\u0645\u0643 \u0627\u0644\u064A\u0648\u0645\u064A \u0645\u0646 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064A\u0645","Explore all 114 chapters":"\u062A\u0635\u0641\u062D \u062C\u0645\u064A\u0639 \u0627\u0644\u0633\u0648\u0631 \u0627\u0644\u0640 114","Listen to various recitations":"\u0627\u0633\u062A\u0645\u0639 \u0625\u0644\u0649 \u062A\u0644\u0627\u0648\u0627\u062A \u0645\u062A\u0646\u0648\u0639\u0629","Tune in to live Quran broadcasts":"\u0627\u0633\u062A\u0645\u0639 \u0625\u0644\u0649 \u0628\u062B \u0645\u0628\u0627\u0634\u0631 \u0644\u0644\u0642\u0631\u0622\u0646","Find the direction of the Kaaba":"\u0627\u0628\u062D\u062B \u0639\u0646 \u0627\u062A\u062C\u0627\u0647 \u0627\u0644\u0643\u0639\u0628\u0629 \u0627\u0644\u0645\u0634\u0631\u0641\u0629","Check daily prayer timings":"\u062A\u062D\u0642\u0642 \u0645\u0646 \u0623\u0648\u0642\u0627\u062A \u0627\u0644\u0635\u0644\u0627\u0629 \u0627\u0644\u064A\u0648\u0645\u064A\u0629","Essential Tools":"\u0627\u0644\u0623\u062F\u0648\u0627\u062A \u0627\u0644\u0623\u0633\u0627\u0633\u064A\u0629","Surah Information":"\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0633\u0648\u0631\u0629","Revelation Place":"\u0645\u0643\u0627\u0646 \u0627\u0644\u0646\u0632\u0648\u0644","Number of Verses":"\u0639\u062F\u062F \u0627\u0644\u0622\u064A\u0627\u062A","Translated Name":"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0645\u062A\u0631\u062C\u0645",Bookmarks:"\u0627\u0644\u0625\u0634\u0627\u0631\u0627\u062A \u0627\u0644\u0645\u0631\u062C\u0639\u064A\u0629","My Bookmarks":"\u0625\u0634\u0627\u0631\u0627\u062A\u064A \u0627\u0644\u0645\u0631\u062C\u0639\u064A\u0629","Bookmarked Ayahs":"\u0627\u0644\u0622\u064A\u0627\u062A \u0627\u0644\u0645\u0631\u062C\u0639\u064A\u0629","No bookmarks yet.":"\u0644\u0627 \u064A\u0648\u062C\u062F \u0625\u0634\u0627\u0631\u0627\u062A \u0645\u0631\u062C\u0639\u064A\u0629 \u0628\u0639\u062F.","Search bookmarks...":"\u0627\u0628\u062D\u062B \u0641\u064A \u0627\u0644\u0625\u0634\u0627\u0631\u0627\u062A \u0627\u0644\u0645\u0631\u062C\u0639\u064A\u0629...","No bookmarks found matching your search.":"\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u0625\u0634\u0627\u0631\u0627\u062A \u0645\u0631\u062C\u0639\u064A\u0629 \u0645\u0637\u0627\u0628\u0642\u0629 \u0644\u0628\u062D\u062B\u0643.","You can add ayahs to your bookmarks by clicking the bookmark icon on any surah page.":"\u064A\u0645\u0643\u0646\u0643 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0622\u064A\u0627\u062A \u0625\u0644\u0649 \u0625\u0634\u0627\u0631\u0627\u062A\u0643 \u0627\u0644\u0645\u0631\u062C\u0639\u064A\u0629 \u0639\u0646 \u0637\u0631\u064A\u0642 \u0627\u0644\u0646\u0642\u0631 \u0639\u0644\u0649 \u0623\u064A\u0642\u0648\u0646\u0629 \u0627\u0644\u0625\u0634\u0627\u0631\u0629 \u0627\u0644\u0645\u0631\u062C\u0639\u064A\u0629 \u0641\u064A \u0635\u0641\u062D\u0629 \u0623\u064A \u0633\u0648\u0631\u0629.","Explore Surahs":"\u062A\u0635\u0641\u062D \u0627\u0644\u0633\u0648\u0631","Share Ayah":"\u0645\u0634\u0627\u0631\u0643\u0629 \u0627\u0644\u0622\u064A\u0629","An Ayah from the Quran":"\u0622\u064A\u0629 \u0645\u0646 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064A\u0645","Copied to clipboard!":"\u062A\u0645 \u0627\u0644\u0646\u0633\u062E \u0625\u0644\u0649 \u0627\u0644\u062D\u0627\u0641\u0638\u0629!","Compass unstable.":"\u0627\u0644\u0628\u0648\u0635\u0644\u0629 \u063A\u064A\u0631 \u0645\u0633\u062A\u0642\u0631\u0629.","For better accuracy, please recalibrate.":"\u0644\u0644\u062D\u0635\u0648\u0644 \u0639\u0644\u0649 \u062F\u0642\u0629 \u0623\u0641\u0636\u0644\u060C \u064A\u0631\u062C\u0649 \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u0639\u0627\u064A\u0631\u0629.",Recalibrate:"\u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u0639\u0627\u064A\u0631\u0629",Quality:"\u0627\u0644\u062C\u0648\u062F\u0629",All:"\u0627\u0644\u0643\u0644","Frequently Read Surahs":"\u0627\u0644\u0633\u0648\u0631 \u0627\u0644\u0623\u0643\u062B\u0631 \u0642\u0631\u0627\u0621\u0629",About:"\u062D\u0648\u0644 \u0627\u0644\u062A\u0637\u0628\u064A\u0642",about_page_subtitle:"\u0631\u0641\u064A\u0642\u0643 \u0627\u0644\u0631\u0642\u0645\u064A \u0627\u0644\u0634\u0627\u0645\u0644 \u0644\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064A\u0645",about_section_title:"\u0645\u0647\u0645\u062A\u0646\u0627",about_section_p1:"\u062A\u0637\u0628\u064A\u0642 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064A\u0645 \u0645\u0635\u0645\u0645 \u0644\u064A\u0643\u0648\u0646 \u0623\u062F\u0627\u0629 \u062C\u0645\u064A\u0644\u0629 \u0648\u0633\u0647\u0644\u0629 \u0627\u0644\u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0644\u0644\u0642\u0631\u0627\u0621\u0629 \u0648\u0627\u0644\u0627\u0633\u062A\u0645\u0627\u0639 \u0648\u0627\u0644\u062A\u0641\u0627\u0639\u0644 \u0645\u0639 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064A\u0645. \u0647\u062F\u0641\u0646\u0627 \u0647\u0648 \u062A\u0648\u0641\u064A\u0631 \u062A\u062C\u0631\u0628\u0629 \u0633\u0644\u0633\u0629 \u0648\u063A\u0646\u064A\u0629 \u0644\u0644\u0645\u0633\u0644\u0645\u064A\u0646 \u0641\u064A \u062C\u0645\u064A\u0639 \u0623\u0646\u062D\u0627\u0621 \u0627\u0644\u0639\u0627\u0644\u0645 \u0644\u0644\u0627\u062A\u0635\u0627\u0644 \u0628\u0643\u0644\u0627\u0645 \u0627\u0644\u0644\u0647.",about_section_p2:"\u0633\u0648\u0627\u0621 \u0643\u0646\u062A \u062A\u0631\u063A\u0628 \u0641\u064A \u0642\u0631\u0627\u0621\u0629 \u0627\u0644\u0633\u0648\u0631\u060C \u0623\u0648 \u0627\u0644\u0627\u0633\u062A\u0645\u0627\u0639 \u0625\u0644\u0649 \u0627\u0644\u0642\u0631\u0627\u0621 \u0627\u0644\u0645\u0641\u0636\u0644\u064A\u0646 \u0644\u062F\u064A\u0643\u060C \u0623\u0648 \u0627\u0633\u062A\u0643\u0634\u0627\u0641 \u0627\u0644\u0645\u0639\u0627\u0646\u064A \u0627\u0644\u0623\u0639\u0645\u0642 \u0644\u0644\u0622\u064A\u0627\u062A\u060C \u0641\u0625\u0646 \u0647\u0630\u0627 \u0627\u0644\u062A\u0637\u0628\u064A\u0642 \u064A\u0648\u0641\u0631 \u0645\u062C\u0645\u0648\u0639\u0629 \u0634\u0627\u0645\u0644\u0629 \u0645\u0646 \u0627\u0644\u0645\u064A\u0632\u0627\u062A \u0644\u062F\u0639\u0645 \u0631\u062D\u0644\u062A\u0643 \u0627\u0644\u0631\u0648\u062D\u064A\u0629.","Key Features":"\u0627\u0644\u0645\u064A\u0632\u0627\u062A \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629",feature_0:"\u0642\u0631\u0627\u0621\u0629 \u0648\u0627\u0633\u062A\u0645\u0627\u0639 \u0644\u062C\u0645\u064A\u0639 \u0627\u0644\u0633\u0648\u0631 \u0627\u0644\u0640 114.",feature_1:"\u0627\u0644\u0627\u062E\u062A\u064A\u0627\u0631 \u0645\u0646 \u0628\u064A\u0646 \u0645\u062C\u0645\u0648\u0639\u0629 \u0648\u0627\u0633\u0639\u0629 \u0645\u0646 \u0627\u0644\u0642\u0631\u0627\u0621 \u0627\u0644\u0645\u0634\u0647\u0648\u0631\u064A\u0646.",feature_2:"\u0627\u0644\u0627\u0633\u062A\u0645\u0627\u0639 \u0625\u0644\u0649 \u0645\u062D\u0637\u0627\u062A \u0625\u0630\u0627\u0639\u0629 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064A\u0645 \u0627\u0644\u062D\u064A\u0629 \u0645\u0646 \u062C\u0645\u064A\u0639 \u0623\u0646\u062D\u0627\u0621 \u0627\u0644\u0639\u0627\u0644\u0645.",feature_3:"\u0627\u0644\u062D\u0635\u0648\u0644 \u0639\u0644\u0649 \u0634\u0631\u0648\u062D\u0627\u062A \u0645\u062F\u0639\u0648\u0645\u0629 \u0628\u0627\u0644\u0630\u0643\u0627\u0621 \u0627\u0644\u0627\u0635\u0637\u0646\u0627\u0639\u064A \u0644\u0644\u0622\u064A\u0627\u062A \u0644\u062A\u0639\u0645\u064A\u0642 \u0641\u0647\u0645\u0643.",feature_4:"\u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u0627\u062A\u062C\u0627\u0647 \u0627\u0644\u0642\u0628\u0644\u0629 \u0628\u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0628\u0648\u0635\u0644\u062A\u0646\u0627 \u0627\u0644\u062F\u0642\u064A\u0642\u0629.",feature_5:"\u0627\u0644\u062A\u062D\u0642\u0642 \u0645\u0646 \u0623\u0648\u0642\u0627\u062A \u0627\u0644\u0635\u0644\u0627\u0629 \u0627\u0644\u064A\u0648\u0645\u064A\u0629 \u0644\u0645\u0648\u0642\u0639\u0643.",feature_6:"\u062D\u0641\u0638 \u0627\u0644\u0633\u0648\u0631 \u0648\u0627\u0644\u0622\u064A\u0627\u062A \u0627\u0644\u0645\u0641\u0636\u0644\u0629 \u0644\u062F\u064A\u0643 \u0644\u0644\u0648\u0635\u0648\u0644 \u0627\u0644\u0633\u0631\u064A\u0639.",feature_7:"\u0648\u0636\u0639 \u0625\u0634\u0627\u0631\u0627\u062A \u0645\u0631\u062C\u0639\u064A\u0629 \u0639\u0644\u0649 \u0627\u0644\u0622\u064A\u0627\u062A \u0644\u0644\u0639\u0648\u062F\u0629 \u0625\u0644\u064A\u0647\u0627 \u0628\u0633\u0647\u0648\u0644\u0629 \u0644\u0627\u062D\u0642\u064B\u0627.",feature_8:"\u0648\u0627\u062C\u0647\u0629 \u062C\u0645\u064A\u0644\u0629 \u0648\u0633\u0647\u0644\u0629 \u0627\u0644\u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0645\u0639 \u062F\u0639\u0645 \u0645\u062A\u0639\u062F\u062F \u0627\u0644\u0644\u063A\u0627\u062A (\u0627\u0644\u0639\u0631\u0628\u064A\u0629 \u0648\u0627\u0644\u0625\u0646\u062C\u0644\u064A\u0632\u064A\u0629).","Data Sources":"\u0645\u0635\u0627\u062F\u0631 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",data_sources_intro:"\u064A\u0639\u062A\u0645\u062F \u0647\u0630\u0627 \u0627\u0644\u062A\u0637\u0628\u064A\u0642 \u0639\u0644\u0649 \u0627\u0644\u0639\u062F\u064A\u062F \u0645\u0646 \u0648\u0627\u062C\u0647\u0627\u062A \u0628\u0631\u0645\u062C\u0629 \u0627\u0644\u062A\u0637\u0628\u064A\u0642\u0627\u062A \u0627\u0644\u0639\u0627\u0645\u0629 \u0639\u0627\u0644\u064A\u0629 \u0627\u0644\u062C\u0648\u062F\u0629 \u0644\u062A\u0648\u0641\u064A\u0631 \u0628\u064A\u0627\u0646\u0627\u062A \u062F\u0642\u064A\u0642\u0629 \u0648\u0645\u0648\u062B\u0648\u0642\u0629. \u0646\u062D\u0646 \u0645\u0645\u062A\u0646\u0648\u0646 \u0644\u0644\u0645\u0637\u0648\u0631\u064A\u0646 \u0627\u0644\u0630\u064A\u0646 \u064A\u0642\u0641\u0648\u0646 \u0648\u0631\u0627\u0621 \u0647\u0630\u0647 \u0627\u0644\u062E\u062F\u0645\u0627\u062A:",quran_com_desc:"\u064A\u0633\u062A\u062E\u062F\u0645 \u0644\u0642\u0648\u0627\u0626\u0645 \u0627\u0644\u0633\u0648\u0631\u060C \u0648\u0646\u0635\u0648\u0635 \u0627\u0644\u0622\u064A\u0627\u062A\u060C \u0648\u0627\u0644\u062A\u0631\u062C\u0645\u0627\u062A\u060C \u0648\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u062A\u0641\u0633\u064A\u0631.",mp3quran_desc:"\u064A\u0633\u062A\u062E\u062F\u0645 \u0644\u062A\u0644\u0627\u0648\u0627\u062A \u0627\u0644\u0633\u0648\u0631 \u0627\u0644\u0643\u0627\u0645\u0644\u0629 \u0648\u0628\u064A\u0627\u0646\u0627\u062A \u0645\u062D\u0637\u0627\u062A \u0627\u0644\u0625\u0630\u0627\u0639\u0629 \u0627\u0644\u062D\u064A\u0629.",everyayah_desc:"\u064A\u0648\u0641\u0631 \u0627\u0644\u0645\u0644\u0641\u0627\u062A \u0627\u0644\u0635\u0648\u062A\u064A\u0629 \u0644\u0645\u064A\u0632\u0629 \u0627\u0644\u062A\u0644\u0627\u0648\u0629 \u0622\u064A\u0629 \u0628\u0622\u064A\u0629.",aladhan_desc:"\u064A\u0633\u062A\u062E\u062F\u0645 \u0644\u062C\u0644\u0628 \u0623\u0648\u0642\u0627\u062A \u0627\u0644\u0635\u0644\u0627\u0629 \u0627\u0644\u064A\u0648\u0645\u064A\u0629 \u0628\u0646\u0627\u0621\u064B \u0639\u0644\u0649 \u0645\u0648\u0642\u0639 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645.",gemini_desc:'\u064A\u062F\u0639\u0645 \u0645\u064A\u0632\u0629 "\u0627\u0633\u0623\u0644 \u0627\u0644\u0630\u0643\u0627\u0621 \u0627\u0644\u0627\u0635\u0637\u0646\u0627\u0639\u064A" \u0644\u0634\u0631\u062D \u0627\u0644\u0622\u064A\u0627\u062A.',"Developed By":"\u062A\u0645 \u0627\u0644\u062A\u0637\u0648\u064A\u0631 \u0628\u0648\u0627\u0633\u0637\u0629",developer_motto:"\u0635\u0646\u0627\u0639\u0629 \u062A\u062C\u0627\u0631\u0628 \u0631\u0642\u0645\u064A\u0629 \u0647\u0627\u062F\u0641\u0629."},en:{"Quran Kareem":"Quran Kareem",Home:"Home",Surahs:"Surahs",Reciters:"Reciters",Radio:"Radio",Language:"Language","Listen to Holy Quran Radio":"Listen to Holy Quran Radio","Explore the Holy Quran":"Explore the Holy Quran","Choose from renowned reciters":"Choose from renowned reciters","Listen to Live Radio":"Listen to Live Radio","All Surahs":"All Surahs","All Reciters":"All Reciters","All Radio Stations":"All Radio Stations",Revelation:"Revelation",Ayahs:"Ayahs",Meccan:"Meccan",Medinan:"Medinan",Recitations:"Recitations","Select Reciter":"Select Reciter","Loading...":"Loading...","Error loading data.":"Error loading data.",Tafsir:"Tafsir","Select Tafsir":"Select Tafsir","Show Tafsir":"Show Tafsir","Hide Tafsir":"Hide Tafsir","Ask AI":"Ask AI","AI Explanation":"AI Explanation","Generating explanation...":"Generating explanation...","Could not get explanation.":"Could not get explanation.",Close:"Close",Favorites:"Favorites","My Favorites":"My Favorites","Favorited Surahs":"Favorited Surahs","Favorited Ayahs":"Favorited Ayahs","No favorites yet.":"No favorites yet.","Add to favorites":"Add to favorites","Remove from favorites":"Remove from favorites","Add to bookmarks":"Add to bookmarks","Remove from bookmarks":"Remove from bookmarks",Qibla:"Qibla","Find the direction to the Kaaba":"Find the direction to the Kaaba","Get Location":"Get Location","Qibla Direction":"Qibla Direction",Distance:"Distance","Acquiring location...":"Acquiring location...","Location acquired.":"Location acquired.","Could not get location. Please enable location services.":"Could not get location. Please enable location services.","Compass not supported.":"Compass not supported.",km:"km","Calibrate Compass":"Calibrate Compass","For best results, move your phone in a figure-eight pattern to calibrate the compass.":"For best results, move your phone in a figure-eight pattern to calibrate the compass.",Done:"Done","Prayer Times":"Prayer Times","Daily prayer times for your location":"Daily prayer times for your location",Fajr:"Fajr",Sunrise:"Sunrise",Dhuhr:"Dhuhr",Asr:"Asr",Maghrib:"Maghrib",Isha:"Isha","Next prayer":"Next prayer",Refresh:"Refresh",Today:"Today",Location:"Location","Error loading prayer times.":"Error loading prayer times.","Search Reciters...":"Search Reciters...","Playback Mode":"Playback Mode","By Ayah":"By Ayah","Full Surah":"Full Surah","Play Surah":"Play Surah","All Surahs by":"All Surahs by",Listen:"Listen","Not available":"Not available","No reciters found.":"No reciters found.","Translation View":"Translation View",Arabic:"Arabic",English:"English","Sort by":"Sort by","Surah Number":"Surah Number",Name:"Name","Date Added":"Date Added","Ayah Number":"Ayah Number","Jump to Ayah":"Jump to Ayah",Go:"Go","Search favorites...":"Search favorites...","No favorites found matching your search.":"No favorites found matching your search.","Verse of the Day":"Verse of the Day","Welcome to Quran Kareem":"Welcome to Quran Kareem","Your daily inspiration from the Holy Quran":"Your daily inspiration from the Holy Quran","Explore all 114 chapters":"Explore all 114 chapters","Listen to various recitations":"Listen to various recitations","Tune in to live Quran broadcasts":"Tune in to live Quran broadcasts","Find the direction of the Kaaba":"Find the direction of the Kaaba","Check daily prayer timings":"Check daily prayer timings","Essential Tools":"Essential Tools","Surah Information":"Surah Information","Revelation Place":"Revelation Place","Number of Verses":"Number of Verses","Translated Name":"Translated Name",Bookmarks:"Bookmarks","My Bookmarks":"My Bookmarks","Bookmarked Ayahs":"Bookmarked Ayahs","No bookmarks yet.":"No bookmarks yet.","Search bookmarks...":"Search bookmarks...","No bookmarks found matching your search.":"No bookmarks found matching your search.","You can add ayahs to your bookmarks by clicking the bookmark icon on any surah page.":"You can add ayahs to your bookmarks by clicking the bookmark icon on any surah page.","Explore Surahs":"Explore Surahs","Share Ayah":"Share Ayah","An Ayah from the Quran":"An Ayah from the Quran","Copied to clipboard!":"Copied to clipboard!","Compass unstable.":"Compass unstable.","For better accuracy, please recalibrate.":"For better accuracy, please recalibrate.",Recalibrate:"Recalibrate",Quality:"Quality",All:"All","Frequently Read Surahs":"Frequently Read Surahs",About:"About",about_page_subtitle:"Your comprehensive digital companion for the Holy Quran.",about_section_title:"Our Mission",about_section_p1:"Quran Kareem is designed to be a beautiful and accessible tool for reading, listening to, and engaging with the Holy Quran. Our goal is to provide a seamless and enriching experience for Muslims around the world to connect with the word of Allah.",about_section_p2:"Whether you want to read surahs, listen to your favorite reciters, or explore the deeper meanings of the verses, this application provides a comprehensive suite of features to support your spiritual journey.","Key Features":"Key Features",feature_0:"Read and listen to all 114 Surahs.",feature_1:"Choose from a wide variety of renowned reciters.",feature_2:"Listen to live Quran radio stations from around the world.",feature_3:"Get AI-powered explanations for ayahs to deepen your understanding.",feature_4:"Find the Qibla direction with our accurate compass.",feature_5:"Check daily prayer times for your location.",feature_6:"Save your favorite surahs and ayahs for quick access.",feature_7:"Bookmark ayahs to easily return to them later.",feature_8:"Beautiful and easy-to-use interface with multi-language support (Arabic & English).","Data Sources":"Data Sources",data_sources_intro:"This application relies on several high-quality, public APIs to provide accurate and reliable data. We are grateful to the developers behind these services:",quran_com_desc:"Used for Surah lists, Ayah text, translations, and tafsir information.",mp3quran_desc:"Used for full-surah recitations and live radio station data.",everyayah_desc:"Provides the audio files for the per-ayah recitation feature.",aladhan_desc:"Used to fetch daily prayer times based on user location.",gemini_desc:'Powers the "Ask AI" feature for verse explanations.',"Developed By":"Developed By",developer_motto:"Crafting meaningful digital experiences."}};this.language=$("ar");this.direction=K(()=>this.language()==="ar"?"rtl":"ltr");me(()=>{document.documentElement.lang=this.language(),document.documentElement.dir=this.direction()})}setLanguage(e){this.language.set(e)}translate(e){return K(()=>this.translations[this.language()][e]||e)}};Wo.\u0275fac=function(n){return new(n||Wo)},Wo.\u0275prov=O({token:Wo,factory:Wo.\u0275fac,providedIn:"root"});var Ie=Wo;var tA=()=>({exact:!0});function nA(t,e){t&1&&(y(0,"span"),C(1,"English"),v())}function oA(t,e){t&1&&(y(0,"span"),C(1,"\u0627\u0644\u0639\u0631\u0628\u064A\u0629"),v())}var si=class si{constructor(){this.languageService=_(Ie);this.lang=this.languageService.language;this.t=this.languageService.translate.bind(this.languageService)}toggleLanguage(){this.languageService.setLanguage(this.lang()==="ar"?"en":"ar")}};si.\u0275fac=function(n){return new(n||si)},si.\u0275cmp=x({type:si,selectors:[["app-header"]],decls:28,vars:13,consts:[[1,"bg-slate-950/80","backdrop-blur-xl","shadow-sm","sticky","top-0","z-40","border-b","border-slate-800"],[1,"container","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","items-center","justify-between","h-16"],["routerLink","/",1,"text-2xl","font-bold","text-teal-400","font-amiri","tracking-wider"],[1,"hidden","md:flex","items-center","space-x-2","rtl:space-x-reverse"],["routerLink","/","routerLinkActive","text-teal-300 font-medium",1,"text-slate-300","hover:text-teal-300","transition-colors","px-3","py-2","rounded-md",3,"routerLinkActiveOptions"],["routerLink","/surahs","routerLinkActive","text-teal-300 font-medium",1,"text-slate-300","hover:text-teal-300","transition-colors","px-3","py-2","rounded-md"],["routerLink","/reciters","routerLinkActive","text-teal-300 font-medium",1,"text-slate-300","hover:text-teal-300","transition-colors","px-3","py-2","rounded-md"],["routerLink","/radio","routerLinkActive","text-teal-300 font-medium",1,"text-slate-300","hover:text-teal-300","transition-colors","px-3","py-2","rounded-md"],["routerLink","/favorites","routerLinkActive","text-teal-300 font-medium",1,"text-slate-300","hover:text-teal-300","transition-colors","px-3","py-2","rounded-md"],["routerLink","/bookmarks","routerLinkActive","text-teal-300 font-medium",1,"text-slate-300","hover:text-teal-300","transition-colors","px-3","py-2","rounded-md"],["routerLink","/qibla","routerLinkActive","text-teal-300 font-medium",1,"text-slate-300","hover:text-teal-300","transition-colors","px-3","py-2","rounded-md"],["routerLink","/prayer-times","routerLinkActive","text-teal-300 font-medium",1,"text-slate-300","hover:text-teal-300","transition-colors","px-3","py-2","rounded-md"],["routerLink","/about","routerLinkActive","text-teal-300 font-medium",1,"text-slate-300","hover:text-teal-300","transition-colors","px-3","py-2","rounded-md"],[1,"flex","items-center"],[1,"flex","items-center","justify-center","w-24","h-9","rounded-md","bg-slate-800","hover:bg-slate-700","transition-colors","text-sm","font-medium","text-slate-200","border","border-slate-700",3,"click"]],template:function(n,o){n&1&&(y(0,"header",0)(1,"div",1)(2,"div",2)(3,"a",3),C(4),v(),y(5,"nav",4)(6,"a",5),C(7),v(),y(8,"a",6),C(9),v(),y(10,"a",7),C(11),v(),y(12,"a",8),C(13),v(),y(14,"a",9),C(15),v(),y(16,"a",10),C(17),v(),y(18,"a",11),C(19),v(),y(20,"a",12),C(21),v(),y(22,"a",13),C(23),v()(),y(24,"div",14)(25,"button",15),j("click",function(){return o.toggleLanguage()}),k(26,nA,2,0,"span")(27,oA,2,0,"span"),v()()()()()),n&2&&(g(4),re(" ",o.t("Quran Kareem")()," "),g(2),F("routerLinkActiveOptions",gh(12,tA)),g(),S(o.t("Home")()),g(2),S(o.t("Surahs")()),g(2),S(o.t("Reciters")()),g(2),S(o.t("Radio")()),g(2),S(o.t("Favorites")()),g(2),S(o.t("Bookmarks")()),g(2),S(o.t("Qibla")()),g(2),S(o.t("Prayer Times")()),g(2),S(o.t("About")()),g(3),P(o.lang()==="ar"?26:27))},dependencies:[It,lm],encapsulation:2,changeDetection:0});var bc=si;var jo=class jo{constructor(){this.playlist=$([]);this.currentIndex=$(-1);this.audio=null;this.isPlaying=$(!1);this.currentTime=$(0);this.duration=$(0);this.currentTrack=K(()=>{let e=this.playlist(),n=this.currentIndex();return n>=0&&n<e.length?e[n]:null});this.canGoNext=K(()=>this.currentIndex()<this.playlist().length-1);this.canGoPrevious=K(()=>this.currentIndex()>0);this.hasPlaylist=K(()=>this.playlist().length>0);this.onEndedHandler=e=>{e.target===this.audio&&(this.canGoNext()?this.next():(this.isPlaying.set(!1),this.currentIndex.set(-1)))};this.onTimeUpdateHandler=e=>{e.target===this.audio&&this.currentTime.set(this.audio?.currentTime||0)};this.onDurationChangeHandler=e=>{e.target===this.audio&&this.duration.set(this.audio?.duration||0)};this.onErrorHandler=e=>{e.target===this.audio&&(console.error("Audio playback error occurred."),this.stop())}}play(e){this.loadPlaylist([e],0)}loadPlaylist(e,n=0){this.stop(),this.playlist.set(e),this.currentIndex.set(n),this.playCurrentTrack()}pause(){this.audio&&(this.audio.pause(),this.isPlaying.set(!1))}togglePlayPause(){this.isPlaying()?this.pause():this.currentTrack()!==null&&this.resume()}seek(e){this.audio&&isFinite(e)&&(this.audio.currentTime=e)}stop(){this._cleanupAudioElement(),this._resetState()}next(){this.canGoNext()&&(this.currentIndex.update(e=>e+1),this.playCurrentTrack())}previous(){this.canGoPrevious()&&(this.currentIndex.update(e=>e-1),this.playCurrentTrack())}async resume(){if(this.audio)try{await this.audio.play(),this.isPlaying.set(!0)}catch(e){e.name!=="AbortError"&&(console.error("Error resuming audio:",e),this.stop())}else this.currentTrack()&&this.playCurrentTrack()}async playCurrentTrack(){this._cleanupAudioElement();let e=this.currentTrack();if(!e){this._resetState();return}let n=new Audio(e.url);this.audio=n,this._attachEventListeners(n);try{await n.play(),this.audio===n?this.isPlaying.set(!0):(n.pause(),this._removeEventListeners(n))}catch(o){o.name!=="AbortError"&&(console.error("Error playing audio:",o),this.audio===n&&this.stop())}}_attachEventListeners(e){e.addEventListener("ended",this.onEndedHandler),e.addEventListener("timeupdate",this.onTimeUpdateHandler),e.addEventListener("durationchange",this.onDurationChangeHandler),e.addEventListener("error",this.onErrorHandler)}_removeEventListeners(e){e.removeEventListener("ended",this.onEndedHandler),e.removeEventListener("timeupdate",this.onTimeUpdateHandler),e.removeEventListener("durationchange",this.onDurationChangeHandler),e.removeEventListener("error",this.onErrorHandler)}_cleanupAudioElement(){this.audio&&(this.audio.pause(),this._removeEventListeners(this.audio),this.audio=null)}_resetState(){this.playlist.set([]),this.currentIndex.set(-1),this.isPlaying.set(!1),this.currentTime.set(0),this.duration.set(0)}};jo.\u0275fac=function(n){return new(n||jo)},jo.\u0275prov=O({token:jo,factory:jo.\u0275fac,providedIn:"root"});var $t=jo;var ai=class ai{constructor(){this.size=we(5);this.sizeRem=K(()=>this.size()*.25)}};ai.\u0275fac=function(n){return new(n||ai)},ai.\u0275cmp=x({type:ai,selectors:[["app-play-icon"]],inputs:{size:[1,"size"]},decls:2,vars:4,consts:[["fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","d","M 10 18 a 8 8 0 1 0 0 -16 a 8 8 0 0 0 0 16 z M 9.555 7.168 A 1 1 0 0 0 8 8 v 4 a 1 1 0 0 0 1.555 .832 l 3 -2 a 1 1 0 0 0 0 -1.664 l -3 -2 z","clip-rule","evenodd"]],template:function(n,o){n&1&&(H(),A(0,"svg",0),z(1,"path",1),M()),n&2&&Xt("height",o.sizeRem(),"rem")("width",o.sizeRem(),"rem")},encapsulation:2,changeDetection:0});var no=ai;var li=class li{constructor(){this.size=we(5);this.sizeRem=K(()=>this.size()*.25)}};li.\u0275fac=function(n){return new(n||li)},li.\u0275cmp=x({type:li,selectors:[["app-pause-icon"]],inputs:{size:[1,"size"]},decls:2,vars:4,consts:[["fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","d","M 10 18 a 8 8 0 1 0 0 -16 a 8 8 0 0 0 0 16 z M 8 7 a 1 1 0 0 0 -1 1 v 4 a 1 1 0 0 0 1 1 h 1 a 1 1 0 0 0 1 -1 V 8 a 1 1 0 0 0 -1 -1 H 8 z m 3 0 a 1 1 0 0 0 -1 1 v 4 a 1 1 0 0 0 1 1 h 1 a 1 1 0 0 0 1 -1 V 8 a 1 1 0 0 0 -1 -1 h -1 z","clip-rule","evenodd"]],template:function(n,o){n&1&&(H(),A(0,"svg",0),z(1,"path",1),M()),n&2&&Xt("height",o.sizeRem(),"rem")("width",o.sizeRem(),"rem")},encapsulation:2,changeDetection:0});var qt=li;var ui=class ui{};ui.\u0275fac=function(n){return new(n||ui)},ui.\u0275cmp=x({type:ui,selectors:[["app-forward-icon"]],decls:2,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5"],["d","M4 4v12l9-6-9-6zm10 0v12h2V4h-2z"]],template:function(n,o){n&1&&(H(),A(0,"svg",0),z(1,"path",1),M())},encapsulation:2,changeDetection:0});var Mc=ui;var ci=class ci{};ci.\u0275fac=function(n){return new(n||ci)},ci.\u0275cmp=x({type:ci,selectors:[["app-backward-icon"]],decls:2,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5"],["d","M16 4v12l-9-6 9-6zM6 4v12H4V4h2z"]],template:function(n,o){n&1&&(H(),A(0,"svg",0),z(1,"path",1),M())},encapsulation:2,changeDetection:0});var Ac=ci;function rA(t,e){t&1&&b(0,"app-pause-icon",6),t&2&&F("size",6)}function iA(t,e){t&1&&b(0,"app-play-icon",6),t&2&&F("size",6)}function sA(t,e){if(t&1){let n=_e();y(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),j("click",function(){Z(n);let r=I();return X(r.previous())}),b(5,"app-backward-icon"),v(),y(6,"button",5),j("click",function(){Z(n);let r=I();return X(r.togglePlayPause())}),k(7,rA,1,1,"app-pause-icon",6)(8,iA,1,1,"app-play-icon",6),v(),y(9,"button",4),j("click",function(){Z(n);let r=I();return X(r.next())}),b(10,"app-forward-icon"),v()(),y(11,"div",7)(12,"div",8)(13,"div",9)(14,"p",10),C(15),v(),y(16,"p",11),C(17),v()(),y(18,"div",12)(19,"span",13),C(20),v(),y(21,"div",14),j("click",function(r){Z(n);let i=I();return X(i.onScrub(r))}),y(22,"div",15),b(23,"div",16),v()(),y(24,"span",13),C(25),v()()()()()()()}if(t&2){let n=e,o=I();g(4),F("disabled",!o.canGoPrevious()),g(2),Oe("playing-pulse",o.isPlaying()),g(),P(o.isPlaying()?7:8),g(2),F("disabled",!o.canGoNext()),g(3),Oe("opacity-0",!o.trackInfoVisible()),g(3),S(n.title),g(2),S(n.subtitle),g(3),S(o.formatTime(o.currentTime())),g(2),Xt("width",o.progress(),"%"),g(3),S(o.formatTime(o.duration()))}}var di=class di{constructor(){this.playerService=_($t);this.currentTrack=this.playerService.currentTrack;this.isPlaying=this.playerService.isPlaying;this.currentTime=this.playerService.currentTime;this.duration=this.playerService.duration;this.canGoNext=this.playerService.canGoNext;this.canGoPrevious=this.playerService.canGoPrevious;this.trackInfoVisible=$(!0);this.progress=K(()=>{let e=this.duration(),n=this.currentTime();return e===0||!isFinite(e)?0:n/e*100});me(e=>{if(this.currentTrack(),!this.playerService.hasPlaylist())return;this.trackInfoVisible.set(!1);let n=setTimeout(()=>{this.trackInfoVisible.set(!0)},150);e(()=>clearTimeout(n))},{allowSignalWrites:!0})}togglePlayPause(){this.playerService.togglePlayPause()}next(){this.playerService.next()}previous(){this.playerService.previous()}formatTime(e){if(isNaN(e)||e<0)return"00:00";let n=Math.floor(e/60),o=Math.floor(e%60);return`${n.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`}onScrub(e){let n=e.currentTarget,o=n.getBoundingClientRect(),r=e.clientX-o.left,i=n.offsetWidth,a=r/i,u=this.duration()*a;this.playerService.seek(u)}};di.\u0275fac=function(n){return new(n||di)},di.\u0275cmp=x({type:di,selectors:[["app-player"]],decls:1,vars:1,consts:[[1,"fixed","bottom-0","left-0","right-0","bg-slate-950/80","backdrop-blur-xl","z-50","border-t","border-slate-800"],[1,"container","mx-auto","px-4","py-3"],[1,"flex","items-center","gap-4"],[1,"flex","items-center","gap-2"],[1,"w-10","h-10","flex-shrink-0","rounded-full","bg-slate-800","text-slate-300","hover:bg-slate-700","flex","items-center","justify-center","transition-colors","disabled:opacity-50","disabled:cursor-not-allowed","active:scale-90",3,"click","disabled"],[1,"w-12","h-12","flex-shrink-0","rounded-full","bg-teal-500","text-white","hover:bg-teal-600","flex","items-center","justify-center","transition-transform","duration-200","active:scale-90",3,"click"],[3,"size"],[1,"flex-grow","min-w-0"],[1,"transition-opacity","duration-150"],[1,"flex","items-center","justify-between","text-sm"],[1,"font-semibold","text-slate-100","truncate"],[1,"text-slate-400","truncate"],[1,"flex","items-center","gap-2","mt-1"],[1,"text-xs","text-slate-400","w-10","text-center","select-none","font-mono"],[1,"w-full","h-1.5","bg-slate-700","rounded-full","cursor-pointer","group",3,"click"],[1,"h-1.5","bg-teal-500","rounded-full","relative"],[1,"absolute","right-0","top-1/2","-translate-y-1/2","translate-x-1/2","w-4","h-4","bg-white","rounded-full","shadow-md","ring-2","ring-teal-500","opacity-0","group-hover:opacity-100","transition-opacity","duration-200"]],template:function(n,o){if(n&1&&k(0,sA,26,13,"div",0),n&2){let r;P((r=o.currentTrack())?0:-1,r)}},dependencies:[xe,no,qt,Mc,Ac],encapsulation:2,changeDetection:0});var Rc=di;var fi=class fi{constructor(){this.languageService=_(Ie);this.direction=this.languageService.direction}};fi.\u0275fac=function(n){return new(n||fi)},fi.\u0275cmp=x({type:fi,selectors:[["app-root"]],decls:5,vars:1,consts:[[1,"flex","flex-col","min-h-screen",3,"dir"],[1,"flex-grow","container","mx-auto","p-4","md:p-6","lg:p-8"]],template:function(n,o){n&1&&(y(0,"div",0),b(1,"app-header"),y(2,"main",1),b(3,"router-outlet"),v(),b(4,"app-player"),v()),n&2&&F("dir",o.direction())},dependencies:[ka,bc,Rc],encapsulation:2,changeDetection:0});var Nc=fi;function Ne(t,e){let n=e?.injector??_(_t),o=new ms(1),r=me(()=>{let i;try{i=t()}catch(a){Ht(()=>o.error(a));return}Ht(()=>o.next(i))},{injector:n,manualCleanup:!0});return n.get(Tt).onDestroy(()=>{r.destroy(),o.complete()}),o.asObservable()}function be(t,e){let o=!e?.manualCleanup?e?.injector?.get(Tt)??_(Tt):null,r=aA(e?.equal),i;e?.requireSync?i=$({kind:0},{equal:r}):i=$({kind:1,value:e?.initialValue},{equal:r});let a,u=t.subscribe({next:c=>i.set({kind:1,value:c}),error:c=>{i.set({kind:2,error:c}),a?.()},complete:()=>{a?.()}});if(e?.requireSync&&i().kind===0)throw new U(601,!1);return a=o?.onDestroy(u.unsubscribe.bind(u)),K(()=>{let c=i();switch(c.kind){case 1:return c.value;case 2:throw c.error;case 0:throw new U(601,!1)}},{equal:e?.equal})}function aA(t=Object.is){return(e,n)=>e.kind===1&&n.kind===1&&t(e.value,n.value)}var PE=[{id:"Alafasy_128kbps",name:{ar:"\u0645\u0634\u0627\u0631\u064A \u0631\u0627\u0634\u062F \u0627\u0644\u0639\u0641\u0627\u0633\u064A",en:"Mishary Rashid Alafasy"},rewaya:{ar:"\u062D\u0641\u0635 \u0639\u0646 \u0639\u0627\u0635\u0645",en:"Hafs an Asim"},server:"Alafasy_128kbps",quality:"128kbps"},{id:"Abdul_Basit_Mujawwad_128kbps",name:{ar:"\u0639\u0628\u062F \u0627\u0644\u0628\u0627\u0633\u0637 \u0639\u0628\u062F \u0627\u0644\u0635\u0645\u062F",en:"Abdul Basit (Mujawwad)"},rewaya:{ar:"\u062D\u0641\u0635 \u0639\u0646 \u0639\u0627\u0635\u0645",en:"Hafs an Asim"},server:"Abdul_Basit_Mujawwad_128kbps",quality:"128kbps"},{id:"Ahmed_ibn_Ali_al-Ajamy_128kbps_ketaballah.net",name:{ar:"\u0623\u062D\u0645\u062F \u0628\u0646 \u0639\u0644\u064A \u0627\u0644\u0639\u062C\u0645\u064A",en:"Ahmed Al Ajmi"},rewaya:{ar:"\u062D\u0641\u0635 \u0639\u0646 \u0639\u0627\u0635\u0645",en:"Hafs an Asim"},server:"Ahmed_ibn_Ali_al-Ajamy_128kbps_ketaballah.net",quality:"128kbps"},{id:"Ghamadi_40kbps",name:{ar:"\u0633\u0639\u062F \u0627\u0644\u063A\u0627\u0645\u062F\u064A",en:"Saad Al-Ghamdi"},rewaya:{ar:"\u062D\u0641\u0635 \u0639\u0646 \u0639\u0627\u0635\u0645",en:"Hafs an Asim"},server:"Ghamadi_40kbps",quality:"40kbps"},{id:"Saood_ash-Shuraym_128kbps",name:{ar:"\u0633\u0639\u0648\u062F \u0627\u0644\u0634\u0631\u064A\u0645",en:"Saud Al-Shuraim"},rewaya:{ar:"\u062D\u0641\u0635 \u0639\u0646 \u0639\u0627\u0635\u0645",en:"Hafs an Asim"},server:"Saood_ash-Shuraym_128kbps",quality:"128kbps"},{id:"Sudais_128kbps",name:{ar:"\u0639\u0628\u062F \u0627\u0644\u0631\u062D\u0645\u0646 \u0627\u0644\u0633\u062F\u064A\u0633",en:"Abdur-Rahman as-Sudais"},rewaya:{ar:"\u062D\u0641\u0635 \u0639\u0646 \u0639\u0627\u0635\u0645",en:"Hafs an Asim"},server:"Sudais_128kbps",quality:"128kbps"},{id:"MaherAlMuaiqly_64kbps",name:{ar:"\u0645\u0627\u0647\u0631 \u0627\u0644\u0645\u0639\u064A\u0642\u0644\u064A",en:"Maher Al Muaiqly"},rewaya:{ar:"\u062D\u0641\u0635 \u0639\u0646 \u0639\u0627\u0635\u0645",en:"Hafs an Asim"},server:"MaherAlMuaiqly_64kbps",quality:"64kbps"},{id:"Yasser_Ad-Dussary_128kbps",name:{ar:"\u064A\u0627\u0633\u0631 \u0627\u0644\u062F\u0648\u0633\u0631\u064A",en:"Yasser Al Dosari"},rewaya:{ar:"\u062D\u0641\u0635 \u0639\u0646 \u0639\u0627\u0635\u0645",en:"Hafs an Asim"},server:"Yasser_Ad-Dussary_128kbps",quality:"128kbps"},{id:"Minshawy_Mujawwad_128kbps",name:{ar:"\u0645\u062D\u0645\u062F \u0635\u062F\u064A\u0642 \u0627\u0644\u0645\u0646\u0634\u0627\u0648\u064A",en:"Mohamed Siddiq al-Minshawi (Mujawwad)"},rewaya:{ar:"\u062D\u0641\u0635 \u0639\u0646 \u0639\u0627\u0635\u0645",en:"Hafs an Asim"},server:"Minshawy_Mujawwad_128kbps",quality:"128kbps"},{id:"Husary_128kbps",name:{ar:"\u0645\u062D\u0645\u0648\u062F \u062E\u0644\u064A\u0644 \u0627\u0644\u062D\u0635\u0631\u064A",en:"Mahmoud Khalil Al-Hussary"},rewaya:{ar:"\u062D\u0641\u0635 \u0639\u0646 \u0639\u0627\u0635\u0645",en:"Hafs an Asim"},server:"Husary_128kbps",quality:"128kbps"}];var FE=[{name:{ar:"\u0625\u0630\u0627\u0639\u0629 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064A\u0645 \u0627\u0644\u0639\u0627\u0645\u0629",en:"General Quran Radio"},url:"https://live.mp3quran.net/omran"},{name:{ar:"\u0645\u0634\u0627\u0631\u064A \u0631\u0627\u0634\u062F \u0627\u0644\u0639\u0641\u0627\u0633\u064A",en:"Mishary Rashid Alafasy"},url:"https://live.mp3quran.net/ialafasy"},{name:{ar:"\u0639\u0628\u062F\u0627\u0644\u0631\u062D\u0645\u0646 \u0627\u0644\u0633\u062F\u064A\u0633",en:"Abdurrahman As-Sudais"},url:"https://live.mp3quran.net/isudais"},{name:{ar:"\u0633\u0639\u062F \u0627\u0644\u063A\u0627\u0645\u062F\u064A",en:"Saad Al-Ghamdi"},url:"https://live.mp3quran.net/ighamdi"},{name:{ar:"\u0645\u0627\u0647\u0631 \u0627\u0644\u0645\u0639\u064A\u0642\u0644\u064A",en:"Maher Al Muaiqly"},url:"https://live.mp3quran.net/imaher"},{name:{ar:"\u0623\u062D\u0645\u062F \u0628\u0646 \u0639\u0644\u064A \u0627\u0644\u0639\u062C\u0645\u064A",en:"Ahmed Al Ajmi"},url:"https://live.mp3quran.net/iajay"}];var Jo=class Jo{constructor(){this.http=_(ec);this.mp3QuranApiBase="https://www.mp3quran.net/api/v3";this.quranTextApiBase="https://api.quran.com/api/v4";this.prayerTimesApiBase="https://api.aladhan.com/v1"}getAndCache(e,n){try{if(typeof localStorage<"u"){let r=localStorage.getItem(e);if(r){let{timestamp:i,data:a}=JSON.parse(r);if(Date.now()-i<864e5)return V(a)}}}catch(r){console.error(`Error reading from localStorage for key ${e}`,r),typeof localStorage<"u"&&localStorage.removeItem(e)}return n().pipe(Le(r=>{try{if(typeof localStorage<"u"){let i={timestamp:Date.now(),data:r};localStorage.setItem(e,JSON.stringify(i))}}catch(i){console.error(`Error writing to localStorage for key ${e}`,i)}}))}getReciters(e="ar"){let n=PE.map(o=>({id:o.id,name:o.name[e],rewaya:o.rewaya[e],server:o.server,quality:o.quality}));return V(n)}getMp3QuranReciters(e="ar"){let n=`mp3quran_reciters_${e}`,o=()=>this.http.get(`${this.mp3QuranApiBase}/reciters?language=${e}`).pipe(G(r=>(r?.reciters||[]).map(i=>de(N({},i),{moshaf:Array.isArray(i.moshaf)?i.moshaf:[]}))),Ze(()=>V([])));return this.getAndCache(n,o)}getMp3QuranReciterById(e,n="ar"){return this.getMp3QuranReciters(n).pipe(G(o=>o.find(r=>r.id===e)))}getSurahs(e="ar"){let n=`surahs_${e}`,o=()=>this.http.get(`${this.quranTextApiBase}/chapters?language=${e}`).pipe(G(r=>(r?.chapters||[]).map(i=>({id:i.id,name:e==="ar"?i.name_arabic:i.name_simple,arabicName:i.name_arabic,englishName:i.name_simple,englishNameTranslation:i.translated_name?.name||i.name_simple,numberOfAyahs:i.verses_count,revelationType:i.revelation_place==="makkah"?"Meccan":"Medinan"}))),Ze(()=>V([])));return this.getAndCache(n,o)}getSurahDetail(e){let n=`surah_detail_v2_${e}`,o=`${this.quranTextApiBase}/verses/by_chapter/${e}?language=en&fields=text_uthmani,verse_number&translations=131,17`,r=()=>this.http.get(o).pipe(G(i=>(i?.verses||[]).map(a=>{let u=Array.isArray(a.translations)?a.translations:[],c=u.find(f=>f.resource_id===131)?.text,d=u.find(f=>f.resource_id===17)?.text;return{number:a.id,text:a.text_uthmani,numberInSurah:a.verse_number,translation:c?.replace(/<sup[^>]*>.*?<\/sup>/g,""),transliteration:d}})),Ze(()=>V([])));return this.getAndCache(n,r)}getRadios(e="ar"){let n=FE.map(o=>({Name:o.name[e],URL:o.url}));return V(n)}getTafsirList(e="ar"){let n=`tafsir_list_${e}`,o=()=>this.http.get(`${this.quranTextApiBase}/resources/tafsirs?language=${e}`).pipe(G(r=>(r?.tafsirs||[]).map(i=>({id:i.id,name:i.translated_name?.name||i.name,arabicName:i.name,author_name:i.author_name,language_name:i.language_name,quality:i.quality}))),Ze(()=>V([])));return this.getAndCache(n,o)}getTafsirForSurah(e,n){let o=`tafsir_${e}_surah_${n}`,r=()=>this.http.get(`${this.quranTextApiBase}/quran/tafsirs/${e}?chapter_number=${n}`).pipe(G(i=>i?.tafsirs||[]),Ze(()=>V([])));return this.getAndCache(o,r)}getPrayerTimes(e,n){let o=new Date,r=`prayer_times_${o.getFullYear()}-${o.getMonth()+1}-${o.getDate()}_${e.toFixed(2)}_${n.toFixed(2)}`,i=()=>this.http.get(`${this.prayerTimesApiBase}/timings?latitude=${e}&longitude=${n}`).pipe(G(a=>{let u=a?.data;if(!u?.timings||!u?.date?.readable)return{date:"",times:[]};let c=u.timings,d=[{name:"Fajr",time:c.Fajr,icon:"fajr"},{name:"Sunrise",time:c.Sunrise,icon:"sunrise"},{name:"Dhuhr",time:c.Dhuhr,icon:"dhuhr"},{name:"Asr",time:c.Asr,icon:"asr"},{name:"Maghrib",time:c.Maghrib,icon:"maghrib"},{name:"Isha",time:c.Isha,icon:"isha"}];return{date:u.date.readable,times:d}}),Ze(()=>V({date:"",times:[]})));return this.getAndCache(r,i)}};Jo.\u0275fac=function(n){return new(n||Jo)},Jo.\u0275prov=O({token:Jo,factory:Jo.\u0275fac,providedIn:"root"});var Qe=Jo;var Yo=class Yo{constructor(){this.titleService=_(tc);this.metaService=_($C);this.document=_(Ue);this.defaultImageUrl="https://picsum.photos/seed/quran-app-og/1200/630";this.siteName="Quran Kareem"}updateTags(e){let n=e.title?`${e.title} | ${this.siteName}`:this.siteName;this.titleService.setTitle(n);let o=e.description||"A comprehensive Quran application to read, listen, and explore the Holy Quran.",r=e.imageUrl||this.defaultImageUrl,i=e.type||"website",a=this.document.location.href;this.metaService.updateTag({name:"description",content:o}),this.metaService.updateTag({property:"og:title",content:n}),this.metaService.updateTag({property:"og:description",content:o}),this.metaService.updateTag({property:"og:image",content:r}),this.metaService.updateTag({property:"og:url",content:a}),this.metaService.updateTag({property:"og:type",content:i}),this.metaService.updateTag({property:"og:site_name",content:this.siteName}),this.metaService.updateTag({name:"twitter:card",content:"summary_large_image"}),this.metaService.updateTag({name:"twitter:title",content:n}),this.metaService.updateTag({name:"twitter:description",content:o}),this.metaService.updateTag({name:"twitter:image",content:r})}};Yo.\u0275fac=function(n){return new(n||Yo)},Yo.\u0275prov=O({token:Yo,factory:Yo.\u0275fac,providedIn:"root"});var Pe=Yo;var pi=class pi{constructor(){this.customClass=we("w-5 h-5")}};pi.\u0275fac=function(n){return new(n||pi)},pi.\u0275cmp=x({type:pi,selectors:[["app-book-open-icon"]],inputs:{customClass:[1,"customClass"]},decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor"],["stroke-linecap","round","stroke-linejoin","round","d","M 12 6.042 A 8.967 8.967 0 0 0 6 3.75 c -1.052 0 -2.062 .18 -3 .512 v 14.25 A 8.987 8.987 0 0 1 6 18 c 2.305 0 4.408 .867 6 2.292 m 0 -14.25 a 8.966 8.966 0 0 1 6 -2.292 c 1.052 0 2.062 .18 3 .512 v 14.25 A 8.987 8.987 0 0 0 18 18 a 8.967 8.967 0 0 0 -6 2.292 m 0 -14.25 v 14.25"]],template:function(n,o){n&1&&(H(),A(0,"svg",0),z(1,"path",1),M()),n&2&&qe(o.customClass())},encapsulation:2,changeDetection:0});var hi=pi;var mi=class mi{constructor(){this.customClass=we("w-8 h-8")}};mi.\u0275fac=function(n){return new(n||mi)},mi.\u0275cmp=x({type:mi,selectors:[["app-microphone-icon"]],inputs:{customClass:[1,"customClass"]},decls:4,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke-width","1.5","stroke","currentColor"],["stroke-linecap","round","stroke-linejoin","round","d","M12 18.75a6 6 0 006-6v-1.5a6 6 0 00-12 0v1.5a6 6 0 006 6z"],["stroke-linecap","round","stroke-linejoin","round","d","M12 12.75a3 3 0 003-3v-1.5a3 3 0 00-6 0v1.5a3 3 0 003 3z"],["stroke-linecap","round","stroke-linejoin","round","d","M12 18.75v2.25M12 3.75v2.25M3 12h18"]],template:function(n,o){n&1&&(H(),A(0,"svg",0),z(1,"path",1)(2,"path",2)(3,"path",3),M()),n&2&&qe(o.customClass())},encapsulation:2,changeDetection:0});var kc=mi;var gi=class gi{constructor(){this.customClass=we("w-8 h-8")}};gi.\u0275fac=function(n){return new(n||gi)},gi.\u0275cmp=x({type:gi,selectors:[["app-radio-tower-icon"]],inputs:{customClass:[1,"customClass"]},decls:5,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor"],["stroke-linecap","round","stroke-linejoin","round","d","M9.344 3.94c.346-.526.95-1.425.95-1.425l.236.468M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","d","M12 12v6m0 0l-3-3m3 3l3-3"],["stroke-linecap","round","stroke-linejoin","round","d","M19.5 12c0-4.142-3.358-7.5-7.5-7.5S4.5 7.858 4.5 12"],["stroke-linecap","round","stroke-linejoin","round","d","M16.5 12c0-2.485-2.015-4.5-4.5-4.5S7.5 9.515 7.5 12"]],template:function(n,o){n&1&&(H(),A(0,"svg",0),z(1,"path",1)(2,"path",2)(3,"path",3)(4,"path",4),M()),n&2&&qe(o.customClass())},encapsulation:2,changeDetection:0});var Pc=gi;var vi=class vi{constructor(){this.customClass=we("w-8 h-8")}};vi.\u0275fac=function(n){return new(n||vi)},vi.\u0275cmp=x({type:vi,selectors:[["app-kaaba-icon"]],inputs:{customClass:[1,"customClass"]},decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor"],["stroke-linecap","round","stroke-linejoin","round","d","M21 7.5l-9-5.25L3 7.5m18 0l-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9.75l-9-5.25m9 5.25v9.75"]],template:function(n,o){n&1&&(H(),A(0,"svg",0),z(1,"path",1),M()),n&2&&qe(o.customClass())},encapsulation:2,changeDetection:0});var Fc=vi;var yi=class yi{constructor(){this.customClass=we("w-8 h-8")}};yi.\u0275fac=function(n){return new(n||yi)},yi.\u0275cmp=x({type:yi,selectors:[["app-clock-icon"]],inputs:{customClass:[1,"customClass"]},decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor"],["stroke-linecap","round","stroke-linejoin","round","d","M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"]],template:function(n,o){n&1&&(H(),A(0,"svg",0),z(1,"path",1),M()),n&2&&qe(o.customClass())},encapsulation:2,changeDetection:0});var Lc=yi;var Ci=class Ci{};Ci.\u0275fac=function(n){return new(n||Ci)},Ci.\u0275cmp=x({type:Ci,selectors:[["app-play-circle-icon"]],decls:3,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","1.5",1,"h-8","w-8"],["stroke-linecap","round","stroke-linejoin","round","d","M 21 12 a 9 9 0 1 1 -18 0 a 9 9 0 0 1 18 0 z"],["stroke-linecap","round","stroke-linejoin","round","d","M 15.91 11.672 a .375 .375 0 0 1 0 .656 l -5.603 3.113 a .375 .375 0 0 1 -.557 -.328 V 8.887 c 0 -.286 .307 -.466 .557 -.327 l 5.603 3.112 z"]],template:function(n,o){n&1&&(H(),A(0,"svg",0),z(1,"path",1)(2,"path",2),M())},encapsulation:2,changeDetection:0});var Ei=Ci;var _i=class _i{};_i.\u0275fac=function(n){return new(n||_i)},_i.\u0275cmp=x({type:_i,selectors:[["app-sound-wave-icon"]],decls:7,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5"],["d","M6 10 L6 14",1,"wave-bar"],["d","M12 7 L12 17",1,"wave-bar"],["d","M18 10 L18 14",1,"wave-bar"]],template:function(n,o){n&1&&(H(),A(0,"svg",0)(1,"style"),C(2," .wave-bar { animation: wave 1.2s ease-in-out infinite; transform-origin: bottom; } .wave-bar:nth-child(2) { animation-delay: -1.0s; } .wave-bar:nth-child(3) { animation-delay: -0.8s; } @keyframes wave { 0%, 100% { transform: scaleY(0.3); } 50% { transform: scaleY(1); } } "),M(),A(3,"g"),z(4,"path",1)(5,"path",2)(6,"path",3),M()())},encapsulation:2,changeDetection:0});var _n=_i;var Ti=class Ti{constructor(){this.customClass=we("w-5 h-5")}};Ti.\u0275fac=function(n){return new(n||Ti)},Ti.\u0275cmp=x({type:Ti,selectors:[["app-sparkle-icon"]],inputs:{customClass:[1,"customClass"]},decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor"],["stroke-linecap","round","stroke-linejoin","round","d","M 9.813 15.904 L 9 18.75 l -0.813 -2.846 a 4.5 4.5 0 0 0 -3.09 -3.09 L 2.25 12 l 2.846 -0.813 a 4.5 4.5 0 0 0 3.09 -3.09 L 9 5.25 l .813 2.846 a 4.5 4.5 0 0 0 3.09 3.09 L 15.75 12 l -2.846 .813 a 4.5 4.5 0 0 0 -3.09 3.09 z M 18.259 8.715 L 18 9.75 l -0.259 -1.035 a 3.375 3.375 0 0 0 -2.455 -2.456 L 14.25 6 l 1.036 -0.259 a 3.375 3.375 0 0 0 2.455 -2.456 L 18 2.25 l .259 1.035 a 3.375 3.375 0 0 0 2.456 2.456 L 21.75 6 l -1.035 .259 a 3.375 3.375 0 0 0 -2.456 2.456 z M 16.898 20.572 L 16.5 21.75 l -0.398 -1.178 a 3.375 3.375 0 0 0 -2.455 -2.456 L 12.75 18 l 1.178 -0.398 a 3.375 3.375 0 0 0 2.455 -2.456 L 16.5 14.25 l .398 1.178 a 3.375 3.375 0 0 0 2.456 2.456 L 20.25 18 l -1.178 .398 a 3.375 3.375 0 0 0 -2.456 2.456 z"]],template:function(n,o){n&1&&(H(),A(0,"svg",0),z(1,"path",1),M()),n&2&&qe(o.customClass())},encapsulation:2,changeDetection:0});var Si=Ti;var Ii=class Ii{constructor(){this.customClass=we("w-6 h-6")}};Ii.\u0275fac=function(n){return new(n||Ii)},Ii.\u0275cmp=x({type:Ii,selectors:[["app-star-solid-icon"]],inputs:{customClass:[1,"customClass"]},decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor"],["fill-rule","evenodd","d","M 10.788 3.21 c .448 -1.077 1.976 -1.077 2.424 0 l 2.082 5.007 l 5.404 .433 c 1.164 .093 1.636 1.545 .749 2.305 l -4.117 3.527 l 1.257 5.273 c .271 1.136 -.964 2.033 -1.96 1.425 L 12 18.354 l -4.627 2.826 c -.996 .608 -2.231 -.29 -1.96 -1.425 l 1.257 -5.273 l -4.117 -3.527 c -.887 -.76 -.415 -2.212 .749 -2.305 l 5.404 -.433 l 2.082 -5.007 z","clip-rule","evenodd"]],template:function(n,o){n&1&&(H(),A(0,"svg",0),z(1,"path",1),M()),n&2&&qe(o.customClass())},encapsulation:2,changeDetection:0});var Tn=Ii;var Di=class Di{constructor(){this.customClass=we("w-5 h-5")}};Di.\u0275fac=function(n){return new(n||Di)},Di.\u0275cmp=x({type:Di,selectors:[["app-bookmark-solid-icon"]],inputs:{customClass:[1,"customClass"]},decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor"],["fill-rule","evenodd","d","M 6.32 2.577 a 49.255 49.255 0 0 1 11.36 0 c 1.497 .174 2.57 1.46 2.57 2.93 V 21 a .75 .75 0 0 1 -1.085 .67 L 12 18.082 l -6.165 3.583 A .75 .75 0 0 1 4.75 21 V 5.507 c 0 -1.47 1.073 -2.756 2.57 -2.93 z","clip-rule","evenodd"]],template:function(n,o){n&1&&(H(),A(0,"svg",0),z(1,"path",1),M()),n&2&&qe(o.customClass())},encapsulation:2,changeDetection:0});var oo=Di;var lA=t=>["/surah",t],LE=(t,e)=>e.id,uA=(t,e)=>e.URL;function cA(t,e){if(t&1&&(y(0,"div",39),b(1,"img",40)(2,"div",41),y(3,"div",42)(4,"h1",43),C(5),v(),y(6,"p",44),C(7),v(),y(8,"a",45),C(9),v()()()),t&2){let n=e.$implicit,o=e.$index,r=I();Oe("opacity-100",r.activeSlide()===o)("opacity-0",r.activeSlide()!==o),g(),F("src",n.image,Br)("alt","Background image for slide "+(o+1)),g(3),Oe("translate-y-0",r.activeSlide()===o)("translate-y-8",r.activeSlide()!==o),g(),S(r.t(n.titleKey)()),g(),Oe("translate-y-0",r.activeSlide()===o)("translate-y-8",r.activeSlide()!==o),g(),S(r.t(n.subtitleKey)()),g(),F("routerLink",n.link),g(),re(" ",r.t(n.buttonTextKey)()," ")}}function dA(t,e){if(t&1){let n=_e();y(0,"button",46),j("click",function(){let r=Z(n).$index,i=I();return X(i.goToSlide(r))}),v()}if(t&2){let n=e.$index,o=I();Oe("bg-white",o.activeSlide()===n)("w-6",o.activeSlide()===n)("bg-white/40",o.activeSlide()!==n),Lu("aria-label","Go to slide "+(n+1))}}function fA(t,e){t&1&&b(0,"app-sound-wave-icon")}function pA(t,e){t&1&&b(0,"app-play-circle-icon")}function hA(t,e){if(t&1){let n=_e();Ut(0),y(1,"div",22)(2,"div",47)(3,"h3",48),C(4),v(),y(5,"p",49),C(6),v()(),y(7,"button",50),j("click",function(){let r=Z(n).$implicit,i=Bt(0),a=I();return X(i?a.pause():a.playReciterSample(r))}),k(8,fA,1,0,"app-sound-wave-icon")(9,pA,1,0,"app-play-circle-icon"),v()()}if(t&2){let n,o=e.$implicit,r=I(),i=tn(((n=r.currentTrack())==null?null:n.subtitle)===o.name&&r.isPlaying());g(4),S(o.name),g(2),S(o.rewaya),g(2),P(i?8:9)}}function mA(t,e){t&1&&b(0,"app-pause-icon")}function gA(t,e){t&1&&b(0,"app-play-circle-icon")}function vA(t,e){if(t&1){let n=_e();Ut(0),y(1,"div",24)(2,"div",47)(3,"h3",48),C(4),v(),y(5,"p",51),C(6),v()(),y(7,"button",50),j("click",function(){let r=Z(n).$implicit,i=Bt(0),a=I();return X(i?a.pause():a.playRadio(r))}),k(8,mA,1,0,"app-pause-icon")(9,gA,1,0,"app-play-circle-icon"),v()()}if(t&2){let n,o=e.$implicit,r=I(),i=tn(((n=r.currentTrack())==null?null:n.url)===o.URL&&r.isPlaying());g(4),S(o.Name),g(2),S(r.t("Listen to Live Radio")()),g(2),P(i?8:9)}}function yA(t,e){if(t&1&&(y(0,"a",38)(1,"div",52)(2,"span",53),C(3),v(),y(4,"h3",54),C(5),v(),y(6,"p",51),C(7),v(),y(8,"p",55),C(9),v()()()),t&2){let n=e.$implicit,o=I();F("routerLink",mn(7,lA,n.id)),g(3),S(n.id),g(2),S(n.name),g(2),S(n.englishName),g(2),en(" ",n.numberOfAyahs," ",o.t("Ayahs")()," \xB7 ",n.revelationType," ")}}var wi=class wi{constructor(){this.languageService=_(Ie);this.quranApiService=_(Qe);this.playerService=_($t);this.metaService=_(Pe);this.t=this.languageService.translate.bind(this.languageService);this.currentTrack=this.playerService.currentTrack;this.isPlaying=this.playerService.isPlaying;this.slides=$([]);this.activeSlide=$(0);this.featuredReciters=be(this.quranApiService.getReciters(this.languageService.language()).pipe(G(e=>e.slice(0,8))),{initialValue:[]});this.radioStations=be(this.quranApiService.getRadios(),{initialValue:[]});this.allSurahs=be(Ne(this.languageService.language).pipe(ce(e=>this.quranApiService.getSurahs(e))),{initialValue:[]});this.frequentlyReadSurahs=K(()=>{let e=this.allSurahs();return e.length?[1,18,36,67].map(o=>e.find(r=>r.id===o)).filter(o=>o!==void 0):[]});me(()=>{this.metaService.updateTags({title:this.t("Home")(),description:`${this.t("Welcome to Quran Kareem")()} - ${this.t("Your daily inspiration from the Holy Quran")()}`,imageUrl:"https://picsum.photos/seed/quran-home/1200/630"})})}ngOnInit(){this.setupSlides(),this.slideshowInterval=setInterval(()=>{this.nextSlide()},7e3)}ngOnDestroy(){this.slideshowInterval&&clearInterval(this.slideshowInterval)}setupSlides(){this.slides.set([{image:"https://picsum.photos/1600/900?grayscale&blur=2",titleKey:"Explore the Holy Quran",subtitleKey:"Explore all 114 chapters",buttonTextKey:"Explore Surahs",link:"/surahs"},{image:"https://picsum.photos/1600/900?grayscale",titleKey:"Reciters",subtitleKey:"Listen to various recitations",buttonTextKey:"All Reciters",link:"/reciters"},{image:"https://picsum.photos/id/119/1600/900?grayscale&blur=1",titleKey:"Radio",subtitleKey:"Tune in to live Quran broadcasts",buttonTextKey:"Listen to Live Radio",link:"/radio"}])}nextSlide(){this.activeSlide.update(e=>(e+1)%this.slides().length)}goToSlide(e){this.activeSlide.set(e)}playReciterSample(e){let n={title:"Surah Al-Fatiha",subtitle:e.name,url:`https://everyayah.com/data/${e.server}/001001.mp3`,surahId:1,ayahNumberInSurah:1};this.playerService.play(n)}playRadio(e){let n={title:e.Name,subtitle:"Live Radio",url:e.URL};this.playerService.play(n)}pause(){this.playerService.pause()}};wi.\u0275fac=function(n){return new(n||wi)},wi.\u0275cmp=x({type:wi,selectors:[["app-home"]],decls:87,vars:23,consts:[[1,"space-y-16"],[1,"relative","h-[60vh]","md:h-[70vh]","-mt-8","-mx-4","md:-mx-6","lg:-mx-8","rounded-b-3xl","overflow-hidden","shadow-2xl","shadow-slate-900/50"],[1,"w-full","h-full"],[1,"absolute","inset-0","w-full","h-full","transition-opacity","duration-1000","ease-in-out",3,"opacity-100","opacity-0"],[1,"absolute","bottom-6","left-1/2","-translate-x-1/2","flex","space-x-3","rtl:space-x-reverse","z-10"],[1,"w-3","h-3","rounded-full","transition-all","duration-300",3,"bg-white","w-6","bg-white/40","aria-label"],[1,"container","mx-auto"],[1,"grid","grid-cols-2","sm:grid-cols-3","md:grid-cols-5","gap-4","md:gap-6","text-center"],["routerLink","/surahs",1,"group","flex","flex-col","items-center","justify-center","p-4","bg-slate-800/50","backdrop-blur-sm","rounded-xl","border","border-slate-800","hover:border-teal-400","hover:-translate-y-1","hover:shadow-2xl","hover:shadow-teal-500/10","transition-all","duration-300","ease-in-out"],[3,"customClass"],[1,"font-semibold","text-slate-200","group-hover:text-white","transition-colors"],["routerLink","/reciters",1,"group","flex","flex-col","items-center","justify-center","p-4","bg-slate-800/50","backdrop-blur-sm","rounded-xl","border","border-slate-800","hover:border-teal-400","hover:-translate-y-1","hover:shadow-2xl","hover:shadow-teal-500/10","transition-all","duration-300","ease-in-out"],["routerLink","/radio",1,"group","flex","flex-col","items-center","justify-center","p-4","bg-slate-800/50","backdrop-blur-sm","rounded-xl","border","border-slate-800","hover:border-teal-400","hover:-translate-y-1","hover:shadow-2xl","hover:shadow-teal-500/10","transition-all","duration-300","ease-in-out"],["routerLink","/favorites",1,"group","flex","flex-col","items-center","justify-center","p-4","bg-slate-800/50","backdrop-blur-sm","rounded-xl","border","border-slate-800","hover:border-yellow-400","hover:-translate-y-1","hover:shadow-2xl","hover:shadow-yellow-500/10","transition-all","duration-300","ease-in-out"],["routerLink","/bookmarks",1,"group","flex","flex-col","items-center","justify-center","p-4","bg-slate-800/50","backdrop-blur-sm","rounded-xl","border","border-slate-800","hover:border-indigo-400","hover:-translate-y-1","hover:shadow-2xl","hover:shadow-indigo-500/10","transition-all","duration-300","ease-in-out"],[1,"p-8","md:p-12","bg-gradient-to-br","from-slate-900","to-slate-800/50","rounded-2xl","border","border-slate-700","text-center"],[1,"text-3xl","text-amber-300","font-amiri","mb-6"],[1,"space-y-4"],[1,"text-4xl","md:text-5xl","font-amiri","text-white","leading-relaxed","md:leading-loose","rtl:leading-relaxed","md:rtl:leading-loose"],[1,"block","text-slate-400","not-italic","pt-2"],[1,"text-3xl","font-bold","text-white","text-center","font-amiri"],[1,"flex","overflow-x-auto","gap-4","md:gap-6","pb-4","snap-x","snap-mandatory","-mx-4","md:-mx-6","lg:-mx-8","px-4","md:px-6","lg:px-8"],[1,"w-4/5","md:w-1/4","flex-shrink-0","snap-start","flex","items-center","justify-between","gap-4","p-4","bg-slate-800/40","backdrop-blur-sm","rounded-xl","shadow-lg","border","border-slate-800"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-4"],[1,"flex","items-center","justify-between","gap-4","p-4","bg-slate-800/40","backdrop-blur-sm","rounded-xl","shadow-lg","border","border-slate-800"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["routerLink","/qibla",1,"group","flex","items-center","gap-6","p-6","bg-slate-800/40","backdrop-blur-sm","rounded-xl","shadow-lg","border","border-slate-800","hover:border-amber-400","hover:-translate-y-1","hover:shadow-2xl","hover:shadow-amber-500/10","transition-all","duration-300","ease-in-out"],[1,"flex-shrink-0","flex","items-center","justify-center","w-16","h-16","rounded-full","bg-slate-700","group-hover:bg-amber-900/50","transition-colors"],[1,"text-2xl","font-bold","text-slate-100","group-hover:text-white","font-amiri","transition-colors"],[1,"mt-1","text-slate-400"],["routerLink","/prayer-times",1,"group","flex","items-center","gap-6","p-6","bg-slate-800/40","backdrop-blur-sm","rounded-xl","shadow-lg","border","border-slate-800","hover:border-amber-400","hover:-translate-y-1","hover:shadow-2xl","hover:shadow-amber-500/10","transition-all","duration-300","ease-in-out"],["routerLink","/surah/2",1,"group","block","relative","p-8","md:p-12","bg-gradient-to-br","from-slate-900","to-purple-900/40","rounded-2xl","border","border-slate-700","text-center","overflow-hidden"],[1,"absolute","-top-1/2","-left-1/2","w-[200%]","h-[200%]","bg-[radial-gradient(circle_at_center,_rgba(126,34,206,0.15)_0,_transparent_40%)]","opacity-0","group-hover:opacity-100","transition-opacity","duration-500","animate-[spin_20s_linear_infinite]"],[1,"relative","z-10"],[1,"flex","justify-center","mb-4"],[1,"text-3xl","text-purple-300","font-amiri","mb-4"],[1,"text-slate-400","max-w-lg","mx-auto"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4"],[1,"group","block","p-4","bg-slate-800/50","border","border-slate-700","rounded-lg","hover:shadow-lg","hover:shadow-teal-500/10","hover:border-teal-500","transition-all","duration-200","hover:-translate-y-1",3,"routerLink"],[1,"absolute","inset-0","w-full","h-full","transition-opacity","duration-1000","ease-in-out"],[1,"w-full","h-full","object-cover",3,"src","alt"],[1,"absolute","inset-0","bg-gradient-to-t","from-slate-950","via-slate-950/70","to-transparent"],[1,"absolute","inset-0","flex","flex-col","items-center","justify-end","text-center","text-white","p-8","md:p-12","pb-20"],[1,"text-4xl","md:text-6xl","font-bold","font-amiri","transition-transform","duration-700","delay-200"],[1,"mt-4","text-lg","md:text-xl","text-slate-300","max-w-2xl","mx-auto","transition-transform","duration-700","delay-300"],[1,"mt-8","px-8","py-3","bg-teal-600","text-white","rounded-full","hover:bg-teal-700","transition-all","duration-300","font-semibold","shadow-lg","hover:shadow-teal-500/30","transform","hover:scale-105","active:scale-100",3,"routerLink"],[1,"w-3","h-3","rounded-full","transition-all","duration-300",3,"click","aria-label"],[1,"min-w-0"],[1,"font-semibold","text-slate-100","truncate"],[1,"text-sm","text-slate-400","truncate"],[1,"flex-shrink-0","w-12","h-12","rounded-full","text-teal-400","hover:bg-slate-700","flex","items-center","justify-center","transition-colors",3,"click"],[1,"text-sm","text-slate-400"],[1,"flex","flex-col","items-center","text-center"],[1,"flex","items-center","justify-center","w-12","h-12","bg-slate-700","rounded-md","text-teal-400","font-semibold","text-lg"],[1,"mt-3","text-lg","font-semibold","text-slate-100"],[1,"mt-2","text-xs","text-slate-500"]],template:function(n,o){n&1&&(y(0,"div",0)(1,"section",1)(2,"div",2),Ce(3,cA,10,18,"div",3,$r),v(),y(5,"div",4),Ce(6,dA,1,7,"button",5,$r),v()(),y(8,"section",6)(9,"div",7)(10,"a",8),b(11,"app-book-open-icon",9),y(12,"h3",10),C(13),v()(),y(14,"a",11),b(15,"app-microphone-icon",9),y(16,"h3",10),C(17),v()(),y(18,"a",12),b(19,"app-radio-tower-icon",9),y(20,"h3",10),C(21),v()(),y(22,"a",13),b(23,"app-star-solid-icon",9),y(24,"h3",10),C(25),v()(),y(26,"a",14),b(27,"app-bookmark-solid-icon",9),y(28,"h3",10),C(29),v()()()(),y(30,"section")(31,"div",15)(32,"h3",16),C(33),v(),y(34,"blockquote",17)(35,"p",18),C(36," \u0671\u0644\u0644\u0651\u064E\u0647\u064F \u0644\u064E\u0627\u0653 \u0625\u0650\u0644\u064E\u0670\u0647\u064E \u0625\u0650\u0644\u0651\u064E\u0627 \u0647\u064F\u0648\u064E \u0671\u0644\u0652\u062D\u064E\u0649\u0651\u064F \u0671\u0644\u0652\u0642\u064E\u064A\u0651\u064F\u0648\u0645\u064F "),v(),y(37,"cite",19),C(38,"Surah Al-Baqarah, Ayah 255"),v()()()(),y(39,"section",17)(40,"h2",20),C(41),v(),y(42,"div",21),Ce(43,hA,10,4,"div",22,LE),v()(),y(45,"section",17)(46,"h2",20),C(47),v(),y(48,"div",23),Ce(49,vA,10,4,"div",24,uA),v()(),y(51,"section",17)(52,"h2",20),C(53),v(),y(54,"div",25)(55,"a",26)(56,"div",27),b(57,"app-kaaba-icon",9),v(),y(58,"div")(59,"h3",28),C(60),v(),y(61,"p",29),C(62),v()()(),y(63,"a",30)(64,"div",27),b(65,"app-clock-icon",9),v(),y(66,"div")(67,"h3",28),C(68),v(),y(69,"p",29),C(70),v()()()()(),y(71,"section")(72,"a",31),b(73,"div",32),y(74,"div",33)(75,"div",34),b(76,"app-sparkle-icon",9),v(),y(77,"h3",35),C(78),v(),y(79,"p",36),C(80," Gain deeper insights into the verses of the Quran. Use our AI-powered tool to get clear explanations of meaning and context. "),v()()()(),y(81,"section",17)(82,"h2",20),C(83),v(),y(84,"div",37),Ce(85,yA,10,9,"a",38,LE),v()()()),n&2&&(g(3),Ee(o.slides()),g(3),Ee(o.slides()),g(5),F("customClass","text-teal-400 h-10 w-10 mb-2"),g(2),S(o.t("Surahs")()),g(2),F("customClass","text-teal-400 h-10 w-10 mb-2"),g(2),S(o.t("Reciters")()),g(2),F("customClass","text-teal-400 h-10 w-10 mb-2"),g(2),S(o.t("Radio")()),g(2),F("customClass","text-yellow-400 h-10 w-10 mb-2"),g(2),S(o.t("Favorites")()),g(2),F("customClass","text-indigo-400 h-10 w-10 mb-2"),g(2),S(o.t("Bookmarks")()),g(4),S(o.t("Verse of the Day")()),g(8),S(o.t("Reciters")()),g(2),Ee(o.featuredReciters()),g(4),S(o.t("Radio")()),g(2),Ee(o.radioStations()),g(4),S(o.t("Essential Tools")()),g(4),F("customClass","text-amber-400 w-8 h-8"),g(3),S(o.t("Qibla")()),g(2),S(o.t("Find the direction of the Kaaba")()),g(3),F("customClass","text-amber-400 w-8 h-8"),g(3),S(o.t("Prayer Times")()),g(2),S(o.t("Check daily prayer timings")()),g(6),F("customClass","w-12 h-12 text-purple-400"),g(2),S(o.t("AI Explanation")()),g(5),S(o.t("Frequently Read Surahs")()),g(2),Ee(o.frequentlyReadSurahs()))},dependencies:[xe,It,hi,kc,Pc,Fc,Lc,Ei,qt,_n,Si,Tn,oo],encapsulation:2,changeDetection:0});var Oc=wi;var xi=class xi{constructor(){this.customClass=we("h-8 w-8")}};xi.\u0275fac=function(n){return new(n||xi)},xi.\u0275cmp=x({type:xi,selectors:[["app-loading-spinner"]],inputs:{customClass:[1,"customClass"]},decls:3,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M 4 12 a 8 8 0 0 1 8 -8 V 0 C 5.373 0 0 5.373 0 12 h 4 z m 2 5.291 A 7.962 7.962 0 0 1 4 12 H 0 c 0 3.042 1.135 5.824 3 7.938 l 3 -2.647 z",1,"opacity-75"]],template:function(n,o){n&1&&(H(),A(0,"svg",0),z(1,"circle",1)(2,"path",2),M()),n&2&&qe("animate-spin text-teal-600 "+o.customClass())},encapsulation:2,changeDetection:0});var ct=xi;var Ko=class Ko{constructor(){this.SURAH_FAVORITES_KEY="quranApp_surahFavorites_v2";this.AYAH_FAVORITES_KEY="quranApp_ayahFavorites_v2";this.favoriteAyahs=$(new Map);this.favoriteSurahs=$(new Map);this.loadFavoritesFromStorage(),me(()=>{localStorage.setItem(this.SURAH_FAVORITES_KEY,JSON.stringify(Array.from(this.favoriteSurahs().entries()))),localStorage.setItem(this.AYAH_FAVORITES_KEY,JSON.stringify(Array.from(this.favoriteAyahs().entries())))})}loadFavoritesFromStorage(){try{if(typeof localStorage<"u"){let e=localStorage.getItem(this.SURAH_FAVORITES_KEY);if(e){let o=JSON.parse(e);Array.isArray(o)&&this.favoriteSurahs.set(new Map(o))}let n=localStorage.getItem(this.AYAH_FAVORITES_KEY);if(n){let o=JSON.parse(n);Array.isArray(o)&&this.favoriteAyahs.set(new Map(o))}}}catch(e){console.error("Error loading favorites from localStorage",e),typeof localStorage<"u"&&(localStorage.removeItem(this.SURAH_FAVORITES_KEY),localStorage.removeItem(this.AYAH_FAVORITES_KEY))}}toggleSurahFavorite(e){this.favoriteSurahs.update(n=>{let o=new Map(n);return o.has(e)?o.delete(e):o.set(e,Date.now()),o})}isSurahFavorite(e){return K(()=>this.favoriteSurahs().has(e))}toggleAyahFavorite(e,n){let o=`${e}:${n}`;this.favoriteAyahs.update(r=>{let i=new Map(r);return i.has(o)?i.delete(o):i.set(o,Date.now()),i})}isAyahFavorite(e,n){let o=`${e}:${n}`;return K(()=>this.favoriteAyahs().has(o))}};Ko.\u0275fac=function(n){return new(n||Ko)},Ko.\u0275prov=O({token:Ko,factory:Ko.\u0275fac,providedIn:"root"});var ro=Ko;var bi=class bi{};bi.\u0275fac=function(n){return new(n||bi)},bi.\u0275cmp=x({type:bi,selectors:[["app-star-icon"]],decls:2,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M 11.48 3.499 a .562 .562 0 0 1 1.04 0 l 2.125 5.111 a .563 .563 0 0 0 .475 .345 l 5.518 .442 c .499 .04 .701 .663 .321 .988 l -4.204 3.602 a .563 .563 0 0 0 -.182 .557 l 1.285 5.385 a .562 .562 0 0 1 -.84 .61 l -4.725 -2.885 a .563 .563 0 0 0 -.586 0 L 6.982 20.54 a .562 .562 0 0 1 -.84 -.61 l 1.285 -5.386 a .562 .562 0 0 0 -.182 -.557 l -4.204 -3.602 a .563 .563 0 0 1 .321 -.988 l 5.518 -.442 a .563 .563 0 0 0 .475 -.345 L 11.48 3.5 z"]],template:function(n,o){n&1&&(H(),A(0,"svg",0),z(1,"path",1),M())},encapsulation:2,changeDetection:0});var Mi=bi;var CA=t=>["/surah",t],EA=(t,e)=>e.id;function _A(t,e){t&1&&(y(0,"div",2),b(1,"app-loading-spinner"),v())}function TA(t,e){t&1&&b(0,"app-star-solid-icon",15)}function SA(t,e){t&1&&b(0,"app-star-icon",16)}function IA(t,e){if(t&1){let n=_e();y(0,"a",4)(1,"div",5)(2,"div",6)(3,"span",7),C(4),v(),y(5,"div")(6,"h2",8),C(7),v(),y(8,"p",9),C(9),v()()(),y(10,"div",10)(11,"div",11)(12,"p",12),C(13),v(),y(14,"p",13),C(15),v()(),y(16,"button",14),j("click",function(r){let i=Z(n).$implicit,a=I(2);return r.preventDefault(),X(a.toggleFavorite(i.id))}),k(17,TA,1,0,"app-star-solid-icon",15)(18,SA,1,0,"app-star-icon",16),v()()()()}if(t&2){let n=e.$implicit,o=I(2);F("routerLink",mn(10,CA,n.id)),g(4),S(n.id),g(3),S(n.name),g(2),S(n.englishName),g(4),S(n.arabicName),g(2),en(" ",n.numberOfAyahs," ",o.t("Ayahs")()," \xB7 ",o.getRevelationType(n)," "),g(),F("title",o.isFavorite(n.id)()?o.t("Remove from favorites")():o.t("Add to favorites")()),g(),P(o.isFavorite(n.id)()?17:18)}}function DA(t,e){if(t&1&&(y(0,"div",3),Ce(1,IA,19,12,"a",4,EA),v()),t&2){let n=I();g(),Ee(n.surahs())}}var Ai=class Ai{constructor(){this.quranApiService=_(Qe);this.favoritesService=_(ro);this.languageService=_(Ie);this.metaService=_(Pe);this.t=this.languageService.translate.bind(this.languageService);this.surahs=be(Ne(this.languageService.language).pipe(ce(e=>this.quranApiService.getSurahs(e))),{initialValue:[]});me(()=>{this.metaService.updateTags({title:this.t("All Surahs")(),description:this.t("Explore all 114 chapters")()+" of the Holy Quran.",imageUrl:"https://picsum.photos/seed/all-surahs/1200/630"})})}getRevelationType(e){if(!e.revelationType)return"";let n=e.revelationType.toLowerCase();return this.languageService.language()==="ar"?n==="meccan"?this.t("Meccan")():this.t("Medinan")():e.revelationType}isFavorite(e){return this.favoritesService.isSurahFavorite(e)}toggleFavorite(e){this.favoritesService.toggleSurahFavorite(e)}};Ai.\u0275fac=function(n){return new(n||Ai)},Ai.\u0275cmp=x({type:Ai,selectors:[["app-surah-list"]],decls:5,vars:2,consts:[[1,"space-y-6"],[1,"text-3xl","font-bold","text-teal-400","font-amiri"],[1,"flex","justify-center","items-center","py-20"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4"],[1,"group","block","p-4","bg-slate-800/50","border","border-slate-700","rounded-lg","hover:shadow-lg","hover:shadow-teal-500/10","hover:border-teal-500","transition-all","duration-200",3,"routerLink"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","space-x-4","rtl:space-x-reverse"],[1,"flex","items-center","justify-center","w-10","h-10","bg-slate-700","rounded-md","text-teal-400","font-semibold"],[1,"text-lg","font-semibold","text-slate-100"],[1,"text-sm","text-slate-400"],[1,"flex","items-center","gap-2"],[1,"text-right"],[1,"font-amiri","text-xl","text-teal-400"],[1,"text-xs","text-slate-500"],[1,"relative","z-10","p-2","rounded-full","text-slate-400","hover:bg-slate-700","transition-colors",3,"click","title"],[1,"text-yellow-500"],[1,"group-hover:text-yellow-500"]],template:function(n,o){if(n&1&&(y(0,"div",0)(1,"h1",1),C(2),v(),k(3,_A,2,0,"div",2)(4,DA,3,0,"div",3),v()),n&2){let r;g(2),S(o.t("All Surahs")()),g(),P((r=o.surahs())!=null&&r.length?4:3)}},dependencies:[xe,It,ct,Mi,Tn],encapsulation:2,changeDetection:0});var Vc=Ai;var Ri=class Ri{};Ri.\u0275fac=function(n){return new(n||Ri)},Ri.\u0275cmp=x({type:Ri,selectors:[["app-search-icon"]],decls:2,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","d","M 21 21 l -6 -6 m 2 -5 a 7 7 0 1 1 -14 0 a 7 7 0 0 1 14 0 z"]],template:function(n,o){n&1&&(H(),A(0,"svg",0),z(1,"path",1),M())},encapsulation:2,changeDetection:0});var io=Ri;var wA=(t,e)=>e.id;function xA(t,e){if(t&1&&(y(0,"option",6),C(1),v()),t&2){let n=e.$implicit,o=I();F("value",n),g(),re(" ",n==="all"?o.t("All")()+" "+o.t("Quality")():n," ")}}function bA(t,e){t&1&&(y(0,"div",14),b(1,"app-loading-spinner"),v())}function MA(t,e){if(t&1&&(y(0,"div",14)(1,"p"),C(2),v()()),t&2){let n=I();g(2),S(n.t("No reciters found.")())}}function AA(t,e){if(t&1&&(y(0,"div",16)(1,"div",17)(2,"div",18)(3,"h2",19),C(4),v(),y(5,"p",20),C(6),v()(),y(7,"div",21)(8,"span",22),C(9),v()()()()),t&2){let n=e.$implicit;g(3),F("title",n.name),g(),S(n.name),g(2),S(n.rewaya),g(3),re(" ",n.quality," ")}}function RA(t,e){if(t&1&&(y(0,"div",15),Ce(1,AA,10,4,"div",16,wA),v()),t&2){let n=I();g(),Ee(n.filteredReciters())}}var Ni=class Ni{constructor(){this.quranApiService=_(Qe);this.languageService=_(Ie);this.metaService=_(Pe);this.t=this.languageService.translate.bind(this.languageService);this.searchTerm=$("");this.qualityFilter=$("all");this.reciters=be(Ne(this.languageService.language).pipe(ce(e=>this.quranApiService.getReciters(e))),{initialValue:[]});this.availableQualities=K(()=>{let e=this.reciters();if(!e)return["all"];let n=e.map(r=>r.quality).filter(Boolean);return["all",...Array.from(new Set(n)).sort((r,i)=>{let a=parseInt(r);return parseInt(i)-a})]});this.filteredReciters=K(()=>{let e=this.searchTerm().toLowerCase().trim(),n=this.qualityFilter(),o=this.reciters();return Array.isArray(o)?(n!=="all"&&(o=o.filter(r=>r.quality===n)),e?o.filter(r=>r.name?.toLowerCase().includes(e)||r.rewaya?.toLowerCase().includes(e)):o):[]});me(()=>{this.metaService.updateTags({title:this.t("All Reciters")(),description:this.t("Choose from renowned reciters")()+" and listen to their Quran recitations.",imageUrl:"https://picsum.photos/seed/all-reciters/1200/630"})})}onSearch(e){let n=e.target.value;this.searchTerm.set(n)}onQualityChange(e){this.qualityFilter.set(e.target.value)}};Ni.\u0275fac=function(n){return new(n||Ni)},Ni.\u0275cmp=x({type:Ni,selectors:[["app-reciter-list"]],decls:19,vars:3,consts:[[1,"space-y-6"],[1,"flex","flex-col","md:flex-row","md:items-center","md:justify-between","gap-4"],[1,"text-3xl","font-bold","text-teal-400","font-amiri"],[1,"flex","flex-col","sm:flex-row","gap-4"],[1,"relative"],[1,"w-full","sm:w-auto","pl-4","pr-10","py-2","bg-slate-800","border","border-slate-600","text-slate-200","rounded-lg","focus:ring-teal-500","focus:border-teal-500","appearance-none",3,"change"],[3,"value"],[1,"absolute","inset-y-0","right-0","flex","items-center","px-2","pointer-events-none","rtl:right-auto","rtl:left-0"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-slate-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],[1,"relative","w-full","sm:w-64"],[1,"absolute","inset-y-0","left-0","rtl:left-auto","rtl:right-0","flex","items-center","pl-3","rtl:pl-0","rtl:pr-3","pointer-events-none"],[1,"text-slate-400"],["type","text",1,"w-full","pl-10","rtl:pl-4","rtl:pr-10","pr-4","py-2","bg-slate-800","border","border-slate-600","text-slate-200","rounded-lg","focus:ring-teal-500","focus:border-teal-500",3,"input","placeholder"],[1,"flex","justify-center","items-center","py-20"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-4"],[1,"block","p-4","bg-slate-800/50","border","border-slate-700","rounded-lg","shadow-sm"],[1,"flex","flex-col","h-full"],[1,"min-w-0","flex-grow"],[1,"text-md","font-semibold","text-slate-100",3,"title"],[1,"text-sm","text-slate-400"],[1,"mt-2"],[1,"inline-block","bg-slate-700","text-teal-400","text-xs","font-semibold","px-2","py-1","rounded-full"]],template:function(n,o){if(n&1&&(y(0,"div",0)(1,"div",1)(2,"h1",2),C(3),v(),y(4,"div",3)(5,"div",4)(6,"select",5),j("change",function(i){return o.onQualityChange(i)}),Ce(7,xA,2,2,"option",6,ta),v(),y(9,"div",7),H(),y(10,"svg",8),b(11,"path",9),v()()(),$l(),y(12,"div",10)(13,"div",11),b(14,"app-search-icon",12),v(),y(15,"input",13),j("input",function(i){return o.onSearch(i)}),v()()()(),k(16,bA,2,0,"div",14)(17,MA,3,1,"div",14)(18,RA,3,0,"div",15),v()),n&2){let r;g(3),S(o.t("All Reciters")()),g(4),Ee(o.availableQualities()),g(8),F("placeholder",o.t("Search Reciters...")()),g(),P((r=o.reciters())!=null&&r.length?(r=o.filteredReciters())!=null&&r.length?18:17:16)}},dependencies:[xe,ct,io],encapsulation:2,changeDetection:0});var Uc=Ni;function NA(t,e){t&1&&(y(0,"div",2),b(1,"app-loading-spinner"),v())}function kA(t,e){t&1&&b(0,"app-sound-wave-icon",7)}function PA(t,e){t&1&&b(0,"app-pause-icon")}function FA(t,e){t&1&&b(0,"app-play-icon")}function LA(t,e){if(t&1){let n=_e();Ut(0),y(1,"div",5)(2,"div",6),k(3,kA,1,0,"app-sound-wave-icon",7),y(4,"h2",8),C(5),v()(),y(6,"button",9),j("click",function(){let r=Z(n).$implicit,i=Bt(0),a=I(2);return X(i?a.pauseRadio():a.playRadio(r))}),k(7,PA,1,0,"app-pause-icon")(8,FA,1,0,"app-play-icon"),v()()}if(t&2){let n,o=e.$implicit,r=I(2),i=tn(((n=r.currentTrack())==null?null:n.url)===o.URL&&r.isPlaying());g(),Oe("bg-teal-900/40",i)("border-teal-500",i)("border-slate-700",!i),g(2),P(i?3:-1),g(),F("title",o.Name),g(),S(o.Name),g(2),P(i?7:8)}}function OA(t,e){if(t&1&&(y(0,"div",3),Ce(1,LA,9,11,"div",4,$r),v()),t&2){let n=I();g(),Ee(n.radios())}}var ki=class ki{constructor(){this.quranApiService=_(Qe);this.languageService=_(Ie);this.playerService=_($t);this.metaService=_(Pe);this.t=this.languageService.translate.bind(this.languageService);this.radios=be(this.quranApiService.getRadios());this.currentTrack=this.playerService.currentTrack;this.isPlaying=this.playerService.isPlaying;me(()=>{this.metaService.updateTags({title:this.t("Radio")(),description:this.t("Listen to Holy Quran Radio")()+" stations from around the world.",imageUrl:"https://picsum.photos/seed/quran-radio/1200/630"})})}playRadio(e){let n={title:e.Name,subtitle:"Live Radio",url:e.URL};this.playerService.play(n)}pauseRadio(){this.playerService.pause()}};ki.\u0275fac=function(n){return new(n||ki)},ki.\u0275cmp=x({type:ki,selectors:[["app-radio"]],decls:5,vars:2,consts:[[1,"space-y-6"],[1,"text-3xl","font-bold","text-teal-400","font-amiri"],[1,"flex","justify-center","items-center","py-20"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-4"],[1,"flex","items-center","justify-between","p-4","bg-slate-800/50","border","border-slate-700","rounded-lg","shadow-sm","transition-all","duration-300","border-l-4",3,"bg-teal-900/40","border-teal-500","border-slate-700"],[1,"flex","items-center","justify-between","p-4","bg-slate-800/50","border","border-slate-700","rounded-lg","shadow-sm","transition-all","duration-300","border-l-4"],[1,"flex","items-center","gap-3","min-w-0"],[1,"text-teal-400","flex-shrink-0"],[1,"text-md","font-semibold","text-slate-100","truncate",3,"title"],[1,"flex-shrink-0","w-10","h-10","rounded-full","bg-slate-700","text-teal-400","hover:bg-slate-600","flex","items-center","justify-center","transition-colors",3,"click"]],template:function(n,o){if(n&1&&(y(0,"div",0)(1,"h1",1),C(2),v(),k(3,NA,2,0,"div",2)(4,OA,3,0,"div",3),v()),n&2){let r;g(2),S(o.t("All Radio Stations")()),g(),P((r=o.radios())!=null&&r.length?4:3)}},dependencies:[xe,ct,no,qt,_n],encapsulation:2,changeDetection:0});var Bc=ki;var VA=[[["","slot","title"]],[["","slot","content"]],[["","slot","close-button-text"]]],UA=["[slot=title]","[slot=content]","[slot=close-button-text]"];function BA(t,e){if(t&1){let n=_e();A(0,"div",0)(1,"div",1),oa("click",function(){Z(n);let r=I();return X(r.onClose())}),M(),A(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3",6),ra(7),M(),A(8,"div",7)(9,"div",8),ra(10,1),M()()()()(),A(11,"div",9)(12,"button",10),oa("click",function(){Z(n);let r=I();return X(r.onClose())}),ra(13,2),M()()()()}}var Pi=class Pi{constructor(){this.isOpen=we.required();this.closeModal=hC()}onClose(){this.closeModal.emit()}};Pi.\u0275fac=function(n){return new(n||Pi)},Pi.\u0275cmp=x({type:Pi,selectors:[["app-modal"]],inputs:{isOpen:[1,"isOpen"]},outputs:{closeModal:"closeModal"},ngContentSelectors:UA,decls:1,vars:1,consts:[["aria-labelledby","modal-title","role","dialog","aria-modal","true",1,"fixed","inset-0","z-50","flex","items-center","justify-center","p-4"],["aria-hidden","true",1,"fixed","inset-0","bg-slate-900/80","backdrop-blur-sm","transition-opacity",3,"click"],[1,"relative","w-full","max-w-2xl","transform","rounded-2xl","bg-slate-800","text-left","shadow-xl","transition-all","border","border-slate-700"],[1,"bg-slate-800","px-4","pb-4","pt-5","sm:p-6","sm:pb-4","rounded-t-2xl"],[1,"sm:flex","sm:items-start"],[1,"mt-3","text-center","sm:ml-4","sm:mt-0","sm:text-left","w-full"],["id","modal-title",1,"text-xl","font-semibold","leading-6","text-slate-100","font-amiri"],[1,"mt-4"],[1,"text-slate-300","leading-relaxed","prose","prose-invert","max-w-none"],[1,"bg-slate-800/50","px-4","py-3","sm:flex","sm:flex-row-reverse","sm:px-6","rounded-b-2xl","border-t","border-slate-700"],["type","button",1,"mt-3","inline-flex","w-full","justify-center","rounded-md","bg-slate-700","px-3","py-2","text-sm","font-semibold","text-slate-200","shadow-sm","ring-1","ring-inset","ring-slate-600","hover:bg-slate-600","sm:mt-0","sm:w-auto",3,"click"]],template:function(n,o){n&1&&(dh(VA),k(0,BA,14,0,"div",0)),n&2&&P(o.isOpen()?0:-1)},dependencies:[xe],encapsulation:2,changeDetection:0});var Hc=Pi;var HA,$A;function qA(){return{geminiUrl:HA,vertexUrl:$A}}function GA(t,e,n,o){var r,i;if(!t?.baseUrl){let a=qA();return e?(r=a.vertexUrl)!==null&&r!==void 0?r:n:(i=a.geminiUrl)!==null&&i!==void 0?i:o}return t.baseUrl}var Bn=class{};function B(t,e){let n=/\{([^}]+)\}/g;return t.replace(n,(o,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){let i=e[r];return i!=null?String(i):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function l(t,e,n){for(let i=0;i<e.length-1;i++){let a=e[i];if(a.endsWith("[]")){let u=a.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[u])){let c=t[u];if(Array.isArray(n))for(let d=0;d<c.length;d++){let f=c[d];l(f,e.slice(i+1),n[d])}else for(let d of c)l(d,e.slice(i+1),n)}return}else if(a.endsWith("[0]")){let u=a.slice(0,-3);u in t||(t[u]=[{}]);let c=t[u];l(c[0],e.slice(i+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}let o=e[e.length-1],r=t[o];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[o]=n}function s(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;let o=e[n];if(o.endsWith("[]")){let r=o.slice(0,-2);if(r in t){let i=t[r];return Array.isArray(i)?i.map(a=>s(a,e.slice(n+1))):void 0}else return}else t=t[o]}return t}catch(n){if(n instanceof TypeError)return;throw n}}function Xm(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function zA(t){let e={},n=s(t,["operationName"]);n!=null&&l(e,["operationName"],n);let o=s(t,["resourceName"]);return o!=null&&l(e,["_url","resourceName"],o),e}function WA(t){let e={},n=s(t,["name"]);n!=null&&l(e,["name"],n);let o=s(t,["metadata"]);o!=null&&l(e,["metadata"],o);let r=s(t,["done"]);r!=null&&l(e,["done"],r);let i=s(t,["error"]);i!=null&&l(e,["error"],i);let a=s(t,["response","generateVideoResponse"]);return a!=null&&l(e,["response"],JA(a)),e}function jA(t){let e={},n=s(t,["name"]);n!=null&&l(e,["name"],n);let o=s(t,["metadata"]);o!=null&&l(e,["metadata"],o);let r=s(t,["done"]);r!=null&&l(e,["done"],r);let i=s(t,["error"]);i!=null&&l(e,["error"],i);let a=s(t,["response"]);return a!=null&&l(e,["response"],YA(a)),e}function JA(t){let e={},n=s(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>KA(a))),l(e,["generatedVideos"],i)}let o=s(t,["raiMediaFilteredCount"]);o!=null&&l(e,["raiMediaFilteredCount"],o);let r=s(t,["raiMediaFilteredReasons"]);return r!=null&&l(e,["raiMediaFilteredReasons"],r),e}function YA(t){let e={},n=s(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>QA(a))),l(e,["generatedVideos"],i)}let o=s(t,["raiMediaFilteredCount"]);o!=null&&l(e,["raiMediaFilteredCount"],o);let r=s(t,["raiMediaFilteredReasons"]);return r!=null&&l(e,["raiMediaFilteredReasons"],r),e}function KA(t){let e={},n=s(t,["_self"]);return n!=null&&l(e,["video"],eR(n)),e}function QA(t){let e={},n=s(t,["_self"]);return n!=null&&l(e,["video"],tR(n)),e}function ZA(t){let e={},n=s(t,["operationName"]);return n!=null&&l(e,["_url","operationName"],n),e}function XA(t){let e={},n=s(t,["operationName"]);return n!=null&&l(e,["_url","operationName"],n),e}function eR(t){let e={},n=s(t,["video","uri"]);n!=null&&l(e,["uri"],n);let o=s(t,["video","encodedVideo"]);o!=null&&l(e,["videoBytes"],Xm(o));let r=s(t,["encoding"]);return r!=null&&l(e,["mimeType"],r),e}function tR(t){let e={},n=s(t,["gcsUri"]);n!=null&&l(e,["uri"],n);let o=s(t,["bytesBase64Encoded"]);o!=null&&l(e,["videoBytes"],Xm(o));let r=s(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}var Zo=(function(t){return t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL",t})(Zo||{});var hm=(function(t){return t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO",t})(hm||{});var i_=(function(t){return t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED",t})(i_||{});var La=(function(t){return t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT",t})(La||{});var Va=class{constructor(e){let n={};for(let o of e.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}};var Qo=class{get text(){var e,n,o,r,i,a,u,c;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1,p=[];for(let h of(c=(u=(a=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(let[m,E]of Object.entries(h))m!=="text"&&m!=="thought"&&(E!==null||E!==void 0)&&p.push(m);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;f=!0,d+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var e,n,o,r,i,a,u,c;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="",f=[];for(let p of(c=(u=(a=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(let[h,m]of Object.entries(p))h!=="inlineData"&&(m!==null||m!==void 0)&&f.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(d+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,o,r,i,a,u,c;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");let d=(c=(u=(a=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if(d?.length!==0)return d}get executableCode(){var e,n,o,r,i,a,u,c,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");let f=(c=(u=(a=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if(f?.length!==0)return(d=f?.[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,o,r,i,a,u,c,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");let f=(c=(u=(a=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if(f?.length!==0)return(d=f?.[0])===null||d===void 0?void 0:d.output}},Wc=class{},jc=class{},mm=class{},gm=class{},vm=class{},ym=class{},Jc=class{},Yc=class{},Kc=class{},Cm=class{};var Qc=class t{_fromAPIResponse({apiResponse:e,isVertexAI:n}){let o=new t,r,i=e;return n?r=jA(i):r=WA(i),Object.assign(o,r),o}},Zc=class{},Xc=class{},ed=class{},Em=class{},_m=class{},Tm=class{};var td=class{};var Sm=class{get text(){var e,n,o;let r="",i=!1,a=[];for(let u of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(let[c,d]of Object.entries(u))c!=="text"&&c!=="thought"&&d!==null&&a.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;i=!0,r+=u.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?r:void 0}get data(){var e,n,o;let r="",i=[];for(let a of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(let[u,c]of Object.entries(a))u!=="inlineData"&&c!==null&&i.push(u);a.inlineData&&typeof a.inlineData.data=="string"&&(r+=atob(a.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}};var Im=class{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}};function ye(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){let n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function s_(t,e){let n=ye(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function a_(t){return Array.isArray(t)?t.map(e=>nd(e)):[nd(t)]}function nd(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function l_(t){let e=nd(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function u_(t){let e=nd(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function OE(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function c_(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>OE(e)):[OE(t)]}function Dm(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function VE(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function UE(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function dt(t){if(t==null)throw new Error("ContentUnion is required");return Dm(t)?t:{role:"user",parts:c_(t)}}function eg(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{let o=dt(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){let n=dt(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>dt(n)):[dt(e)]}function Gt(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(VE(t)||UE(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[dt(t)]}let e=[],n=[],o=Dm(t[0]);for(let r of t){let i=Dm(r);if(i!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)e.push(r);else{if(VE(r)||UE(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return o||e.push({role:"user",parts:c_(n)}),e}function nR(t,e){t.includes("null")&&(e.nullable=!0);let n=t.filter(o=>o!=="null");if(n.length===1)e.type=Object.values(Zo).includes(n[0].toUpperCase())?n[0].toUpperCase():Zo.TYPE_UNSPECIFIED;else{e.anyOf=[];for(let o of n)e.anyOf.push({type:Object.values(Zo).includes(o.toUpperCase())?o.toUpperCase():Zo.TYPE_UNSPECIFIED})}}function Li(t){let e={},n=["items"],o=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");let i=t.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,t=i[1]):i[1].type==="null"&&(e.nullable=!0,t=i[0])),t.type instanceof Array&&nR(t.type,e);for(let[a,u]of Object.entries(t))if(u!=null)if(a=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Zo).includes(u.toUpperCase())?u.toUpperCase():Zo.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=Li(u);else if(o.includes(a)){let c=[];for(let d of u){if(d.type=="null"){e.nullable=!0;continue}c.push(Li(d))}e[a]=c}else if(r.includes(a)){let c={};for(let[d,f]of Object.entries(u))c[d]=Li(f);e[a]=c}else{if(a==="additionalProperties")continue;e[a]=u}return e}function tg(t){return Li(t)}function ng(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function og(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Ui(t){if(t.functionDeclarations)for(let e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Li(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Li(e.response));return t}function Bi(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");let e=[];for(let n of t)e.push(n);return e}function oR(t,e,n,o=1){let r=!e.startsWith(`${n}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:r?`${n}/${e}`:e}function Hn(t,e){if(typeof e!="string")throw new Error("name must be a string");return oR(t,e,"cachedContents")}function d_(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function er(t){return Xm(t)}function rR(t){return t!=null&&typeof t=="object"&&"name"in t}function iR(t){return t!=null&&typeof t=="object"&&"video"in t}function sR(t){return t!=null&&typeof t=="object"&&"uri"in t}function f_(t){var e;let n;if(rR(t)&&(n=t.name),!(sR(t)&&(n=t.uri,n===void 0))&&!(iR(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){let r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function p_(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function h_(t){for(let e of["models","tunedModels","publisherModels"])if(aR(t,e))return t[e];return[]}function aR(t,e){return t!==null&&typeof t=="object"&&e in t}function lR(t,e={}){let n=t,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function uR(t,e={}){let n=[],o=new Set;for(let r of t){let i=r.name;if(o.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);o.add(i);let a=lR(r,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function m_(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;let o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function cR(t){if(typeof t!="string")return t;let e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function g_(t){if(typeof t!="object"||t===null)return{};let e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;let r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return t;let i=!1;for(let a of r){if(typeof a!="object"||a===null)continue;let c=a.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){i=!0;break}}return i&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Hi(t,e){let n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function v_(t){let e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function dR(t){let e={},n=s(t,["responsesFile"]);n!=null&&l(e,["fileName"],n);let o=s(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>QR(a))),l(e,["inlinedResponses"],i)}let r=s(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>YR(a))),l(e,["inlinedEmbedContentResponses"],i)}return e}function fR(t){let e={},n=s(t,["predictionsFormat"]);n!=null&&l(e,["format"],n);let o=s(t,["gcsDestination","outputUriPrefix"]);o!=null&&l(e,["gcsUri"],o);let r=s(t,["bigqueryDestination","outputUri"]);return r!=null&&l(e,["bigqueryUri"],r),e}function pR(t){let e={},n=s(t,["format"]);n!=null&&l(e,["predictionsFormat"],n);let o=s(t,["gcsUri"]);o!=null&&l(e,["gcsDestination","outputUriPrefix"],o);let r=s(t,["bigqueryUri"]);if(r!=null&&l(e,["bigqueryDestination","outputUri"],r),s(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(s(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Fi(t){let e={},n=s(t,["name"]);n!=null&&l(e,["name"],n);let o=s(t,["metadata","displayName"]);o!=null&&l(e,["displayName"],o);let r=s(t,["metadata","state"]);r!=null&&l(e,["state"],v_(r));let i=s(t,["metadata","createTime"]);i!=null&&l(e,["createTime"],i);let a=s(t,["metadata","endTime"]);a!=null&&l(e,["endTime"],a);let u=s(t,["metadata","updateTime"]);u!=null&&l(e,["updateTime"],u);let c=s(t,["metadata","model"]);c!=null&&l(e,["model"],c);let d=s(t,["metadata","output"]);return d!=null&&l(e,["dest"],dR(g_(d))),e}function wm(t){let e={},n=s(t,["name"]);n!=null&&l(e,["name"],n);let o=s(t,["displayName"]);o!=null&&l(e,["displayName"],o);let r=s(t,["state"]);r!=null&&l(e,["state"],v_(r));let i=s(t,["error"]);i!=null&&l(e,["error"],C_(i));let a=s(t,["createTime"]);a!=null&&l(e,["createTime"],a);let u=s(t,["startTime"]);u!=null&&l(e,["startTime"],u);let c=s(t,["endTime"]);c!=null&&l(e,["endTime"],c);let d=s(t,["updateTime"]);d!=null&&l(e,["updateTime"],d);let f=s(t,["model"]);f!=null&&l(e,["model"],f);let p=s(t,["inputConfig"]);p!=null&&l(e,["src"],hR(p));let h=s(t,["outputConfig"]);return h!=null&&l(e,["dest"],fR(g_(h))),e}function hR(t){let e={},n=s(t,["instancesFormat"]);n!=null&&l(e,["format"],n);let o=s(t,["gcsSource","uris"]);o!=null&&l(e,["gcsUri"],o);let r=s(t,["bigquerySource","inputUri"]);return r!=null&&l(e,["bigqueryUri"],r),e}function mR(t,e){let n={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");let o=s(e,["fileName"]);o!=null&&l(n,["fileName"],o);let r=s(e,["inlinedRequests"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>KR(t,a))),l(n,["requests","requests"],i)}return n}function gR(t){let e={},n=s(t,["format"]);n!=null&&l(e,["instancesFormat"],n);let o=s(t,["gcsUri"]);o!=null&&l(e,["gcsSource","uris"],o);let r=s(t,["bigqueryUri"]);if(r!=null&&l(e,["bigquerySource","inputUri"],r),s(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function vR(t){let e={},n=s(t,["data"]);n!=null&&l(e,["data"],n);let o=s(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function yR(t){let e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=s(t,["data"]);n!=null&&l(e,["data"],n);let o=s(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function CR(t,e){let n={},o=s(e,["name"]);return o!=null&&l(n,["_url","name"],Hi(t,o)),n}function ER(t,e){let n={},o=s(e,["name"]);return o!=null&&l(n,["_url","name"],Hi(t,o)),n}function _R(t){let e={},n=s(t,["content"]);n!=null&&l(e,["content"],IR(n));let o=s(t,["citationMetadata"]);o!=null&&l(e,["citationMetadata"],TR(o));let r=s(t,["tokenCount"]);r!=null&&l(e,["tokenCount"],r);let i=s(t,["finishReason"]);i!=null&&l(e,["finishReason"],i);let a=s(t,["urlContextMetadata"]);a!=null&&l(e,["urlContextMetadata"],E1(a));let u=s(t,["avgLogprobs"]);u!=null&&l(e,["avgLogprobs"],u);let c=s(t,["groundingMetadata"]);c!=null&&l(e,["groundingMetadata"],c);let d=s(t,["index"]);d!=null&&l(e,["index"],d);let f=s(t,["logprobsResult"]);f!=null&&l(e,["logprobsResult"],f);let p=s(t,["safetyRatings"]);return p!=null&&l(e,["safetyRatings"],p),e}function TR(t){let e={},n=s(t,["citationSources"]);return n!=null&&l(e,["citations"],n),e}function SR(t){let e={},n=s(t,["values"]);return n!=null&&l(e,["values"],n),e}function IR(t){let e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>a1(i))),l(e,["parts"],r)}let o=s(t,["role"]);return o!=null&&l(e,["role"],o),e}function y_(t){let e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>l1(i))),l(e,["parts"],r)}let o=s(t,["role"]);return o!=null&&l(e,["role"],o),e}function DR(t,e){let n={},o=s(t,["displayName"]);if(e!==void 0&&o!=null&&l(e,["batch","displayName"],o),s(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function wR(t,e){let n={},o=s(t,["displayName"]);e!==void 0&&o!=null&&l(e,["displayName"],o);let r=s(t,["dest"]);return e!==void 0&&r!=null&&l(e,["outputConfig"],pR(cR(r))),n}function dm(t,e){let n={},o=s(e,["model"]);o!=null&&l(n,["_url","model"],ye(t,o));let r=s(e,["src"]);r!=null&&l(n,["batch","inputConfig"],mR(t,m_(t,r)));let i=s(e,["config"]);return i!=null&&DR(i,n),n}function xR(t,e){let n={},o=s(e,["model"]);o!=null&&l(n,["model"],ye(t,o));let r=s(e,["src"]);r!=null&&l(n,["inputConfig"],gR(m_(t,r)));let i=s(e,["config"]);return i!=null&&wR(i,n),n}function bR(t,e){let n={},o=s(t,["displayName"]);return e!==void 0&&o!=null&&l(e,["batch","displayName"],o),n}function fm(t,e){let n={},o=s(e,["model"]);o!=null&&l(n,["_url","model"],ye(t,o));let r=s(e,["src"]);r!=null&&l(n,["batch","inputConfig"],LR(t,r));let i=s(e,["config"]);return i!=null&&bR(i,n),n}function MR(t,e){let n={},o=s(e,["name"]);return o!=null&&l(n,["_url","name"],Hi(t,o)),n}function AR(t,e){let n={},o=s(e,["name"]);return o!=null&&l(n,["_url","name"],Hi(t,o)),n}function RR(t){let e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=s(t,["name"]);o!=null&&l(e,["name"],o);let r=s(t,["done"]);r!=null&&l(e,["done"],r);let i=s(t,["error"]);return i!=null&&l(e,["error"],rg(i)),e}function NR(t){let e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=s(t,["name"]);o!=null&&l(e,["name"],o);let r=s(t,["done"]);r!=null&&l(e,["done"],r);let i=s(t,["error"]);return i!=null&&l(e,["error"],C_(i)),e}function kR(t){let e={},n=s(t,["mode"]);n!=null&&l(e,["mode"],n);let o=s(t,["dynamicThreshold"]);return o!=null&&l(e,["dynamicThreshold"],o),e}function PR(t,e){let n={},o=s(e,["contents"]);o!=null&&l(n,["requests[]","request","content"],eg(t,o));let r=s(e,["config"]);return r!=null&&l(n,["config"],FR(r,n)),n}function FR(t,e){let n={},o=s(t,["taskType"]);e!==void 0&&o!=null&&l(e,["requests[]","taskType"],o);let r=s(t,["title"]);e!==void 0&&r!=null&&l(e,["requests[]","title"],r);let i=s(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&l(e,["requests[]","outputDimensionality"],i),s(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function LR(t,e){let n={},o=s(e,["fileName"]);o!=null&&l(n,["file_name"],o);let r=s(e,["inlinedRequests"]);return r!=null&&l(n,["requests"],PR(t,r)),n}function OR(t){let e={},n=s(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);let o=s(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function VR(t){let e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=s(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);let o=s(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function UR(t){let e={},n=s(t,["id"]);n!=null&&l(e,["id"],n);let o=s(t,["args"]);o!=null&&l(e,["args"],o);let r=s(t,["name"]);return r!=null&&l(e,["name"],r),e}function BR(t){let e={},n=s(t,["id"]);n!=null&&l(e,["id"],n);let o=s(t,["args"]);o!=null&&l(e,["args"],o);let r=s(t,["name"]);return r!=null&&l(e,["name"],r),e}function HR(t){let e={},n=s(t,["mode"]);n!=null&&l(e,["mode"],n);let o=s(t,["allowedFunctionNames"]);return o!=null&&l(e,["allowedFunctionNames"],o),e}function $R(t){let e={},n=s(t,["behavior"]);n!=null&&l(e,["behavior"],n);let o=s(t,["description"]);o!=null&&l(e,["description"],o);let r=s(t,["name"]);r!=null&&l(e,["name"],r);let i=s(t,["parameters"]);i!=null&&l(e,["parameters"],i);let a=s(t,["parametersJsonSchema"]);a!=null&&l(e,["parametersJsonSchema"],a);let u=s(t,["response"]);u!=null&&l(e,["response"],u);let c=s(t,["responseJsonSchema"]);return c!=null&&l(e,["responseJsonSchema"],c),e}function qR(t,e,n){let o={},r=s(e,["systemInstruction"]);n!==void 0&&r!=null&&l(n,["systemInstruction"],y_(dt(r)));let i=s(e,["temperature"]);i!=null&&l(o,["temperature"],i);let a=s(e,["topP"]);a!=null&&l(o,["topP"],a);let u=s(e,["topK"]);u!=null&&l(o,["topK"],u);let c=s(e,["candidateCount"]);c!=null&&l(o,["candidateCount"],c);let d=s(e,["maxOutputTokens"]);d!=null&&l(o,["maxOutputTokens"],d);let f=s(e,["stopSequences"]);f!=null&&l(o,["stopSequences"],f);let p=s(e,["responseLogprobs"]);p!=null&&l(o,["responseLogprobs"],p);let h=s(e,["logprobs"]);h!=null&&l(o,["logprobs"],h);let m=s(e,["presencePenalty"]);m!=null&&l(o,["presencePenalty"],m);let E=s(e,["frequencyPenalty"]);E!=null&&l(o,["frequencyPenalty"],E);let T=s(e,["seed"]);T!=null&&l(o,["seed"],T);let D=s(e,["responseMimeType"]);D!=null&&l(o,["responseMimeType"],D);let w=s(e,["responseSchema"]);w!=null&&l(o,["responseSchema"],f1(tg(w)));let R=s(e,["responseJsonSchema"]);if(R!=null&&l(o,["responseJsonSchema"],R),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let L=s(e,["safetySettings"]);if(n!==void 0&&L!=null){let De=L;Array.isArray(De)&&(De=De.map(an=>d1(an))),l(n,["safetySettings"],De)}let q=s(e,["tools"]);if(n!==void 0&&q!=null){let De=Bi(q);Array.isArray(De)&&(De=De.map(an=>C1(Ui(an)))),l(n,["tools"],De)}let J=s(e,["toolConfig"]);if(n!==void 0&&J!=null&&l(n,["toolConfig"],y1(J)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let fe=s(e,["cachedContent"]);n!==void 0&&fe!=null&&l(n,["cachedContent"],Hn(t,fe));let ve=s(e,["responseModalities"]);ve!=null&&l(o,["responseModalities"],ve);let tt=s(e,["mediaResolution"]);tt!=null&&l(o,["mediaResolution"],tt);let ue=s(e,["speechConfig"]);if(ue!=null&&l(o,["speechConfig"],m1(ng(ue))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let Ae=s(e,["thinkingConfig"]);return Ae!=null&&l(o,["thinkingConfig"],g1(Ae)),o}function GR(t){let e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=s(t,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>_R(d))),l(e,["candidates"],c)}let r=s(t,["modelVersion"]);r!=null&&l(e,["modelVersion"],r);let i=s(t,["promptFeedback"]);i!=null&&l(e,["promptFeedback"],i);let a=s(t,["responseId"]);a!=null&&l(e,["responseId"],a);let u=s(t,["usageMetadata"]);return u!=null&&l(e,["usageMetadata"],u),e}function zR(t,e){let n={},o=s(e,["name"]);return o!=null&&l(n,["_url","name"],Hi(t,o)),n}function WR(t,e){let n={},o=s(e,["name"]);return o!=null&&l(n,["_url","name"],Hi(t,o)),n}function jR(t){let e={},n=s(t,["dynamicRetrievalConfig"]);return n!=null&&l(e,["dynamicRetrievalConfig"],kR(n)),e}function JR(t){let e={},n=s(t,["timeRangeFilter"]);if(n!=null&&l(e,["timeRangeFilter"],ZR(n)),s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function YR(t){let e={},n=s(t,["response"]);n!=null&&l(e,["response"],p1(n));let o=s(t,["error"]);return o!=null&&l(e,["error"],rg(o)),e}function KR(t,e){let n={},o=s(e,["model"]);o!=null&&l(n,["request","model"],ye(t,o));let r=s(e,["contents"]);if(r!=null){let a=Gt(r);Array.isArray(a)&&(a=a.map(u=>y_(u))),l(n,["request","contents"],a)}let i=s(e,["config"]);return i!=null&&l(n,["request","generationConfig"],qR(t,i,n)),n}function QR(t){let e={},n=s(t,["response"]);n!=null&&l(e,["response"],GR(n));let o=s(t,["error"]);return o!=null&&l(e,["error"],rg(o)),e}function ZR(t){let e={},n=s(t,["startTime"]);n!=null&&l(e,["startTime"],n);let o=s(t,["endTime"]);return o!=null&&l(e,["endTime"],o),e}function rg(t){let e={},n=s(t,["details"]);n!=null&&l(e,["details"],n);let o=s(t,["code"]);o!=null&&l(e,["code"],o);let r=s(t,["message"]);return r!=null&&l(e,["message"],r),e}function C_(t){let e={},n=s(t,["details"]);n!=null&&l(e,["details"],n);let o=s(t,["code"]);o!=null&&l(e,["code"],o);let r=s(t,["message"]);return r!=null&&l(e,["message"],r),e}function XR(t){let e={},n=s(t,["latitude"]);n!=null&&l(e,["latitude"],n);let o=s(t,["longitude"]);return o!=null&&l(e,["longitude"],o),e}function e1(t,e){let n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&l(e,["_query","pageSize"],o);let r=s(t,["pageToken"]);if(e!==void 0&&r!=null&&l(e,["_query","pageToken"],r),s(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function t1(t,e){let n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&l(e,["_query","pageSize"],o);let r=s(t,["pageToken"]);e!==void 0&&r!=null&&l(e,["_query","pageToken"],r);let i=s(t,["filter"]);return e!==void 0&&i!=null&&l(e,["_query","filter"],i),n}function n1(t){let e={},n=s(t,["config"]);return n!=null&&e1(n,e),e}function o1(t){let e={},n=s(t,["config"]);return n!=null&&t1(n,e),e}function r1(t){let e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=s(t,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);let r=s(t,["operations"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Fi(a))),l(e,["batchJobs"],i)}return e}function i1(t){let e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=s(t,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);let r=s(t,["batchPredictionJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>wm(a))),l(e,["batchJobs"],i)}return e}function s1(t){let e={},n=s(t,["speakerVoiceConfigs"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>h1(r))),l(e,["speakerVoiceConfigs"],o)}return e}function a1(t){let e={},n=s(t,["videoMetadata"]);n!=null&&l(e,["videoMetadata"],S1(n));let o=s(t,["thought"]);o!=null&&l(e,["thought"],o);let r=s(t,["inlineData"]);r!=null&&l(e,["inlineData"],vR(r));let i=s(t,["fileData"]);i!=null&&l(e,["fileData"],OR(i));let a=s(t,["thoughtSignature"]);a!=null&&l(e,["thoughtSignature"],a);let u=s(t,["functionCall"]);u!=null&&l(e,["functionCall"],UR(u));let c=s(t,["codeExecutionResult"]);c!=null&&l(e,["codeExecutionResult"],c);let d=s(t,["executableCode"]);d!=null&&l(e,["executableCode"],d);let f=s(t,["functionResponse"]);f!=null&&l(e,["functionResponse"],f);let p=s(t,["text"]);return p!=null&&l(e,["text"],p),e}function l1(t){let e={},n=s(t,["videoMetadata"]);n!=null&&l(e,["videoMetadata"],I1(n));let o=s(t,["thought"]);o!=null&&l(e,["thought"],o);let r=s(t,["inlineData"]);r!=null&&l(e,["inlineData"],yR(r));let i=s(t,["fileData"]);i!=null&&l(e,["fileData"],VR(i));let a=s(t,["thoughtSignature"]);a!=null&&l(e,["thoughtSignature"],a);let u=s(t,["functionCall"]);u!=null&&l(e,["functionCall"],BR(u));let c=s(t,["codeExecutionResult"]);c!=null&&l(e,["codeExecutionResult"],c);let d=s(t,["executableCode"]);d!=null&&l(e,["executableCode"],d);let f=s(t,["functionResponse"]);f!=null&&l(e,["functionResponse"],f);let p=s(t,["text"]);return p!=null&&l(e,["text"],p),e}function u1(t){let e={},n=s(t,["voiceName"]);return n!=null&&l(e,["voiceName"],n),e}function c1(t){let e={},n=s(t,["latLng"]);n!=null&&l(e,["latLng"],XR(n));let o=s(t,["languageCode"]);return o!=null&&l(e,["languageCode"],o),e}function d1(t){let e={};if(s(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let n=s(t,["category"]);n!=null&&l(e,["category"],n);let o=s(t,["threshold"]);return o!=null&&l(e,["threshold"],o),e}function f1(t){let e={},n=s(t,["anyOf"]);n!=null&&l(e,["anyOf"],n);let o=s(t,["default"]);o!=null&&l(e,["default"],o);let r=s(t,["description"]);r!=null&&l(e,["description"],r);let i=s(t,["enum"]);i!=null&&l(e,["enum"],i);let a=s(t,["example"]);a!=null&&l(e,["example"],a);let u=s(t,["format"]);u!=null&&l(e,["format"],u);let c=s(t,["items"]);c!=null&&l(e,["items"],c);let d=s(t,["maxItems"]);d!=null&&l(e,["maxItems"],d);let f=s(t,["maxLength"]);f!=null&&l(e,["maxLength"],f);let p=s(t,["maxProperties"]);p!=null&&l(e,["maxProperties"],p);let h=s(t,["maximum"]);h!=null&&l(e,["maximum"],h);let m=s(t,["minItems"]);m!=null&&l(e,["minItems"],m);let E=s(t,["minLength"]);E!=null&&l(e,["minLength"],E);let T=s(t,["minProperties"]);T!=null&&l(e,["minProperties"],T);let D=s(t,["minimum"]);D!=null&&l(e,["minimum"],D);let w=s(t,["nullable"]);w!=null&&l(e,["nullable"],w);let R=s(t,["pattern"]);R!=null&&l(e,["pattern"],R);let L=s(t,["properties"]);L!=null&&l(e,["properties"],L);let q=s(t,["propertyOrdering"]);q!=null&&l(e,["propertyOrdering"],q);let J=s(t,["required"]);J!=null&&l(e,["required"],J);let fe=s(t,["title"]);fe!=null&&l(e,["title"],fe);let ve=s(t,["type"]);return ve!=null&&l(e,["type"],ve),e}function p1(t){let e={},n=s(t,["embedding"]);n!=null&&l(e,["embedding"],SR(n));let o=s(t,["tokenCount"]);return o!=null&&l(e,["tokenCount"],o),e}function h1(t){let e={},n=s(t,["speaker"]);n!=null&&l(e,["speaker"],n);let o=s(t,["voiceConfig"]);return o!=null&&l(e,["voiceConfig"],E_(o)),e}function m1(t){let e={},n=s(t,["voiceConfig"]);n!=null&&l(e,["voiceConfig"],E_(n));let o=s(t,["multiSpeakerVoiceConfig"]);o!=null&&l(e,["multiSpeakerVoiceConfig"],s1(o));let r=s(t,["languageCode"]);return r!=null&&l(e,["languageCode"],r),e}function g1(t){let e={},n=s(t,["includeThoughts"]);n!=null&&l(e,["includeThoughts"],n);let o=s(t,["thinkingBudget"]);return o!=null&&l(e,["thinkingBudget"],o),e}function v1(t){let e={},n=s(t,["environment"]);n!=null&&l(e,["environment"],n);let o=s(t,["excludedPredefinedFunctions"]);return o!=null&&l(e,["excludedPredefinedFunctions"],o),e}function y1(t){let e={},n=s(t,["functionCallingConfig"]);n!=null&&l(e,["functionCallingConfig"],HR(n));let o=s(t,["retrievalConfig"]);return o!=null&&l(e,["retrievalConfig"],c1(o)),e}function C1(t){let e={},n=s(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>$R(d))),l(e,["functionDeclarations"],c)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let o=s(t,["googleSearch"]);o!=null&&l(e,["googleSearch"],JR(o));let r=s(t,["googleSearchRetrieval"]);if(r!=null&&l(e,["googleSearchRetrieval"],jR(r)),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(t,["urlContext"])!=null&&l(e,["urlContext"],_1());let a=s(t,["computerUse"]);a!=null&&l(e,["computerUse"],v1(a));let u=s(t,["codeExecution"]);return u!=null&&l(e,["codeExecution"],u),e}function E1(t){let e={},n=s(t,["urlMetadata"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>T1(r))),l(e,["urlMetadata"],o)}return e}function _1(){return{}}function T1(t){let e={},n=s(t,["retrievedUrl"]);n!=null&&l(e,["retrievedUrl"],n);let o=s(t,["urlRetrievalStatus"]);return o!=null&&l(e,["urlRetrievalStatus"],o),e}function S1(t){let e={},n=s(t,["fps"]);n!=null&&l(e,["fps"],n);let o=s(t,["endOffset"]);o!=null&&l(e,["endOffset"],o);let r=s(t,["startOffset"]);return r!=null&&l(e,["startOffset"],r),e}function I1(t){let e={},n=s(t,["fps"]);n!=null&&l(e,["fps"],n);let o=s(t,["endOffset"]);o!=null&&l(e,["endOffset"],o);let r=s(t,["startOffset"]);return r!=null&&l(e,["startOffset"],r),e}function E_(t){let e={},n=s(t,["prebuiltVoiceConfig"]);return n!=null&&l(e,["prebuiltVoiceConfig"],u1(n)),e}var $i=(function(t){return t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t})($i||{}),Xo=class{constructor(e,n,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,o,r)}init(e,n,o){var r,i;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!o||Object.keys(o).length===0?a={config:{}}:typeof o=="object"?a=Object.assign({},o):a=o,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(i=(r=a.config)===null||r===void 0?void 0:r.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};let e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");let e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}};var xm=class extends Bn{constructor(e){super(),this.apiClient=e,this.create=async n=>{var o,r;if(this.apiClient.isVertexAI())return n.config=this.formatDestination(n.src,n.config),this.createInternal(n);let i=n.src;if(!(Array.isArray(n.src)||i.inlinedRequests!==void 0))return this.createInternal(n);let u=this.createInlinedGenerateContentRequest(n),c=u.path,d=u.body,f=dm(this.apiClient,n)._query||{};return this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()).then(h=>Fi(h))},this.createEmbeddings=async n=>{var o,r;if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");if(!(n.src.inlinedRequests!==void 0))return this.createEmbeddingsInternal(n);let u=this.createInlinedEmbedContentRequest(n),c=u.path,d=u.body,f=fm(this.apiClient,n)._query||{};return this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()).then(h=>Fi(h))},this.list=async(n={})=>new Xo($i.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){let n=dm(this.apiClient,e),o=n._url,r=B("{model}:batchGenerateContent",o),u=n.batch.inputConfig.requests,c=u.requests,d=[];for(let f of c){let p=Object.assign({},f);if(p.systemInstruction){let h=p.systemInstruction;delete p.systemInstruction;let m=p.request;m.systemInstruction=h,p.request=m}d.push(p)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:r,body:n}}createInlinedEmbedContentRequest(e){let n=fm(this.apiClient,e),o=n._url,r=B("{model}:asyncBatchEmbedContent",o),u=n.batch.inputConfig.requests,c=u.requests,d=[];delete u.config;for(let f of c){let p=Object.assign({},f),h=p.request;for(let m in p)m!=="request"&&(h[m]=p[m],delete p[m]);d.push(p)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){let o=n?Object.assign({},n):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){let i=this.getGcsUri(e),a=this.getBigqueryUri(e);if(i)i.endsWith(".jsonl")?o.dest=`${i.slice(0,-6)}/dest`:o.dest=`${i}_dest_${r}`;else if(a)o.dest=`${a}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var n,o,r,i;let a,u="",c={};if(this.apiClient.isVertexAI()){let d=xR(this.apiClient,e);return u=B("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>wm(f))}else{let d=dm(this.apiClient,e);return u=B("{model}:batchGenerateContent",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>Fi(f))}}async createEmbeddingsInternal(e){var n,o;let r,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let u=fm(this.apiClient,e);return i=B("{model}:asyncBatchEmbedContent",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>Fi(c))}}async get(e){var n,o,r,i;let a,u="",c={};if(this.apiClient.isVertexAI()){let d=WR(this.apiClient,e);return u=B("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>wm(f))}else{let d=zR(this.apiClient,e);return u=B("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>Fi(f))}}async cancel(e){var n,o,r,i;let a="",u={};if(this.apiClient.isVertexAI()){let c=ER(this.apiClient,e);a=B("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{let c=CR(this.apiClient,e);a=B("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,o,r,i;let a,u="",c={};if(this.apiClient.isVertexAI()){let d=o1(e);return u=B("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),a.then(f=>{let p=i1(f),h=new td;return Object.assign(h,p),h})}else{let d=n1(e);return u=B("batches",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),a.then(f=>{let p=r1(f),h=new td;return Object.assign(h,p),h})}}async delete(e){var n,o,r,i;let a,u="",c={};if(this.apiClient.isVertexAI()){let d=AR(this.apiClient,e);return u=B("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),a.then(f=>NR(f))}else{let d=MR(this.apiClient,e);return u=B("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),a.then(f=>RR(f))}}};function D1(t){let e={},n=s(t,["apiKeyString"]);return n!=null&&l(e,["apiKeyString"],n),e}function w1(t){let e={},n=s(t,["apiKeyConfig"]);n!=null&&l(e,["apiKeyConfig"],D1(n));let o=s(t,["authType"]);o!=null&&l(e,["authType"],o);let r=s(t,["googleServiceAccountConfig"]);r!=null&&l(e,["googleServiceAccountConfig"],r);let i=s(t,["httpBasicAuthConfig"]);i!=null&&l(e,["httpBasicAuthConfig"],i);let a=s(t,["oauthConfig"]);a!=null&&l(e,["oauthConfig"],a);let u=s(t,["oidcConfig"]);return u!=null&&l(e,["oidcConfig"],u),e}function x1(t){let e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=s(t,["data"]);n!=null&&l(e,["data"],n);let o=s(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function b1(t){let e={},n=s(t,["displayName"]);n!=null&&l(e,["displayName"],n);let o=s(t,["data"]);o!=null&&l(e,["data"],o);let r=s(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}function Gc(t){let e={},n=s(t,["name"]);n!=null&&l(e,["name"],n);let o=s(t,["displayName"]);o!=null&&l(e,["displayName"],o);let r=s(t,["model"]);r!=null&&l(e,["model"],r);let i=s(t,["createTime"]);i!=null&&l(e,["createTime"],i);let a=s(t,["updateTime"]);a!=null&&l(e,["updateTime"],a);let u=s(t,["expireTime"]);u!=null&&l(e,["expireTime"],u);let c=s(t,["usageMetadata"]);return c!=null&&l(e,["usageMetadata"],c),e}function zc(t){let e={},n=s(t,["name"]);n!=null&&l(e,["name"],n);let o=s(t,["displayName"]);o!=null&&l(e,["displayName"],o);let r=s(t,["model"]);r!=null&&l(e,["model"],r);let i=s(t,["createTime"]);i!=null&&l(e,["createTime"],i);let a=s(t,["updateTime"]);a!=null&&l(e,["updateTime"],a);let u=s(t,["expireTime"]);u!=null&&l(e,["expireTime"],u);let c=s(t,["usageMetadata"]);return c!=null&&l(e,["usageMetadata"],c),e}function BE(t){let e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>dN(i))),l(e,["parts"],r)}let o=s(t,["role"]);return o!=null&&l(e,["role"],o),e}function HE(t){let e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>fN(i))),l(e,["parts"],r)}let o=s(t,["role"]);return o!=null&&l(e,["role"],o),e}function M1(t,e){let n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&l(e,["ttl"],o);let r=s(t,["expireTime"]);e!==void 0&&r!=null&&l(e,["expireTime"],r);let i=s(t,["displayName"]);e!==void 0&&i!=null&&l(e,["displayName"],i);let a=s(t,["contents"]);if(e!==void 0&&a!=null){let f=Gt(a);Array.isArray(f)&&(f=f.map(p=>BE(p))),l(e,["contents"],f)}let u=s(t,["systemInstruction"]);e!==void 0&&u!=null&&l(e,["systemInstruction"],BE(dt(u)));let c=s(t,["tools"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(p=>CN(p))),l(e,["tools"],f)}let d=s(t,["toolConfig"]);if(e!==void 0&&d!=null&&l(e,["toolConfig"],vN(d)),s(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function A1(t,e){let n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&l(e,["ttl"],o);let r=s(t,["expireTime"]);e!==void 0&&r!=null&&l(e,["expireTime"],r);let i=s(t,["displayName"]);e!==void 0&&i!=null&&l(e,["displayName"],i);let a=s(t,["contents"]);if(e!==void 0&&a!=null){let p=Gt(a);Array.isArray(p)&&(p=p.map(h=>HE(h))),l(e,["contents"],p)}let u=s(t,["systemInstruction"]);e!==void 0&&u!=null&&l(e,["systemInstruction"],HE(dt(u)));let c=s(t,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(h=>EN(h))),l(e,["tools"],p)}let d=s(t,["toolConfig"]);e!==void 0&&d!=null&&l(e,["toolConfig"],yN(d));let f=s(t,["kmsKeyName"]);return e!==void 0&&f!=null&&l(e,["encryption_spec","kmsKeyName"],f),n}function R1(t,e){let n={},o=s(e,["model"]);o!=null&&l(n,["model"],s_(t,o));let r=s(e,["config"]);return r!=null&&M1(r,n),n}function N1(t,e){let n={},o=s(e,["model"]);o!=null&&l(n,["model"],s_(t,o));let r=s(e,["config"]);return r!=null&&A1(r,n),n}function k1(t,e){let n={},o=s(e,["name"]);return o!=null&&l(n,["_url","name"],Hn(t,o)),n}function P1(t,e){let n={},o=s(e,["name"]);return o!=null&&l(n,["_url","name"],Hn(t,o)),n}function F1(t){let e={},n=s(t,["sdkHttpResponse"]);return n!=null&&l(e,["sdkHttpResponse"],n),e}function L1(t){let e={},n=s(t,["sdkHttpResponse"]);return n!=null&&l(e,["sdkHttpResponse"],n),e}function O1(t){let e={},n=s(t,["mode"]);n!=null&&l(e,["mode"],n);let o=s(t,["dynamicThreshold"]);return o!=null&&l(e,["dynamicThreshold"],o),e}function V1(t){let e={},n=s(t,["mode"]);n!=null&&l(e,["mode"],n);let o=s(t,["dynamicThreshold"]);return o!=null&&l(e,["dynamicThreshold"],o),e}function U1(t){let e={},n=s(t,["excludeDomains"]);return n!=null&&l(e,["excludeDomains"],n),e}function B1(t){let e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=s(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);let o=s(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function H1(t){let e={},n=s(t,["displayName"]);n!=null&&l(e,["displayName"],n);let o=s(t,["fileUri"]);o!=null&&l(e,["fileUri"],o);let r=s(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}function $1(t){let e={},n=s(t,["id"]);n!=null&&l(e,["id"],n);let o=s(t,["args"]);o!=null&&l(e,["args"],o);let r=s(t,["name"]);return r!=null&&l(e,["name"],r),e}function q1(t){let e={},n=s(t,["id"]);n!=null&&l(e,["id"],n);let o=s(t,["args"]);o!=null&&l(e,["args"],o);let r=s(t,["name"]);return r!=null&&l(e,["name"],r),e}function G1(t){let e={},n=s(t,["mode"]);n!=null&&l(e,["mode"],n);let o=s(t,["allowedFunctionNames"]);return o!=null&&l(e,["allowedFunctionNames"],o),e}function z1(t){let e={},n=s(t,["mode"]);n!=null&&l(e,["mode"],n);let o=s(t,["allowedFunctionNames"]);return o!=null&&l(e,["allowedFunctionNames"],o),e}function W1(t){let e={},n=s(t,["behavior"]);n!=null&&l(e,["behavior"],n);let o=s(t,["description"]);o!=null&&l(e,["description"],o);let r=s(t,["name"]);r!=null&&l(e,["name"],r);let i=s(t,["parameters"]);i!=null&&l(e,["parameters"],i);let a=s(t,["parametersJsonSchema"]);a!=null&&l(e,["parametersJsonSchema"],a);let u=s(t,["response"]);u!=null&&l(e,["response"],u);let c=s(t,["responseJsonSchema"]);return c!=null&&l(e,["responseJsonSchema"],c),e}function j1(t){let e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");let n=s(t,["description"]);n!=null&&l(e,["description"],n);let o=s(t,["name"]);o!=null&&l(e,["name"],o);let r=s(t,["parameters"]);r!=null&&l(e,["parameters"],r);let i=s(t,["parametersJsonSchema"]);i!=null&&l(e,["parametersJsonSchema"],i);let a=s(t,["response"]);a!=null&&l(e,["response"],a);let u=s(t,["responseJsonSchema"]);return u!=null&&l(e,["responseJsonSchema"],u),e}function J1(t,e){let n={},o=s(e,["name"]);return o!=null&&l(n,["_url","name"],Hn(t,o)),n}function Y1(t,e){let n={},o=s(e,["name"]);return o!=null&&l(n,["_url","name"],Hn(t,o)),n}function K1(t){let e={},n=s(t,["authConfig"]);return n!=null&&l(e,["authConfig"],w1(n)),e}function Q1(t){let e={},n=s(t,["dynamicRetrievalConfig"]);return n!=null&&l(e,["dynamicRetrievalConfig"],O1(n)),e}function Z1(t){let e={},n=s(t,["dynamicRetrievalConfig"]);return n!=null&&l(e,["dynamicRetrievalConfig"],V1(n)),e}function X1(t){let e={},n=s(t,["timeRangeFilter"]);if(n!=null&&l(e,["timeRangeFilter"],tN(n)),s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function eN(t){let e={},n=s(t,["timeRangeFilter"]);n!=null&&l(e,["timeRangeFilter"],nN(n));let o=s(t,["excludeDomains"]);return o!=null&&l(e,["excludeDomains"],o),e}function tN(t){let e={},n=s(t,["startTime"]);n!=null&&l(e,["startTime"],n);let o=s(t,["endTime"]);return o!=null&&l(e,["endTime"],o),e}function nN(t){let e={},n=s(t,["startTime"]);n!=null&&l(e,["startTime"],n);let o=s(t,["endTime"]);return o!=null&&l(e,["endTime"],o),e}function oN(t){let e={},n=s(t,["latitude"]);n!=null&&l(e,["latitude"],n);let o=s(t,["longitude"]);return o!=null&&l(e,["longitude"],o),e}function rN(t){let e={},n=s(t,["latitude"]);n!=null&&l(e,["latitude"],n);let o=s(t,["longitude"]);return o!=null&&l(e,["longitude"],o),e}function iN(t,e){let n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&l(e,["_query","pageSize"],o);let r=s(t,["pageToken"]);return e!==void 0&&r!=null&&l(e,["_query","pageToken"],r),n}function sN(t,e){let n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&l(e,["_query","pageSize"],o);let r=s(t,["pageToken"]);return e!==void 0&&r!=null&&l(e,["_query","pageToken"],r),n}function aN(t){let e={},n=s(t,["config"]);return n!=null&&iN(n,e),e}function lN(t){let e={},n=s(t,["config"]);return n!=null&&sN(n,e),e}function uN(t){let e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=s(t,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);let r=s(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Gc(a))),l(e,["cachedContents"],i)}return e}function cN(t){let e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=s(t,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);let r=s(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>zc(a))),l(e,["cachedContents"],i)}return e}function dN(t){let e={},n=s(t,["videoMetadata"]);n!=null&&l(e,["videoMetadata"],xN(n));let o=s(t,["thought"]);o!=null&&l(e,["thought"],o);let r=s(t,["inlineData"]);r!=null&&l(e,["inlineData"],x1(r));let i=s(t,["fileData"]);i!=null&&l(e,["fileData"],B1(i));let a=s(t,["thoughtSignature"]);a!=null&&l(e,["thoughtSignature"],a);let u=s(t,["functionCall"]);u!=null&&l(e,["functionCall"],$1(u));let c=s(t,["codeExecutionResult"]);c!=null&&l(e,["codeExecutionResult"],c);let d=s(t,["executableCode"]);d!=null&&l(e,["executableCode"],d);let f=s(t,["functionResponse"]);f!=null&&l(e,["functionResponse"],f);let p=s(t,["text"]);return p!=null&&l(e,["text"],p),e}function fN(t){let e={},n=s(t,["videoMetadata"]);n!=null&&l(e,["videoMetadata"],bN(n));let o=s(t,["thought"]);o!=null&&l(e,["thought"],o);let r=s(t,["inlineData"]);r!=null&&l(e,["inlineData"],b1(r));let i=s(t,["fileData"]);i!=null&&l(e,["fileData"],H1(i));let a=s(t,["thoughtSignature"]);a!=null&&l(e,["thoughtSignature"],a);let u=s(t,["functionCall"]);u!=null&&l(e,["functionCall"],q1(u));let c=s(t,["codeExecutionResult"]);c!=null&&l(e,["codeExecutionResult"],c);let d=s(t,["executableCode"]);d!=null&&l(e,["executableCode"],d);let f=s(t,["functionResponse"]);f!=null&&l(e,["functionResponse"],f);let p=s(t,["text"]);return p!=null&&l(e,["text"],p),e}function pN(t){let e={},n=s(t,["latLng"]);n!=null&&l(e,["latLng"],oN(n));let o=s(t,["languageCode"]);return o!=null&&l(e,["languageCode"],o),e}function hN(t){let e={},n=s(t,["latLng"]);n!=null&&l(e,["latLng"],rN(n));let o=s(t,["languageCode"]);return o!=null&&l(e,["languageCode"],o),e}function mN(t){let e={},n=s(t,["environment"]);n!=null&&l(e,["environment"],n);let o=s(t,["excludedPredefinedFunctions"]);return o!=null&&l(e,["excludedPredefinedFunctions"],o),e}function gN(t){let e={},n=s(t,["environment"]);n!=null&&l(e,["environment"],n);let o=s(t,["excludedPredefinedFunctions"]);return o!=null&&l(e,["excludedPredefinedFunctions"],o),e}function vN(t){let e={},n=s(t,["functionCallingConfig"]);n!=null&&l(e,["functionCallingConfig"],G1(n));let o=s(t,["retrievalConfig"]);return o!=null&&l(e,["retrievalConfig"],pN(o)),e}function yN(t){let e={},n=s(t,["functionCallingConfig"]);n!=null&&l(e,["functionCallingConfig"],z1(n));let o=s(t,["retrievalConfig"]);return o!=null&&l(e,["retrievalConfig"],hN(o)),e}function CN(t){let e={},n=s(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>W1(d))),l(e,["functionDeclarations"],c)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let o=s(t,["googleSearch"]);o!=null&&l(e,["googleSearch"],X1(o));let r=s(t,["googleSearchRetrieval"]);if(r!=null&&l(e,["googleSearchRetrieval"],Q1(r)),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(t,["urlContext"])!=null&&l(e,["urlContext"],DN());let a=s(t,["computerUse"]);a!=null&&l(e,["computerUse"],mN(a));let u=s(t,["codeExecution"]);return u!=null&&l(e,["codeExecution"],u),e}function EN(t){let e={},n=s(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>j1(h))),l(e,["functionDeclarations"],p)}let o=s(t,["retrieval"]);o!=null&&l(e,["retrieval"],o);let r=s(t,["googleSearch"]);r!=null&&l(e,["googleSearch"],eN(r));let i=s(t,["googleSearchRetrieval"]);i!=null&&l(e,["googleSearchRetrieval"],Z1(i));let a=s(t,["enterpriseWebSearch"]);a!=null&&l(e,["enterpriseWebSearch"],U1(a));let u=s(t,["googleMaps"]);u!=null&&l(e,["googleMaps"],K1(u)),s(t,["urlContext"])!=null&&l(e,["urlContext"],wN());let d=s(t,["computerUse"]);d!=null&&l(e,["computerUse"],gN(d));let f=s(t,["codeExecution"]);return f!=null&&l(e,["codeExecution"],f),e}function _N(t,e){let n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&l(e,["ttl"],o);let r=s(t,["expireTime"]);return e!==void 0&&r!=null&&l(e,["expireTime"],r),n}function TN(t,e){let n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&l(e,["ttl"],o);let r=s(t,["expireTime"]);return e!==void 0&&r!=null&&l(e,["expireTime"],r),n}function SN(t,e){let n={},o=s(e,["name"]);o!=null&&l(n,["_url","name"],Hn(t,o));let r=s(e,["config"]);return r!=null&&_N(r,n),n}function IN(t,e){let n={},o=s(e,["name"]);o!=null&&l(n,["_url","name"],Hn(t,o));let r=s(e,["config"]);return r!=null&&TN(r,n),n}function DN(){return{}}function wN(){return{}}function xN(t){let e={},n=s(t,["fps"]);n!=null&&l(e,["fps"],n);let o=s(t,["endOffset"]);o!=null&&l(e,["endOffset"],o);let r=s(t,["startOffset"]);return r!=null&&l(e,["startOffset"],r),e}function bN(t){let e={},n=s(t,["fps"]);n!=null&&l(e,["fps"],n);let o=s(t,["endOffset"]);o!=null&&l(e,["endOffset"],o);let r=s(t,["startOffset"]);return r!=null&&l(e,["startOffset"],r),e}var bm=class extends Bn{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Xo($i.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(e){var n,o,r,i;let a,u="",c={};if(this.apiClient.isVertexAI()){let d=N1(this.apiClient,e);return u=B("cachedContents",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>zc(f))}else{let d=R1(this.apiClient,e);return u=B("cachedContents",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>Gc(f))}}async get(e){var n,o,r,i;let a,u="",c={};if(this.apiClient.isVertexAI()){let d=Y1(this.apiClient,e);return u=B("{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>zc(f))}else{let d=J1(this.apiClient,e);return u=B("{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>Gc(f))}}async delete(e){var n,o,r,i;let a,u="",c={};if(this.apiClient.isVertexAI()){let d=P1(this.apiClient,e);return u=B("{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),a.then(f=>{let p=L1(f),h=new Xc;return Object.assign(h,p),h})}else{let d=k1(this.apiClient,e);return u=B("{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),a.then(f=>{let p=F1(f),h=new Xc;return Object.assign(h,p),h})}}async update(e){var n,o,r,i;let a,u="",c={};if(this.apiClient.isVertexAI()){let d=IN(this.apiClient,e);return u=B("{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>zc(f))}else{let d=SN(this.apiClient,e);return u=B("{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>Gc(f))}}async listInternal(e){var n,o,r,i;let a,u="",c={};if(this.apiClient.isVertexAI()){let d=lN(e);return u=B("cachedContents",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),a.then(f=>{let p=cN(f),h=new ed;return Object.assign(h,p),h})}else{let d=aN(e);return u=B("cachedContents",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),a.then(f=>{let p=uN(f),h=new ed;return Object.assign(h,p),h})}}};function $E(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ke(t){return this instanceof ke?(this.v=t,this):new ke(t)}function Oi(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,e||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",a),r[Symbol.asyncIterator]=function(){return this},r;function a(m){return function(E){return Promise.resolve(E).then(m,p)}}function u(m,E){o[m]&&(r[m]=function(T){return new Promise(function(D,w){i.push([m,T,D,w])>1||c(m,T)})},E&&(r[m]=E(r[m])))}function c(m,E){try{d(o[m](E))}catch(T){h(i[0][3],T)}}function d(m){m.value instanceof ke?Promise.resolve(m.value.v).then(f,p):h(i[0][2],m)}function f(m){c("next",m)}function p(m){c("throw",m)}function h(m,E){m(E),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Oa(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof $E=="function"?$E(t):t[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(i){n[i]=t[i]&&function(a){return new Promise(function(u,c){a=t[i](a),r(u,c,a.done,a.value)})}}function r(i,a,u,c){Promise.resolve(c).then(function(d){i({value:d,done:u})},a)}}function MN(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;let n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:__(n)}function __(t){if(t.parts===void 0||t.parts.length===0)return!1;for(let e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function AN(t){if(t.length!==0){for(let e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function qE(t){if(t===void 0||t.length===0)return[];let e=[],n=t.length,o=0;for(;o<n;)if(t[o].role==="user")e.push(t[o]),o++;else{let r=[],i=!0;for(;o<n&&t[o].role==="model";)r.push(t[o]),i&&!__(t[o])&&(i=!1),o++;i?e.push(...r):e.pop()}return e}var Mm=class{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Am(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}},Am=class{constructor(e,n,o,r={},i=[]){this.apiClient=e,this.modelsModule=n,this.model=o,this.config=r,this.history=i,this.sendPromise=Promise.resolve(),AN(i)}async sendMessage(e){var n;await this.sendPromise;let o=dt(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,a,u;let c=await r,d=(a=(i=c.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content,f=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length,h=[];f!=null&&(h=(u=f.slice(p))!==null&&u!==void 0?u:[]);let m=d?[d]:[];this.recordHistory(o,m,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var n;await this.sendPromise;let o=dt(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});let i=await r;return this.processStreamResponse(i,o)}getHistory(e=!1){let n=e?qE(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var o,r;return Oi(this,arguments,function*(){var a,u,c,d;let f=[];try{for(var p=!0,h=Oa(e),m;m=yield ke(h.next()),a=m.done,!a;p=!0){d=m.value,p=!1;let E=d;if(MN(E)){let T=(r=(o=E.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content;T!==void 0&&f.push(T)}yield yield ke(E)}}catch(E){u={error:E}}finally{try{!p&&!a&&(c=h.return)&&(yield ke(c.call(h)))}finally{if(u)throw u.error}}this.recordHistory(n,f)})}recordHistory(e,n,o){let r=[];n.length>0&&n.every(i=>i.role!==void 0)?r=n:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...qE(o)):this.history.push(e),this.history.push(...r)}};var od=class t extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,t.prototype)}};function RN(t){let e={},n=s(t,["file"]);return n!=null&&l(e,["file"],ON(n)),e}function NN(t){let e={},n=s(t,["sdkHttpResponse"]);return n!=null&&l(e,["sdkHttpResponse"],n),e}function kN(t){let e={},n=s(t,["name"]);return n!=null&&l(e,["_url","file"],f_(n)),e}function PN(t){let e={},n=s(t,["sdkHttpResponse"]);return n!=null&&l(e,["sdkHttpResponse"],n),e}function Rm(t){let e={},n=s(t,["name"]);n!=null&&l(e,["name"],n);let o=s(t,["displayName"]);o!=null&&l(e,["displayName"],o);let r=s(t,["mimeType"]);r!=null&&l(e,["mimeType"],r);let i=s(t,["sizeBytes"]);i!=null&&l(e,["sizeBytes"],i);let a=s(t,["createTime"]);a!=null&&l(e,["createTime"],a);let u=s(t,["expirationTime"]);u!=null&&l(e,["expirationTime"],u);let c=s(t,["updateTime"]);c!=null&&l(e,["updateTime"],c);let d=s(t,["sha256Hash"]);d!=null&&l(e,["sha256Hash"],d);let f=s(t,["uri"]);f!=null&&l(e,["uri"],f);let p=s(t,["downloadUri"]);p!=null&&l(e,["downloadUri"],p);let h=s(t,["state"]);h!=null&&l(e,["state"],h);let m=s(t,["source"]);m!=null&&l(e,["source"],m);let E=s(t,["videoMetadata"]);E!=null&&l(e,["videoMetadata"],E);let T=s(t,["error"]);return T!=null&&l(e,["error"],FN(T)),e}function FN(t){let e={},n=s(t,["details"]);n!=null&&l(e,["details"],n);let o=s(t,["message"]);o!=null&&l(e,["message"],o);let r=s(t,["code"]);return r!=null&&l(e,["code"],r),e}function LN(t){let e={},n=s(t,["details"]);n!=null&&l(e,["details"],n);let o=s(t,["message"]);o!=null&&l(e,["message"],o);let r=s(t,["code"]);return r!=null&&l(e,["code"],r),e}function ON(t){let e={},n=s(t,["name"]);n!=null&&l(e,["name"],n);let o=s(t,["displayName"]);o!=null&&l(e,["displayName"],o);let r=s(t,["mimeType"]);r!=null&&l(e,["mimeType"],r);let i=s(t,["sizeBytes"]);i!=null&&l(e,["sizeBytes"],i);let a=s(t,["createTime"]);a!=null&&l(e,["createTime"],a);let u=s(t,["expirationTime"]);u!=null&&l(e,["expirationTime"],u);let c=s(t,["updateTime"]);c!=null&&l(e,["updateTime"],c);let d=s(t,["sha256Hash"]);d!=null&&l(e,["sha256Hash"],d);let f=s(t,["uri"]);f!=null&&l(e,["uri"],f);let p=s(t,["downloadUri"]);p!=null&&l(e,["downloadUri"],p);let h=s(t,["state"]);h!=null&&l(e,["state"],h);let m=s(t,["source"]);m!=null&&l(e,["source"],m);let E=s(t,["videoMetadata"]);E!=null&&l(e,["videoMetadata"],E);let T=s(t,["error"]);return T!=null&&l(e,["error"],LN(T)),e}function VN(t){let e={},n=s(t,["name"]);return n!=null&&l(e,["_url","file"],f_(n)),e}function UN(t,e){let n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&l(e,["_query","pageSize"],o);let r=s(t,["pageToken"]);return e!==void 0&&r!=null&&l(e,["_query","pageToken"],r),n}function BN(t){let e={},n=s(t,["config"]);return n!=null&&UN(n,e),e}function HN(t){let e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=s(t,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);let r=s(t,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Rm(a))),l(e,["files"],i)}return e}var Nm=class extends Bn{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Xo($i.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>Rm(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,o;let r,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let u=BN(e);return i=B("files",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{let d=HN(c),f=new Em;return Object.assign(f,d),f})}}async createInternal(e){var n,o;let r,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let u=RN(e);return i=B("upload/v1beta/files",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=NN(c),f=new _m;return Object.assign(f,d),f})}}async get(e){var n,o;let r,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let u=VN(e);return i=B("files/{file}",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>Rm(c))}}async delete(e){var n,o;let r,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let u=kN(e);return i=B("files/{file}",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{let d=PN(c),f=new Tm;return Object.assign(f,d),f})}}};function $N(){return{}}function qN(){return{}}function GN(){return{}}function zN(){return{}}function WN(t){let e={},n=s(t,["apiKeyString"]);return n!=null&&l(e,["apiKeyString"],n),e}function jN(t){let e={},n=s(t,["data"]);n!=null&&l(e,["data"],n);let o=s(t,["mimeType"]);o!=null&&l(e,["mimeType"],o);let r=s(t,["sourceMetadata"]);return r!=null&&l(e,["sourceMetadata"],Ok(r)),e}function GE(){return{}}function zE(){return{}}function JN(t){let e={},n=s(t,["apiKeyConfig"]);n!=null&&l(e,["apiKeyConfig"],WN(n));let o=s(t,["authType"]);o!=null&&l(e,["authType"],o);let r=s(t,["googleServiceAccountConfig"]);r!=null&&l(e,["googleServiceAccountConfig"],r);let i=s(t,["httpBasicAuthConfig"]);i!=null&&l(e,["httpBasicAuthConfig"],i);let a=s(t,["oauthConfig"]);a!=null&&l(e,["oauthConfig"],a);let u=s(t,["oidcConfig"]);return u!=null&&l(e,["oidcConfig"],u),e}function YN(t){let e={},n=s(t,["disabled"]);n!=null&&l(e,["disabled"],n);let o=s(t,["startOfSpeechSensitivity"]);o!=null&&l(e,["startOfSpeechSensitivity"],o);let r=s(t,["endOfSpeechSensitivity"]);r!=null&&l(e,["endOfSpeechSensitivity"],r);let i=s(t,["prefixPaddingMs"]);i!=null&&l(e,["prefixPaddingMs"],i);let a=s(t,["silenceDurationMs"]);return a!=null&&l(e,["silenceDurationMs"],a),e}function KN(t){let e={},n=s(t,["disabled"]);n!=null&&l(e,["disabled"],n);let o=s(t,["startOfSpeechSensitivity"]);o!=null&&l(e,["startOfSpeechSensitivity"],o);let r=s(t,["endOfSpeechSensitivity"]);r!=null&&l(e,["endOfSpeechSensitivity"],r);let i=s(t,["prefixPaddingMs"]);i!=null&&l(e,["prefixPaddingMs"],i);let a=s(t,["silenceDurationMs"]);return a!=null&&l(e,["silenceDurationMs"],a),e}function QN(t){let e={},n=s(t,["data"]);n!=null&&l(e,["data"],n);let o=s(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function ZN(t){let e={},n=s(t,["displayName"]);n!=null&&l(e,["displayName"],n);let o=s(t,["data"]);o!=null&&l(e,["data"],o);let r=s(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}function XN(t){let e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=s(t,["data"]);n!=null&&l(e,["data"],n);let o=s(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function ek(t){let e={},n=s(t,["displayName"]);n!=null&&l(e,["displayName"],n);let o=s(t,["data"]);o!=null&&l(e,["data"],o);let r=s(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}function tk(t){let e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>tP(i))),l(e,["parts"],r)}let o=s(t,["role"]);return o!=null&&l(e,["role"],o),e}function nk(t){let e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>nP(i))),l(e,["parts"],r)}let o=s(t,["role"]);return o!=null&&l(e,["role"],o),e}function ok(t){let e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>oP(i))),l(e,["parts"],r)}let o=s(t,["role"]);return o!=null&&l(e,["role"],o),e}function rk(t){let e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>rP(i))),l(e,["parts"],r)}let o=s(t,["role"]);return o!=null&&l(e,["role"],o),e}function ik(t){let e={},n=s(t,["triggerTokens"]);n!=null&&l(e,["triggerTokens"],n);let o=s(t,["slidingWindow"]);return o!=null&&l(e,["slidingWindow"],pP(o)),e}function sk(t){let e={},n=s(t,["triggerTokens"]);n!=null&&l(e,["triggerTokens"],n);let o=s(t,["slidingWindow"]);return o!=null&&l(e,["slidingWindow"],hP(o)),e}function ak(t){let e={},n=s(t,["mode"]);n!=null&&l(e,["mode"],n);let o=s(t,["dynamicThreshold"]);return o!=null&&l(e,["dynamicThreshold"],o),e}function lk(t){let e={},n=s(t,["mode"]);n!=null&&l(e,["mode"],n);let o=s(t,["dynamicThreshold"]);return o!=null&&l(e,["dynamicThreshold"],o),e}function uk(t){let e={},n=s(t,["excludeDomains"]);return n!=null&&l(e,["excludeDomains"],n),e}function ck(t){let e={},n=s(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);let o=s(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function dk(t){let e={},n=s(t,["displayName"]);n!=null&&l(e,["displayName"],n);let o=s(t,["fileUri"]);o!=null&&l(e,["fileUri"],o);let r=s(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}function fk(t){let e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=s(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);let o=s(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function pk(t){let e={},n=s(t,["displayName"]);n!=null&&l(e,["displayName"],n);let o=s(t,["fileUri"]);o!=null&&l(e,["fileUri"],o);let r=s(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}function T_(t){let e={},n=s(t,["id"]);n!=null&&l(e,["id"],n);let o=s(t,["args"]);o!=null&&l(e,["args"],o);let r=s(t,["name"]);return r!=null&&l(e,["name"],r),e}function S_(t){let e={},n=s(t,["id"]);n!=null&&l(e,["id"],n);let o=s(t,["args"]);o!=null&&l(e,["args"],o);let r=s(t,["name"]);return r!=null&&l(e,["name"],r),e}function hk(t){let e={},n=s(t,["id"]);n!=null&&l(e,["id"],n);let o=s(t,["args"]);o!=null&&l(e,["args"],o);let r=s(t,["name"]);return r!=null&&l(e,["name"],r),e}function mk(t){let e={},n=s(t,["id"]);n!=null&&l(e,["id"],n);let o=s(t,["args"]);o!=null&&l(e,["args"],o);let r=s(t,["name"]);return r!=null&&l(e,["name"],r),e}function gk(t){let e={},n=s(t,["behavior"]);n!=null&&l(e,["behavior"],n);let o=s(t,["description"]);o!=null&&l(e,["description"],o);let r=s(t,["name"]);r!=null&&l(e,["name"],r);let i=s(t,["parameters"]);i!=null&&l(e,["parameters"],i);let a=s(t,["parametersJsonSchema"]);a!=null&&l(e,["parametersJsonSchema"],a);let u=s(t,["response"]);u!=null&&l(e,["response"],u);let c=s(t,["responseJsonSchema"]);return c!=null&&l(e,["responseJsonSchema"],c),e}function vk(t){let e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");let n=s(t,["description"]);n!=null&&l(e,["description"],n);let o=s(t,["name"]);o!=null&&l(e,["name"],o);let r=s(t,["parameters"]);r!=null&&l(e,["parameters"],r);let i=s(t,["parametersJsonSchema"]);i!=null&&l(e,["parametersJsonSchema"],i);let a=s(t,["response"]);a!=null&&l(e,["response"],a);let u=s(t,["responseJsonSchema"]);return u!=null&&l(e,["responseJsonSchema"],u),e}function yk(t){let e={},n=s(t,["authConfig"]);return n!=null&&l(e,["authConfig"],JN(n)),e}function Ck(t){let e={},n=s(t,["dynamicRetrievalConfig"]);return n!=null&&l(e,["dynamicRetrievalConfig"],ak(n)),e}function Ek(t){let e={},n=s(t,["dynamicRetrievalConfig"]);return n!=null&&l(e,["dynamicRetrievalConfig"],lk(n)),e}function _k(t){let e={},n=s(t,["timeRangeFilter"]);if(n!=null&&l(e,["timeRangeFilter"],Sk(n)),s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Tk(t){let e={},n=s(t,["timeRangeFilter"]);n!=null&&l(e,["timeRangeFilter"],Ik(n));let o=s(t,["excludeDomains"]);return o!=null&&l(e,["excludeDomains"],o),e}function Sk(t){let e={},n=s(t,["startTime"]);n!=null&&l(e,["startTime"],n);let o=s(t,["endTime"]);return o!=null&&l(e,["endTime"],o),e}function Ik(t){let e={},n=s(t,["startTime"]);n!=null&&l(e,["startTime"],n);let o=s(t,["endTime"]);return o!=null&&l(e,["endTime"],o),e}function Dk(t,e){let n={},o=s(t,["generationConfig"]);e!==void 0&&o!=null&&l(e,["setup","generationConfig"],o);let r=s(t,["responseModalities"]);e!==void 0&&r!=null&&l(e,["setup","generationConfig","responseModalities"],r);let i=s(t,["temperature"]);e!==void 0&&i!=null&&l(e,["setup","generationConfig","temperature"],i);let a=s(t,["topP"]);e!==void 0&&a!=null&&l(e,["setup","generationConfig","topP"],a);let u=s(t,["topK"]);e!==void 0&&u!=null&&l(e,["setup","generationConfig","topK"],u);let c=s(t,["maxOutputTokens"]);e!==void 0&&c!=null&&l(e,["setup","generationConfig","maxOutputTokens"],c);let d=s(t,["mediaResolution"]);e!==void 0&&d!=null&&l(e,["setup","generationConfig","mediaResolution"],d);let f=s(t,["seed"]);e!==void 0&&f!=null&&l(e,["setup","generationConfig","seed"],f);let p=s(t,["speechConfig"]);e!==void 0&&p!=null&&l(e,["setup","generationConfig","speechConfig"],gP(og(p)));let h=s(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&l(e,["setup","generationConfig","enableAffectiveDialog"],h);let m=s(t,["systemInstruction"]);e!==void 0&&m!=null&&l(e,["setup","systemInstruction"],ok(dt(m)));let E=s(t,["tools"]);if(e!==void 0&&E!=null){let J=Bi(E);Array.isArray(J)&&(J=J.map(fe=>EP(Ui(fe)))),l(e,["setup","tools"],J)}let T=s(t,["sessionResumption"]);e!==void 0&&T!=null&&l(e,["setup","sessionResumption"],dP(T));let D=s(t,["inputAudioTranscription"]);e!==void 0&&D!=null&&l(e,["setup","inputAudioTranscription"],GE());let w=s(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&l(e,["setup","outputAudioTranscription"],GE());let R=s(t,["realtimeInputConfig"]);e!==void 0&&R!=null&&l(e,["setup","realtimeInputConfig"],uP(R));let L=s(t,["contextWindowCompression"]);e!==void 0&&L!=null&&l(e,["setup","contextWindowCompression"],ik(L));let q=s(t,["proactivity"]);return e!==void 0&&q!=null&&l(e,["setup","proactivity"],aP(q)),n}function wk(t,e){let n={},o=s(t,["generationConfig"]);e!==void 0&&o!=null&&l(e,["setup","generationConfig"],o);let r=s(t,["responseModalities"]);e!==void 0&&r!=null&&l(e,["setup","generationConfig","responseModalities"],r);let i=s(t,["temperature"]);e!==void 0&&i!=null&&l(e,["setup","generationConfig","temperature"],i);let a=s(t,["topP"]);e!==void 0&&a!=null&&l(e,["setup","generationConfig","topP"],a);let u=s(t,["topK"]);e!==void 0&&u!=null&&l(e,["setup","generationConfig","topK"],u);let c=s(t,["maxOutputTokens"]);e!==void 0&&c!=null&&l(e,["setup","generationConfig","maxOutputTokens"],c);let d=s(t,["mediaResolution"]);e!==void 0&&d!=null&&l(e,["setup","generationConfig","mediaResolution"],d);let f=s(t,["seed"]);e!==void 0&&f!=null&&l(e,["setup","generationConfig","seed"],f);let p=s(t,["speechConfig"]);e!==void 0&&p!=null&&l(e,["setup","generationConfig","speechConfig"],vP(og(p)));let h=s(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&l(e,["setup","generationConfig","enableAffectiveDialog"],h);let m=s(t,["systemInstruction"]);e!==void 0&&m!=null&&l(e,["setup","systemInstruction"],rk(dt(m)));let E=s(t,["tools"]);if(e!==void 0&&E!=null){let J=Bi(E);Array.isArray(J)&&(J=J.map(fe=>_P(Ui(fe)))),l(e,["setup","tools"],J)}let T=s(t,["sessionResumption"]);e!==void 0&&T!=null&&l(e,["setup","sessionResumption"],fP(T));let D=s(t,["inputAudioTranscription"]);e!==void 0&&D!=null&&l(e,["setup","inputAudioTranscription"],zE());let w=s(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&l(e,["setup","outputAudioTranscription"],zE());let R=s(t,["realtimeInputConfig"]);e!==void 0&&R!=null&&l(e,["setup","realtimeInputConfig"],cP(R));let L=s(t,["contextWindowCompression"]);e!==void 0&&L!=null&&l(e,["setup","contextWindowCompression"],sk(L));let q=s(t,["proactivity"]);return e!==void 0&&q!=null&&l(e,["setup","proactivity"],lP(q)),n}function xk(t,e){let n={},o=s(e,["model"]);o!=null&&l(n,["setup","model"],ye(t,o));let r=s(e,["config"]);return r!=null&&l(n,["config"],Dk(r,n)),n}function bk(t,e){let n={},o=s(e,["model"]);o!=null&&l(n,["setup","model"],ye(t,o));let r=s(e,["config"]);return r!=null&&l(n,["config"],wk(r,n)),n}function Mk(t){let e={},n=s(t,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>kP(r))),l(e,["weightedPrompts"],o)}return e}function I_(t){let e={},n=s(t,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>b_(r))),l(e,["weightedPrompts"],o)}return e}function km(t){let e={},n=s(t,["setup"]);n!=null&&l(e,["setup"],D_(n));let o=s(t,["clientContent"]);o!=null&&l(e,["clientContent"],I_(o));let r=s(t,["musicGenerationConfig"]);r!=null&&l(e,["musicGenerationConfig"],w_(r));let i=s(t,["playbackControl"]);return i!=null&&l(e,["playbackControl"],i),e}function D_(t){let e={},n=s(t,["model"]);return n!=null&&l(e,["model"],n),e}function Ak(t){let e={},n=s(t,["text"]);n!=null&&l(e,["text"],n);let o=s(t,["filteredReason"]);return o!=null&&l(e,["filteredReason"],o),e}function Rk(t){let e={},n=s(t,["temperature"]);n!=null&&l(e,["temperature"],n);let o=s(t,["topK"]);o!=null&&l(e,["topK"],o);let r=s(t,["seed"]);r!=null&&l(e,["seed"],r);let i=s(t,["guidance"]);i!=null&&l(e,["guidance"],i);let a=s(t,["bpm"]);a!=null&&l(e,["bpm"],a);let u=s(t,["density"]);u!=null&&l(e,["density"],u);let c=s(t,["brightness"]);c!=null&&l(e,["brightness"],c);let d=s(t,["scale"]);d!=null&&l(e,["scale"],d);let f=s(t,["muteBass"]);f!=null&&l(e,["muteBass"],f);let p=s(t,["muteDrums"]);p!=null&&l(e,["muteDrums"],p);let h=s(t,["onlyBassAndDrums"]);h!=null&&l(e,["onlyBassAndDrums"],h);let m=s(t,["musicGenerationMode"]);return m!=null&&l(e,["musicGenerationMode"],m),e}function w_(t){let e={},n=s(t,["temperature"]);n!=null&&l(e,["temperature"],n);let o=s(t,["topK"]);o!=null&&l(e,["topK"],o);let r=s(t,["seed"]);r!=null&&l(e,["seed"],r);let i=s(t,["guidance"]);i!=null&&l(e,["guidance"],i);let a=s(t,["bpm"]);a!=null&&l(e,["bpm"],a);let u=s(t,["density"]);u!=null&&l(e,["density"],u);let c=s(t,["brightness"]);c!=null&&l(e,["brightness"],c);let d=s(t,["scale"]);d!=null&&l(e,["scale"],d);let f=s(t,["muteBass"]);f!=null&&l(e,["muteBass"],f);let p=s(t,["muteDrums"]);p!=null&&l(e,["muteDrums"],p);let h=s(t,["onlyBassAndDrums"]);h!=null&&l(e,["onlyBassAndDrums"],h);let m=s(t,["musicGenerationMode"]);return m!=null&&l(e,["musicGenerationMode"],m),e}function Nk(t){let e={},n=s(t,["audioChunks"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>jN(r))),l(e,["audioChunks"],o)}return e}function kk(t){let e={};s(t,["setupComplete"])!=null&&l(e,["setupComplete"],Pk());let o=s(t,["serverContent"]);o!=null&&l(e,["serverContent"],Nk(o));let r=s(t,["filteredPrompt"]);return r!=null&&l(e,["filteredPrompt"],Ak(r)),e}function Pk(){return{}}function Fk(t){let e={},n=s(t,["musicGenerationConfig"]);return n!=null&&l(e,["musicGenerationConfig"],w_(n)),e}function Lk(t){let e={},n=s(t,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>b_(r))),l(e,["weightedPrompts"],o)}return e}function Ok(t){let e={},n=s(t,["clientContent"]);n!=null&&l(e,["clientContent"],Mk(n));let o=s(t,["musicGenerationConfig"]);return o!=null&&l(e,["musicGenerationConfig"],Rk(o)),e}function Vk(t){let e={},n=s(t,["media"]);if(n!=null){let d=a_(n);Array.isArray(d)&&(d=d.map(f=>f)),l(e,["mediaChunks"],d)}let o=s(t,["audio"]);o!=null&&l(e,["audio"],u_(o));let r=s(t,["audioStreamEnd"]);r!=null&&l(e,["audioStreamEnd"],r);let i=s(t,["video"]);i!=null&&l(e,["video"],l_(i));let a=s(t,["text"]);return a!=null&&l(e,["text"],a),s(t,["activityStart"])!=null&&l(e,["activityStart"],GN()),s(t,["activityEnd"])!=null&&l(e,["activityEnd"],$N()),e}function Uk(t){let e={},n=s(t,["media"]);if(n!=null){let d=a_(n);Array.isArray(d)&&(d=d.map(f=>f)),l(e,["mediaChunks"],d)}let o=s(t,["audio"]);o!=null&&l(e,["audio"],u_(o));let r=s(t,["audioStreamEnd"]);r!=null&&l(e,["audioStreamEnd"],r);let i=s(t,["video"]);i!=null&&l(e,["video"],l_(i));let a=s(t,["text"]);return a!=null&&l(e,["text"],a),s(t,["activityStart"])!=null&&l(e,["activityStart"],zN()),s(t,["activityEnd"])!=null&&l(e,["activityEnd"],qN()),e}function Bk(t){let e={},n=s(t,["modelTurn"]);n!=null&&l(e,["modelTurn"],tk(n));let o=s(t,["turnComplete"]);o!=null&&l(e,["turnComplete"],o);let r=s(t,["interrupted"]);r!=null&&l(e,["interrupted"],r);let i=s(t,["groundingMetadata"]);i!=null&&l(e,["groundingMetadata"],i);let a=s(t,["generationComplete"]);a!=null&&l(e,["generationComplete"],a);let u=s(t,["inputTranscription"]);u!=null&&l(e,["inputTranscription"],WE(u));let c=s(t,["outputTranscription"]);c!=null&&l(e,["outputTranscription"],WE(c));let d=s(t,["urlContextMetadata"]);d!=null&&l(e,["urlContextMetadata"],TP(d));let f=s(t,["turnCompleteReason"]);f!=null&&l(e,["turnCompleteReason"],f);let p=s(t,["waitingForInput"]);return p!=null&&l(e,["waitingForInput"],p),e}function Hk(t){let e={},n=s(t,["modelTurn"]);n!=null&&l(e,["modelTurn"],nk(n));let o=s(t,["turnComplete"]);o!=null&&l(e,["turnComplete"],o);let r=s(t,["interrupted"]);r!=null&&l(e,["interrupted"],r);let i=s(t,["groundingMetadata"]);i!=null&&l(e,["groundingMetadata"],i);let a=s(t,["generationComplete"]);a!=null&&l(e,["generationComplete"],a);let u=s(t,["inputTranscription"]);u!=null&&l(e,["inputTranscription"],jE(u));let c=s(t,["outputTranscription"]);c!=null&&l(e,["outputTranscription"],jE(c));let d=s(t,["turnCompleteReason"]);d!=null&&l(e,["turnCompleteReason"],d);let f=s(t,["waitingForInput"]);return f!=null&&l(e,["waitingForInput"],f),e}function $k(t){let e={},n=s(t,["timeLeft"]);return n!=null&&l(e,["timeLeft"],n),e}function qk(t){let e={},n=s(t,["timeLeft"]);return n!=null&&l(e,["timeLeft"],n),e}function Gk(t){let e={};s(t,["setupComplete"])!=null&&l(e,["setupComplete"],Jk());let o=s(t,["serverContent"]);o!=null&&l(e,["serverContent"],Bk(o));let r=s(t,["toolCall"]);r!=null&&l(e,["toolCall"],Zk(r));let i=s(t,["toolCallCancellation"]);i!=null&&l(e,["toolCallCancellation"],Kk(i));let a=s(t,["usageMetadata"]);a!=null&&l(e,["usageMetadata"],wP(a));let u=s(t,["goAway"]);u!=null&&l(e,["goAway"],$k(u));let c=s(t,["sessionResumptionUpdate"]);return c!=null&&l(e,["sessionResumptionUpdate"],Wk(c)),e}function zk(t){let e={},n=s(t,["setupComplete"]);n!=null&&l(e,["setupComplete"],Yk(n));let o=s(t,["serverContent"]);o!=null&&l(e,["serverContent"],Hk(o));let r=s(t,["toolCall"]);r!=null&&l(e,["toolCall"],Xk(r));let i=s(t,["toolCallCancellation"]);i!=null&&l(e,["toolCallCancellation"],Qk(i));let a=s(t,["usageMetadata"]);a!=null&&l(e,["usageMetadata"],xP(a));let u=s(t,["goAway"]);u!=null&&l(e,["goAway"],qk(u));let c=s(t,["sessionResumptionUpdate"]);return c!=null&&l(e,["sessionResumptionUpdate"],jk(c)),e}function Wk(t){let e={},n=s(t,["newHandle"]);n!=null&&l(e,["newHandle"],n);let o=s(t,["resumable"]);o!=null&&l(e,["resumable"],o);let r=s(t,["lastConsumedClientMessageIndex"]);return r!=null&&l(e,["lastConsumedClientMessageIndex"],r),e}function jk(t){let e={},n=s(t,["newHandle"]);n!=null&&l(e,["newHandle"],n);let o=s(t,["resumable"]);o!=null&&l(e,["resumable"],o);let r=s(t,["lastConsumedClientMessageIndex"]);return r!=null&&l(e,["lastConsumedClientMessageIndex"],r),e}function Jk(){return{}}function Yk(t){let e={},n=s(t,["sessionId"]);return n!=null&&l(e,["sessionId"],n),e}function Kk(t){let e={},n=s(t,["ids"]);return n!=null&&l(e,["ids"],n),e}function Qk(t){let e={},n=s(t,["ids"]);return n!=null&&l(e,["ids"],n),e}function Zk(t){let e={},n=s(t,["functionCalls"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>T_(r))),l(e,["functionCalls"],o)}return e}function Xk(t){let e={},n=s(t,["functionCalls"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>S_(r))),l(e,["functionCalls"],o)}return e}function $c(t){let e={},n=s(t,["modality"]);n!=null&&l(e,["modality"],n);let o=s(t,["tokenCount"]);return o!=null&&l(e,["tokenCount"],o),e}function qc(t){let e={},n=s(t,["modality"]);n!=null&&l(e,["modality"],n);let o=s(t,["tokenCount"]);return o!=null&&l(e,["tokenCount"],o),e}function eP(t){let e={},n=s(t,["speakerVoiceConfigs"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>mP(r))),l(e,["speakerVoiceConfigs"],o)}return e}function tP(t){let e={},n=s(t,["videoMetadata"]);n!=null&&l(e,["videoMetadata"],bP(n));let o=s(t,["thought"]);o!=null&&l(e,["thought"],o);let r=s(t,["inlineData"]);r!=null&&l(e,["inlineData"],QN(r));let i=s(t,["fileData"]);i!=null&&l(e,["fileData"],ck(i));let a=s(t,["thoughtSignature"]);a!=null&&l(e,["thoughtSignature"],a);let u=s(t,["functionCall"]);u!=null&&l(e,["functionCall"],T_(u));let c=s(t,["codeExecutionResult"]);c!=null&&l(e,["codeExecutionResult"],c);let d=s(t,["executableCode"]);d!=null&&l(e,["executableCode"],d);let f=s(t,["functionResponse"]);f!=null&&l(e,["functionResponse"],f);let p=s(t,["text"]);return p!=null&&l(e,["text"],p),e}function nP(t){let e={},n=s(t,["videoMetadata"]);n!=null&&l(e,["videoMetadata"],MP(n));let o=s(t,["thought"]);o!=null&&l(e,["thought"],o);let r=s(t,["inlineData"]);r!=null&&l(e,["inlineData"],ZN(r));let i=s(t,["fileData"]);i!=null&&l(e,["fileData"],dk(i));let a=s(t,["thoughtSignature"]);a!=null&&l(e,["thoughtSignature"],a);let u=s(t,["functionCall"]);u!=null&&l(e,["functionCall"],S_(u));let c=s(t,["codeExecutionResult"]);c!=null&&l(e,["codeExecutionResult"],c);let d=s(t,["executableCode"]);d!=null&&l(e,["executableCode"],d);let f=s(t,["functionResponse"]);f!=null&&l(e,["functionResponse"],f);let p=s(t,["text"]);return p!=null&&l(e,["text"],p),e}function oP(t){let e={},n=s(t,["videoMetadata"]);n!=null&&l(e,["videoMetadata"],AP(n));let o=s(t,["thought"]);o!=null&&l(e,["thought"],o);let r=s(t,["inlineData"]);r!=null&&l(e,["inlineData"],XN(r));let i=s(t,["fileData"]);i!=null&&l(e,["fileData"],fk(i));let a=s(t,["thoughtSignature"]);a!=null&&l(e,["thoughtSignature"],a);let u=s(t,["functionCall"]);u!=null&&l(e,["functionCall"],hk(u));let c=s(t,["codeExecutionResult"]);c!=null&&l(e,["codeExecutionResult"],c);let d=s(t,["executableCode"]);d!=null&&l(e,["executableCode"],d);let f=s(t,["functionResponse"]);f!=null&&l(e,["functionResponse"],f);let p=s(t,["text"]);return p!=null&&l(e,["text"],p),e}function rP(t){let e={},n=s(t,["videoMetadata"]);n!=null&&l(e,["videoMetadata"],RP(n));let o=s(t,["thought"]);o!=null&&l(e,["thought"],o);let r=s(t,["inlineData"]);r!=null&&l(e,["inlineData"],ek(r));let i=s(t,["fileData"]);i!=null&&l(e,["fileData"],pk(i));let a=s(t,["thoughtSignature"]);a!=null&&l(e,["thoughtSignature"],a);let u=s(t,["functionCall"]);u!=null&&l(e,["functionCall"],mk(u));let c=s(t,["codeExecutionResult"]);c!=null&&l(e,["codeExecutionResult"],c);let d=s(t,["executableCode"]);d!=null&&l(e,["executableCode"],d);let f=s(t,["functionResponse"]);f!=null&&l(e,["functionResponse"],f);let p=s(t,["text"]);return p!=null&&l(e,["text"],p),e}function iP(t){let e={},n=s(t,["voiceName"]);return n!=null&&l(e,["voiceName"],n),e}function sP(t){let e={},n=s(t,["voiceName"]);return n!=null&&l(e,["voiceName"],n),e}function aP(t){let e={},n=s(t,["proactiveAudio"]);return n!=null&&l(e,["proactiveAudio"],n),e}function lP(t){let e={},n=s(t,["proactiveAudio"]);return n!=null&&l(e,["proactiveAudio"],n),e}function uP(t){let e={},n=s(t,["automaticActivityDetection"]);n!=null&&l(e,["automaticActivityDetection"],YN(n));let o=s(t,["activityHandling"]);o!=null&&l(e,["activityHandling"],o);let r=s(t,["turnCoverage"]);return r!=null&&l(e,["turnCoverage"],r),e}function cP(t){let e={},n=s(t,["automaticActivityDetection"]);n!=null&&l(e,["automaticActivityDetection"],KN(n));let o=s(t,["activityHandling"]);o!=null&&l(e,["activityHandling"],o);let r=s(t,["turnCoverage"]);return r!=null&&l(e,["turnCoverage"],r),e}function dP(t){let e={},n=s(t,["handle"]);if(n!=null&&l(e,["handle"],n),s(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function fP(t){let e={},n=s(t,["handle"]);n!=null&&l(e,["handle"],n);let o=s(t,["transparent"]);return o!=null&&l(e,["transparent"],o),e}function pP(t){let e={},n=s(t,["targetTokens"]);return n!=null&&l(e,["targetTokens"],n),e}function hP(t){let e={},n=s(t,["targetTokens"]);return n!=null&&l(e,["targetTokens"],n),e}function mP(t){let e={},n=s(t,["speaker"]);n!=null&&l(e,["speaker"],n);let o=s(t,["voiceConfig"]);return o!=null&&l(e,["voiceConfig"],x_(o)),e}function gP(t){let e={},n=s(t,["voiceConfig"]);n!=null&&l(e,["voiceConfig"],x_(n));let o=s(t,["multiSpeakerVoiceConfig"]);o!=null&&l(e,["multiSpeakerVoiceConfig"],eP(o));let r=s(t,["languageCode"]);return r!=null&&l(e,["languageCode"],r),e}function vP(t){let e={},n=s(t,["voiceConfig"]);if(n!=null&&l(e,["voiceConfig"],NP(n)),s(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");let o=s(t,["languageCode"]);return o!=null&&l(e,["languageCode"],o),e}function yP(t){let e={},n=s(t,["environment"]);n!=null&&l(e,["environment"],n);let o=s(t,["excludedPredefinedFunctions"]);return o!=null&&l(e,["excludedPredefinedFunctions"],o),e}function CP(t){let e={},n=s(t,["environment"]);n!=null&&l(e,["environment"],n);let o=s(t,["excludedPredefinedFunctions"]);return o!=null&&l(e,["excludedPredefinedFunctions"],o),e}function EP(t){let e={},n=s(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>gk(d))),l(e,["functionDeclarations"],c)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let o=s(t,["googleSearch"]);o!=null&&l(e,["googleSearch"],_k(o));let r=s(t,["googleSearchRetrieval"]);if(r!=null&&l(e,["googleSearchRetrieval"],Ck(r)),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(t,["urlContext"])!=null&&l(e,["urlContext"],SP());let a=s(t,["computerUse"]);a!=null&&l(e,["computerUse"],yP(a));let u=s(t,["codeExecution"]);return u!=null&&l(e,["codeExecution"],u),e}function _P(t){let e={},n=s(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>vk(h))),l(e,["functionDeclarations"],p)}let o=s(t,["retrieval"]);o!=null&&l(e,["retrieval"],o);let r=s(t,["googleSearch"]);r!=null&&l(e,["googleSearch"],Tk(r));let i=s(t,["googleSearchRetrieval"]);i!=null&&l(e,["googleSearchRetrieval"],Ek(i));let a=s(t,["enterpriseWebSearch"]);a!=null&&l(e,["enterpriseWebSearch"],uk(a));let u=s(t,["googleMaps"]);u!=null&&l(e,["googleMaps"],yk(u)),s(t,["urlContext"])!=null&&l(e,["urlContext"],IP());let d=s(t,["computerUse"]);d!=null&&l(e,["computerUse"],CP(d));let f=s(t,["codeExecution"]);return f!=null&&l(e,["codeExecution"],f),e}function WE(t){let e={},n=s(t,["text"]);n!=null&&l(e,["text"],n);let o=s(t,["finished"]);return o!=null&&l(e,["finished"],o),e}function jE(t){let e={},n=s(t,["text"]);n!=null&&l(e,["text"],n);let o=s(t,["finished"]);return o!=null&&l(e,["finished"],o),e}function TP(t){let e={},n=s(t,["urlMetadata"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>DP(r))),l(e,["urlMetadata"],o)}return e}function SP(){return{}}function IP(){return{}}function DP(t){let e={},n=s(t,["retrievedUrl"]);n!=null&&l(e,["retrievedUrl"],n);let o=s(t,["urlRetrievalStatus"]);return o!=null&&l(e,["urlRetrievalStatus"],o),e}function wP(t){let e={},n=s(t,["promptTokenCount"]);n!=null&&l(e,["promptTokenCount"],n);let o=s(t,["cachedContentTokenCount"]);o!=null&&l(e,["cachedContentTokenCount"],o);let r=s(t,["responseTokenCount"]);r!=null&&l(e,["responseTokenCount"],r);let i=s(t,["toolUsePromptTokenCount"]);i!=null&&l(e,["toolUsePromptTokenCount"],i);let a=s(t,["thoughtsTokenCount"]);a!=null&&l(e,["thoughtsTokenCount"],a);let u=s(t,["totalTokenCount"]);u!=null&&l(e,["totalTokenCount"],u);let c=s(t,["promptTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(m=>$c(m))),l(e,["promptTokensDetails"],h)}let d=s(t,["cacheTokensDetails"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(m=>$c(m))),l(e,["cacheTokensDetails"],h)}let f=s(t,["responseTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(m=>$c(m))),l(e,["responseTokensDetails"],h)}let p=s(t,["toolUsePromptTokensDetails"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(m=>$c(m))),l(e,["toolUsePromptTokensDetails"],h)}return e}function xP(t){let e={},n=s(t,["promptTokenCount"]);n!=null&&l(e,["promptTokenCount"],n);let o=s(t,["cachedContentTokenCount"]);o!=null&&l(e,["cachedContentTokenCount"],o);let r=s(t,["candidatesTokenCount"]);r!=null&&l(e,["responseTokenCount"],r);let i=s(t,["toolUsePromptTokenCount"]);i!=null&&l(e,["toolUsePromptTokenCount"],i);let a=s(t,["thoughtsTokenCount"]);a!=null&&l(e,["thoughtsTokenCount"],a);let u=s(t,["totalTokenCount"]);u!=null&&l(e,["totalTokenCount"],u);let c=s(t,["promptTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(E=>qc(E))),l(e,["promptTokensDetails"],m)}let d=s(t,["cacheTokensDetails"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(E=>qc(E))),l(e,["cacheTokensDetails"],m)}let f=s(t,["candidatesTokensDetails"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(E=>qc(E))),l(e,["responseTokensDetails"],m)}let p=s(t,["toolUsePromptTokensDetails"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(E=>qc(E))),l(e,["toolUsePromptTokensDetails"],m)}let h=s(t,["trafficType"]);return h!=null&&l(e,["trafficType"],h),e}function bP(t){let e={},n=s(t,["fps"]);n!=null&&l(e,["fps"],n);let o=s(t,["endOffset"]);o!=null&&l(e,["endOffset"],o);let r=s(t,["startOffset"]);return r!=null&&l(e,["startOffset"],r),e}function MP(t){let e={},n=s(t,["fps"]);n!=null&&l(e,["fps"],n);let o=s(t,["endOffset"]);o!=null&&l(e,["endOffset"],o);let r=s(t,["startOffset"]);return r!=null&&l(e,["startOffset"],r),e}function AP(t){let e={},n=s(t,["fps"]);n!=null&&l(e,["fps"],n);let o=s(t,["endOffset"]);o!=null&&l(e,["endOffset"],o);let r=s(t,["startOffset"]);return r!=null&&l(e,["startOffset"],r),e}function RP(t){let e={},n=s(t,["fps"]);n!=null&&l(e,["fps"],n);let o=s(t,["endOffset"]);o!=null&&l(e,["endOffset"],o);let r=s(t,["startOffset"]);return r!=null&&l(e,["startOffset"],r),e}function x_(t){let e={},n=s(t,["prebuiltVoiceConfig"]);return n!=null&&l(e,["prebuiltVoiceConfig"],iP(n)),e}function NP(t){let e={},n=s(t,["prebuiltVoiceConfig"]);return n!=null&&l(e,["prebuiltVoiceConfig"],sP(n)),e}function kP(t){let e={},n=s(t,["text"]);n!=null&&l(e,["text"],n);let o=s(t,["weight"]);return o!=null&&l(e,["weight"],o),e}function b_(t){let e={},n=s(t,["text"]);n!=null&&l(e,["text"],n);let o=s(t,["weight"]);return o!=null&&l(e,["weight"],o),e}function PP(t){let e={},n=s(t,["apiKeyString"]);return n!=null&&l(e,["apiKeyString"],n),e}function FP(t){let e={},n=s(t,["apiKeyConfig"]);n!=null&&l(e,["apiKeyConfig"],PP(n));let o=s(t,["authType"]);o!=null&&l(e,["authType"],o);let r=s(t,["googleServiceAccountConfig"]);r!=null&&l(e,["googleServiceAccountConfig"],r);let i=s(t,["httpBasicAuthConfig"]);i!=null&&l(e,["httpBasicAuthConfig"],i);let a=s(t,["oauthConfig"]);a!=null&&l(e,["oauthConfig"],a);let u=s(t,["oidcConfig"]);return u!=null&&l(e,["oidcConfig"],u),e}function LP(t){let e={},n=s(t,["data"]);n!=null&&l(e,["data"],n);let o=s(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function OP(t){let e={},n=s(t,["displayName"]);n!=null&&l(e,["displayName"],n);let o=s(t,["data"]);o!=null&&l(e,["data"],o);let r=s(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}function VP(t){let e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=s(t,["data"]);n!=null&&l(e,["data"],n);let o=s(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function UP(t){let e={},n=s(t,["displayName"]);n!=null&&l(e,["displayName"],n);let o=s(t,["data"]);o!=null&&l(e,["data"],o);let r=s(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}function BP(t){let e={},n=s(t,["content"]);n!=null&&l(e,["content"],KP(n));let o=s(t,["citationMetadata"]);o!=null&&l(e,["citationMetadata"],qP(o));let r=s(t,["tokenCount"]);r!=null&&l(e,["tokenCount"],r);let i=s(t,["finishReason"]);i!=null&&l(e,["finishReason"],i);let a=s(t,["urlContextMetadata"]);a!=null&&l(e,["urlContextMetadata"],g2(a));let u=s(t,["avgLogprobs"]);u!=null&&l(e,["avgLogprobs"],u);let c=s(t,["groundingMetadata"]);c!=null&&l(e,["groundingMetadata"],c);let d=s(t,["index"]);d!=null&&l(e,["index"],d);let f=s(t,["logprobsResult"]);f!=null&&l(e,["logprobsResult"],f);let p=s(t,["safetyRatings"]);return p!=null&&l(e,["safetyRatings"],p),e}function HP(t){let e={},n=s(t,["content"]);n!=null&&l(e,["content"],QP(n));let o=s(t,["citationMetadata"]);o!=null&&l(e,["citationMetadata"],GP(o));let r=s(t,["finishMessage"]);r!=null&&l(e,["finishMessage"],r);let i=s(t,["finishReason"]);i!=null&&l(e,["finishReason"],i);let a=s(t,["urlContextMetadata"]);a!=null&&l(e,["urlContextMetadata"],v2(a));let u=s(t,["avgLogprobs"]);u!=null&&l(e,["avgLogprobs"],u);let c=s(t,["groundingMetadata"]);c!=null&&l(e,["groundingMetadata"],c);let d=s(t,["index"]);d!=null&&l(e,["index"],d);let f=s(t,["logprobsResult"]);f!=null&&l(e,["logprobsResult"],f);let p=s(t,["safetyRatings"]);return p!=null&&l(e,["safetyRatings"],p),e}function $P(t){let e={},n=s(t,["checkpointId"]);n!=null&&l(e,["checkpointId"],n);let o=s(t,["epoch"]);o!=null&&l(e,["epoch"],o);let r=s(t,["step"]);return r!=null&&l(e,["step"],r),e}function qP(t){let e={},n=s(t,["citationSources"]);return n!=null&&l(e,["citations"],n),e}function GP(t){let e={},n=s(t,["citations"]);return n!=null&&l(e,["citations"],n),e}function zP(t,e){let n={},o=s(e,["model"]);o!=null&&l(n,["_url","model"],ye(t,o));let r=s(e,["contents"]);if(r!=null){let i=Gt(r);Array.isArray(i)&&(i=i.map(a=>qi(a))),l(n,["contents"],i)}return n}function WP(t){let e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=s(t,["tokensInfo"]);return o!=null&&l(e,["tokensInfo"],o),e}function jP(t){let e={},n=s(t,["values"]);return n!=null&&l(e,["values"],n),e}function JP(t){let e={},n=s(t,["values"]);n!=null&&l(e,["values"],n);let o=s(t,["statistics"]);return o!=null&&l(e,["statistics"],YP(o)),e}function YP(t){let e={},n=s(t,["truncated"]);n!=null&&l(e,["truncated"],n);let o=s(t,["token_count"]);return o!=null&&l(e,["tokenCount"],o),e}function KP(t){let e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>wL(i))),l(e,["parts"],r)}let o=s(t,["role"]);return o!=null&&l(e,["role"],o),e}function QP(t){let e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>xL(i))),l(e,["parts"],r)}let o=s(t,["role"]);return o!=null&&l(e,["role"],o),e}function id(t){let e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>bL(i))),l(e,["parts"],r)}let o=s(t,["role"]);return o!=null&&l(e,["role"],o),e}function qi(t){let e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>ML(i))),l(e,["parts"],r)}let o=s(t,["role"]);return o!=null&&l(e,["role"],o),e}function ZP(t){let e={},n=s(t,["controlType"]);n!=null&&l(e,["controlType"],n);let o=s(t,["enableControlImageComputation"]);return o!=null&&l(e,["computeControl"],o),e}function XP(t){let e={};if(s(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function eF(t,e){let n={},o=s(t,["systemInstruction"]);e!==void 0&&o!=null&&l(e,["systemInstruction"],qi(dt(o)));let r=s(t,["tools"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>k_(u))),l(e,["tools"],a)}let i=s(t,["generationConfig"]);return e!==void 0&&i!=null&&l(e,["generationConfig"],i),n}function tF(t,e){let n={},o=s(e,["model"]);o!=null&&l(n,["_url","model"],ye(t,o));let r=s(e,["contents"]);if(r!=null){let a=Gt(r);Array.isArray(a)&&(a=a.map(u=>id(u))),l(n,["contents"],a)}let i=s(e,["config"]);return i!=null&&XP(i),n}function nF(t,e){let n={},o=s(e,["model"]);o!=null&&l(n,["_url","model"],ye(t,o));let r=s(e,["contents"]);if(r!=null){let a=Gt(r);Array.isArray(a)&&(a=a.map(u=>qi(u))),l(n,["contents"],a)}let i=s(e,["config"]);return i!=null&&eF(i,n),n}function oF(t){let e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=s(t,["totalTokens"]);o!=null&&l(e,["totalTokens"],o);let r=s(t,["cachedContentTokenCount"]);return r!=null&&l(e,["cachedContentTokenCount"],r),e}function rF(t){let e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=s(t,["totalTokens"]);return o!=null&&l(e,["totalTokens"],o),e}function iF(t,e){let n={},o=s(e,["model"]);return o!=null&&l(n,["_url","name"],ye(t,o)),n}function sF(t,e){let n={},o=s(e,["model"]);return o!=null&&l(n,["_url","name"],ye(t,o)),n}function aF(t){let e={},n=s(t,["sdkHttpResponse"]);return n!=null&&l(e,["sdkHttpResponse"],n),e}function lF(t){let e={},n=s(t,["sdkHttpResponse"]);return n!=null&&l(e,["sdkHttpResponse"],n),e}function uF(t){let e={},n=s(t,["mode"]);n!=null&&l(e,["mode"],n);let o=s(t,["dynamicThreshold"]);return o!=null&&l(e,["dynamicThreshold"],o),e}function cF(t){let e={},n=s(t,["mode"]);n!=null&&l(e,["mode"],n);let o=s(t,["dynamicThreshold"]);return o!=null&&l(e,["dynamicThreshold"],o),e}function dF(t,e){let n={},o=s(t,["outputGcsUri"]);e!==void 0&&o!=null&&l(e,["parameters","storageUri"],o);let r=s(t,["negativePrompt"]);e!==void 0&&r!=null&&l(e,["parameters","negativePrompt"],r);let i=s(t,["numberOfImages"]);e!==void 0&&i!=null&&l(e,["parameters","sampleCount"],i);let a=s(t,["aspectRatio"]);e!==void 0&&a!=null&&l(e,["parameters","aspectRatio"],a);let u=s(t,["guidanceScale"]);e!==void 0&&u!=null&&l(e,["parameters","guidanceScale"],u);let c=s(t,["seed"]);e!==void 0&&c!=null&&l(e,["parameters","seed"],c);let d=s(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&l(e,["parameters","safetySetting"],d);let f=s(t,["personGeneration"]);e!==void 0&&f!=null&&l(e,["parameters","personGeneration"],f);let p=s(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&l(e,["parameters","includeSafetyAttributes"],p);let h=s(t,["includeRaiReason"]);e!==void 0&&h!=null&&l(e,["parameters","includeRaiReason"],h);let m=s(t,["language"]);e!==void 0&&m!=null&&l(e,["parameters","language"],m);let E=s(t,["outputMimeType"]);e!==void 0&&E!=null&&l(e,["parameters","outputOptions","mimeType"],E);let T=s(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&l(e,["parameters","outputOptions","compressionQuality"],T);let D=s(t,["addWatermark"]);e!==void 0&&D!=null&&l(e,["parameters","addWatermark"],D);let w=s(t,["editMode"]);e!==void 0&&w!=null&&l(e,["parameters","editMode"],w);let R=s(t,["baseSteps"]);return e!==void 0&&R!=null&&l(e,["parameters","editConfig","baseSteps"],R),n}function fF(t,e){let n={},o=s(e,["model"]);o!=null&&l(n,["_url","model"],ye(t,o));let r=s(e,["prompt"]);r!=null&&l(n,["instances[0]","prompt"],r);let i=s(e,["referenceImages"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>OL(c))),l(n,["instances[0]","referenceImages"],u)}let a=s(e,["config"]);return a!=null&&dF(a,n),n}function pF(t){let e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=s(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>sd(i))),l(e,["generatedImages"],r)}return e}function hF(t,e){let n={},o=s(t,["taskType"]);e!==void 0&&o!=null&&l(e,["requests[]","taskType"],o);let r=s(t,["title"]);e!==void 0&&r!=null&&l(e,["requests[]","title"],r);let i=s(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&l(e,["requests[]","outputDimensionality"],i),s(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function mF(t,e){let n={},o=s(t,["taskType"]);e!==void 0&&o!=null&&l(e,["instances[]","task_type"],o);let r=s(t,["title"]);e!==void 0&&r!=null&&l(e,["instances[]","title"],r);let i=s(t,["outputDimensionality"]);e!==void 0&&i!=null&&l(e,["parameters","outputDimensionality"],i);let a=s(t,["mimeType"]);e!==void 0&&a!=null&&l(e,["instances[]","mimeType"],a);let u=s(t,["autoTruncate"]);return e!==void 0&&u!=null&&l(e,["parameters","autoTruncate"],u),n}function gF(){return{}}function vF(t){let e={},n=s(t,["billableCharacterCount"]);return n!=null&&l(e,["billableCharacterCount"],n),e}function yF(t,e){let n={},o=s(e,["model"]);o!=null&&l(n,["_url","model"],ye(t,o));let r=s(e,["contents"]);r!=null&&l(n,["requests[]","content"],eg(t,r));let i=s(e,["config"]);i!=null&&hF(i,n);let a=s(e,["model"]);return a!==void 0&&l(n,["requests[]","model"],ye(t,a)),n}function CF(t,e){let n={},o=s(e,["model"]);o!=null&&l(n,["_url","model"],ye(t,o));let r=s(e,["contents"]);r!=null&&l(n,["instances[]","content"],eg(t,r));let i=s(e,["config"]);return i!=null&&mF(i,n),n}function EF(t){let e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=s(t,["embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>jP(a))),l(e,["embeddings"],i)}return s(t,["metadata"])!=null&&l(e,["metadata"],gF()),e}function _F(t){let e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=s(t,["predictions[]","embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>JP(a))),l(e,["embeddings"],i)}let r=s(t,["metadata"]);return r!=null&&l(e,["metadata"],vF(r)),e}function TF(t){let e={},n=s(t,["endpoint"]);n!=null&&l(e,["name"],n);let o=s(t,["deployedModelId"]);return o!=null&&l(e,["deployedModelId"],o),e}function SF(t){let e={},n=s(t,["excludeDomains"]);return n!=null&&l(e,["excludeDomains"],n),e}function IF(t){let e={},n=s(t,["label"]);n!=null&&l(e,["label"],n);let o=s(t,["score"]);return o!=null&&l(e,["score"],o),e}function DF(t){let e={},n=s(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);let o=s(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function wF(t){let e={},n=s(t,["displayName"]);n!=null&&l(e,["displayName"],n);let o=s(t,["fileUri"]);o!=null&&l(e,["fileUri"],o);let r=s(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}function xF(t){let e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=s(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);let o=s(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function bF(t){let e={},n=s(t,["displayName"]);n!=null&&l(e,["displayName"],n);let o=s(t,["fileUri"]);o!=null&&l(e,["fileUri"],o);let r=s(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}function MF(t){let e={},n=s(t,["id"]);n!=null&&l(e,["id"],n);let o=s(t,["args"]);o!=null&&l(e,["args"],o);let r=s(t,["name"]);return r!=null&&l(e,["name"],r),e}function AF(t){let e={},n=s(t,["id"]);n!=null&&l(e,["id"],n);let o=s(t,["args"]);o!=null&&l(e,["args"],o);let r=s(t,["name"]);return r!=null&&l(e,["name"],r),e}function RF(t){let e={},n=s(t,["id"]);n!=null&&l(e,["id"],n);let o=s(t,["args"]);o!=null&&l(e,["args"],o);let r=s(t,["name"]);return r!=null&&l(e,["name"],r),e}function NF(t){let e={},n=s(t,["id"]);n!=null&&l(e,["id"],n);let o=s(t,["args"]);o!=null&&l(e,["args"],o);let r=s(t,["name"]);return r!=null&&l(e,["name"],r),e}function kF(t){let e={},n=s(t,["mode"]);n!=null&&l(e,["mode"],n);let o=s(t,["allowedFunctionNames"]);return o!=null&&l(e,["allowedFunctionNames"],o),e}function PF(t){let e={},n=s(t,["mode"]);n!=null&&l(e,["mode"],n);let o=s(t,["allowedFunctionNames"]);return o!=null&&l(e,["allowedFunctionNames"],o),e}function FF(t){let e={},n=s(t,["behavior"]);n!=null&&l(e,["behavior"],n);let o=s(t,["description"]);o!=null&&l(e,["description"],o);let r=s(t,["name"]);r!=null&&l(e,["name"],r);let i=s(t,["parameters"]);i!=null&&l(e,["parameters"],i);let a=s(t,["parametersJsonSchema"]);a!=null&&l(e,["parametersJsonSchema"],a);let u=s(t,["response"]);u!=null&&l(e,["response"],u);let c=s(t,["responseJsonSchema"]);return c!=null&&l(e,["responseJsonSchema"],c),e}function LF(t){let e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");let n=s(t,["description"]);n!=null&&l(e,["description"],n);let o=s(t,["name"]);o!=null&&l(e,["name"],o);let r=s(t,["parameters"]);r!=null&&l(e,["parameters"],r);let i=s(t,["parametersJsonSchema"]);i!=null&&l(e,["parametersJsonSchema"],i);let a=s(t,["response"]);a!=null&&l(e,["response"],a);let u=s(t,["responseJsonSchema"]);return u!=null&&l(e,["responseJsonSchema"],u),e}function OF(t,e,n){let o={},r=s(e,["systemInstruction"]);n!==void 0&&r!=null&&l(n,["systemInstruction"],id(dt(r)));let i=s(e,["temperature"]);i!=null&&l(o,["temperature"],i);let a=s(e,["topP"]);a!=null&&l(o,["topP"],a);let u=s(e,["topK"]);u!=null&&l(o,["topK"],u);let c=s(e,["candidateCount"]);c!=null&&l(o,["candidateCount"],c);let d=s(e,["maxOutputTokens"]);d!=null&&l(o,["maxOutputTokens"],d);let f=s(e,["stopSequences"]);f!=null&&l(o,["stopSequences"],f);let p=s(e,["responseLogprobs"]);p!=null&&l(o,["responseLogprobs"],p);let h=s(e,["logprobs"]);h!=null&&l(o,["logprobs"],h);let m=s(e,["presencePenalty"]);m!=null&&l(o,["presencePenalty"],m);let E=s(e,["frequencyPenalty"]);E!=null&&l(o,["frequencyPenalty"],E);let T=s(e,["seed"]);T!=null&&l(o,["seed"],T);let D=s(e,["responseMimeType"]);D!=null&&l(o,["responseMimeType"],D);let w=s(e,["responseSchema"]);w!=null&&l(o,["responseSchema"],$L(tg(w)));let R=s(e,["responseJsonSchema"]);if(R!=null&&l(o,["responseJsonSchema"],R),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let L=s(e,["safetySettings"]);if(n!==void 0&&L!=null){let De=L;Array.isArray(De)&&(De=De.map(an=>BL(an))),l(n,["safetySettings"],De)}let q=s(e,["tools"]);if(n!==void 0&&q!=null){let De=Bi(q);Array.isArray(De)&&(De=De.map(an=>s2(Ui(an)))),l(n,["tools"],De)}let J=s(e,["toolConfig"]);if(n!==void 0&&J!=null&&l(n,["toolConfig"],r2(J)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let fe=s(e,["cachedContent"]);n!==void 0&&fe!=null&&l(n,["cachedContent"],Hn(t,fe));let ve=s(e,["responseModalities"]);ve!=null&&l(o,["responseModalities"],ve);let tt=s(e,["mediaResolution"]);tt!=null&&l(o,["mediaResolution"],tt);let ue=s(e,["speechConfig"]);if(ue!=null&&l(o,["speechConfig"],KL(ng(ue))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let Ae=s(e,["thinkingConfig"]);return Ae!=null&&l(o,["thinkingConfig"],e2(Ae)),o}function VF(t,e,n){let o={},r=s(e,["systemInstruction"]);n!==void 0&&r!=null&&l(n,["systemInstruction"],qi(dt(r)));let i=s(e,["temperature"]);i!=null&&l(o,["temperature"],i);let a=s(e,["topP"]);a!=null&&l(o,["topP"],a);let u=s(e,["topK"]);u!=null&&l(o,["topK"],u);let c=s(e,["candidateCount"]);c!=null&&l(o,["candidateCount"],c);let d=s(e,["maxOutputTokens"]);d!=null&&l(o,["maxOutputTokens"],d);let f=s(e,["stopSequences"]);f!=null&&l(o,["stopSequences"],f);let p=s(e,["responseLogprobs"]);p!=null&&l(o,["responseLogprobs"],p);let h=s(e,["logprobs"]);h!=null&&l(o,["logprobs"],h);let m=s(e,["presencePenalty"]);m!=null&&l(o,["presencePenalty"],m);let E=s(e,["frequencyPenalty"]);E!=null&&l(o,["frequencyPenalty"],E);let T=s(e,["seed"]);T!=null&&l(o,["seed"],T);let D=s(e,["responseMimeType"]);D!=null&&l(o,["responseMimeType"],D);let w=s(e,["responseSchema"]);w!=null&&l(o,["responseSchema"],qL(tg(w)));let R=s(e,["responseJsonSchema"]);R!=null&&l(o,["responseJsonSchema"],R);let L=s(e,["routingConfig"]);L!=null&&l(o,["routingConfig"],L);let q=s(e,["modelSelectionConfig"]);q!=null&&l(o,["modelConfig"],IL(q));let J=s(e,["safetySettings"]);if(n!==void 0&&J!=null){let Sn=J;Array.isArray(Sn)&&(Sn=Sn.map(xd=>HL(xd))),l(n,["safetySettings"],Sn)}let fe=s(e,["tools"]);if(n!==void 0&&fe!=null){let Sn=Bi(fe);Array.isArray(Sn)&&(Sn=Sn.map(xd=>k_(Ui(xd)))),l(n,["tools"],Sn)}let ve=s(e,["toolConfig"]);n!==void 0&&ve!=null&&l(n,["toolConfig"],i2(ve));let tt=s(e,["labels"]);n!==void 0&&tt!=null&&l(n,["labels"],tt);let ue=s(e,["cachedContent"]);n!==void 0&&ue!=null&&l(n,["cachedContent"],Hn(t,ue));let Ae=s(e,["responseModalities"]);Ae!=null&&l(o,["responseModalities"],Ae);let De=s(e,["mediaResolution"]);De!=null&&l(o,["mediaResolution"],De);let an=s(e,["speechConfig"]);an!=null&&l(o,["speechConfig"],QL(ng(an)));let sg=s(e,["audioTimestamp"]);sg!=null&&l(o,["audioTimestamp"],sg);let ag=s(e,["thinkingConfig"]);return ag!=null&&l(o,["thinkingConfig"],t2(ag)),o}function JE(t,e){let n={},o=s(e,["model"]);o!=null&&l(n,["_url","model"],ye(t,o));let r=s(e,["contents"]);if(r!=null){let a=Gt(r);Array.isArray(a)&&(a=a.map(u=>id(u))),l(n,["contents"],a)}let i=s(e,["config"]);return i!=null&&l(n,["generationConfig"],OF(t,i,n)),n}function YE(t,e){let n={},o=s(e,["model"]);o!=null&&l(n,["_url","model"],ye(t,o));let r=s(e,["contents"]);if(r!=null){let a=Gt(r);Array.isArray(a)&&(a=a.map(u=>qi(u))),l(n,["contents"],a)}let i=s(e,["config"]);return i!=null&&l(n,["generationConfig"],VF(t,i,n)),n}function KE(t){let e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=s(t,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>BP(d))),l(e,["candidates"],c)}let r=s(t,["modelVersion"]);r!=null&&l(e,["modelVersion"],r);let i=s(t,["promptFeedback"]);i!=null&&l(e,["promptFeedback"],i);let a=s(t,["responseId"]);a!=null&&l(e,["responseId"],a);let u=s(t,["usageMetadata"]);return u!=null&&l(e,["usageMetadata"],u),e}function QE(t){let e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=s(t,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>HP(f))),l(e,["candidates"],d)}let r=s(t,["createTime"]);r!=null&&l(e,["createTime"],r);let i=s(t,["modelVersion"]);i!=null&&l(e,["modelVersion"],i);let a=s(t,["promptFeedback"]);a!=null&&l(e,["promptFeedback"],a);let u=s(t,["responseId"]);u!=null&&l(e,["responseId"],u);let c=s(t,["usageMetadata"]);return c!=null&&l(e,["usageMetadata"],c),e}function UF(t,e){let n={};if(s(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");let o=s(t,["numberOfImages"]);e!==void 0&&o!=null&&l(e,["parameters","sampleCount"],o);let r=s(t,["aspectRatio"]);e!==void 0&&r!=null&&l(e,["parameters","aspectRatio"],r);let i=s(t,["guidanceScale"]);if(e!==void 0&&i!=null&&l(e,["parameters","guidanceScale"],i),s(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let a=s(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&l(e,["parameters","safetySetting"],a);let u=s(t,["personGeneration"]);e!==void 0&&u!=null&&l(e,["parameters","personGeneration"],u);let c=s(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&l(e,["parameters","includeSafetyAttributes"],c);let d=s(t,["includeRaiReason"]);e!==void 0&&d!=null&&l(e,["parameters","includeRaiReason"],d);let f=s(t,["language"]);e!==void 0&&f!=null&&l(e,["parameters","language"],f);let p=s(t,["outputMimeType"]);e!==void 0&&p!=null&&l(e,["parameters","outputOptions","mimeType"],p);let h=s(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&l(e,["parameters","outputOptions","compressionQuality"],h),s(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");let m=s(t,["imageSize"]);if(e!==void 0&&m!=null&&l(e,["parameters","sampleImageSize"],m),s(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function BF(t,e){let n={},o=s(t,["outputGcsUri"]);e!==void 0&&o!=null&&l(e,["parameters","storageUri"],o);let r=s(t,["negativePrompt"]);e!==void 0&&r!=null&&l(e,["parameters","negativePrompt"],r);let i=s(t,["numberOfImages"]);e!==void 0&&i!=null&&l(e,["parameters","sampleCount"],i);let a=s(t,["aspectRatio"]);e!==void 0&&a!=null&&l(e,["parameters","aspectRatio"],a);let u=s(t,["guidanceScale"]);e!==void 0&&u!=null&&l(e,["parameters","guidanceScale"],u);let c=s(t,["seed"]);e!==void 0&&c!=null&&l(e,["parameters","seed"],c);let d=s(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&l(e,["parameters","safetySetting"],d);let f=s(t,["personGeneration"]);e!==void 0&&f!=null&&l(e,["parameters","personGeneration"],f);let p=s(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&l(e,["parameters","includeSafetyAttributes"],p);let h=s(t,["includeRaiReason"]);e!==void 0&&h!=null&&l(e,["parameters","includeRaiReason"],h);let m=s(t,["language"]);e!==void 0&&m!=null&&l(e,["parameters","language"],m);let E=s(t,["outputMimeType"]);e!==void 0&&E!=null&&l(e,["parameters","outputOptions","mimeType"],E);let T=s(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&l(e,["parameters","outputOptions","compressionQuality"],T);let D=s(t,["addWatermark"]);e!==void 0&&D!=null&&l(e,["parameters","addWatermark"],D);let w=s(t,["imageSize"]);e!==void 0&&w!=null&&l(e,["parameters","sampleImageSize"],w);let R=s(t,["enhancePrompt"]);return e!==void 0&&R!=null&&l(e,["parameters","enhancePrompt"],R),n}function HF(t,e){let n={},o=s(e,["model"]);o!=null&&l(n,["_url","model"],ye(t,o));let r=s(e,["prompt"]);r!=null&&l(n,["instances[0]","prompt"],r);let i=s(e,["config"]);return i!=null&&UF(i,n),n}function $F(t,e){let n={},o=s(e,["model"]);o!=null&&l(n,["_url","model"],ye(t,o));let r=s(e,["prompt"]);r!=null&&l(n,["instances[0]","prompt"],r);let i=s(e,["config"]);return i!=null&&BF(i,n),n}function qF(t){let e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=s(t,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>tL(a))),l(e,["generatedImages"],i)}let r=s(t,["positivePromptSafetyAttributes"]);return r!=null&&l(e,["positivePromptSafetyAttributes"],R_(r)),e}function GF(t){let e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=s(t,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>sd(a))),l(e,["generatedImages"],i)}let r=s(t,["positivePromptSafetyAttributes"]);return r!=null&&l(e,["positivePromptSafetyAttributes"],N_(r)),e}function zF(t,e){let n={},o=s(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&l(e,["parameters","sampleCount"],o),s(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");let r=s(t,["durationSeconds"]);if(e!==void 0&&r!=null&&l(e,["parameters","durationSeconds"],r),s(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let i=s(t,["aspectRatio"]);e!==void 0&&i!=null&&l(e,["parameters","aspectRatio"],i);let a=s(t,["resolution"]);e!==void 0&&a!=null&&l(e,["parameters","resolution"],a);let u=s(t,["personGeneration"]);if(e!==void 0&&u!=null&&l(e,["parameters","personGeneration"],u),s(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");let c=s(t,["negativePrompt"]);e!==void 0&&c!=null&&l(e,["parameters","negativePrompt"],c);let d=s(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&l(e,["parameters","enhancePrompt"],d),s(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(s(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(s(t,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(s(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(s(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function WF(t,e){let n={},o=s(t,["numberOfVideos"]);e!==void 0&&o!=null&&l(e,["parameters","sampleCount"],o);let r=s(t,["outputGcsUri"]);e!==void 0&&r!=null&&l(e,["parameters","storageUri"],r);let i=s(t,["fps"]);e!==void 0&&i!=null&&l(e,["parameters","fps"],i);let a=s(t,["durationSeconds"]);e!==void 0&&a!=null&&l(e,["parameters","durationSeconds"],a);let u=s(t,["seed"]);e!==void 0&&u!=null&&l(e,["parameters","seed"],u);let c=s(t,["aspectRatio"]);e!==void 0&&c!=null&&l(e,["parameters","aspectRatio"],c);let d=s(t,["resolution"]);e!==void 0&&d!=null&&l(e,["parameters","resolution"],d);let f=s(t,["personGeneration"]);e!==void 0&&f!=null&&l(e,["parameters","personGeneration"],f);let p=s(t,["pubsubTopic"]);e!==void 0&&p!=null&&l(e,["parameters","pubsubTopic"],p);let h=s(t,["negativePrompt"]);e!==void 0&&h!=null&&l(e,["parameters","negativePrompt"],h);let m=s(t,["enhancePrompt"]);e!==void 0&&m!=null&&l(e,["parameters","enhancePrompt"],m);let E=s(t,["generateAudio"]);e!==void 0&&E!=null&&l(e,["parameters","generateAudio"],E);let T=s(t,["lastFrame"]);e!==void 0&&T!=null&&l(e,["instances[0]","lastFrame"],sn(T));let D=s(t,["referenceImages"]);if(e!==void 0&&D!=null){let L=D;Array.isArray(L)&&(L=L.map(q=>D2(q))),l(e,["instances[0]","referenceImages"],L)}let w=s(t,["mask"]);e!==void 0&&w!=null&&l(e,["instances[0]","mask"],I2(w));let R=s(t,["compressionQuality"]);return e!==void 0&&R!=null&&l(e,["parameters","compressionQuality"],R),n}function jF(t){let e={},n=s(t,["name"]);n!=null&&l(e,["name"],n);let o=s(t,["metadata"]);o!=null&&l(e,["metadata"],o);let r=s(t,["done"]);r!=null&&l(e,["done"],r);let i=s(t,["error"]);i!=null&&l(e,["error"],i);let a=s(t,["response","generateVideoResponse"]);return a!=null&&l(e,["response"],QF(a)),e}function JF(t){let e={},n=s(t,["name"]);n!=null&&l(e,["name"],n);let o=s(t,["metadata"]);o!=null&&l(e,["metadata"],o);let r=s(t,["done"]);r!=null&&l(e,["done"],r);let i=s(t,["error"]);i!=null&&l(e,["error"],i);let a=s(t,["response"]);return a!=null&&l(e,["response"],ZF(a)),e}function YF(t,e){let n={},o=s(e,["model"]);o!=null&&l(n,["_url","model"],ye(t,o));let r=s(e,["prompt"]);r!=null&&l(n,["instances[0]","prompt"],r);let i=s(e,["image"]);if(i!=null&&l(n,["instances[0]","image"],A_(i)),s(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");let a=s(e,["source"]);a!=null&&XF(a,n);let u=s(e,["config"]);return u!=null&&zF(u,n),n}function KF(t,e){let n={},o=s(e,["model"]);o!=null&&l(n,["_url","model"],ye(t,o));let r=s(e,["prompt"]);r!=null&&l(n,["instances[0]","prompt"],r);let i=s(e,["image"]);i!=null&&l(n,["instances[0]","image"],sn(i));let a=s(e,["video"]);a!=null&&l(n,["instances[0]","video"],P_(a));let u=s(e,["source"]);u!=null&&eL(u,n);let c=s(e,["config"]);return c!=null&&WF(c,n),n}function QF(t){let e={},n=s(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>oL(a))),l(e,["generatedVideos"],i)}let o=s(t,["raiMediaFilteredCount"]);o!=null&&l(e,["raiMediaFilteredCount"],o);let r=s(t,["raiMediaFilteredReasons"]);return r!=null&&l(e,["raiMediaFilteredReasons"],r),e}function ZF(t){let e={},n=s(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>rL(a))),l(e,["generatedVideos"],i)}let o=s(t,["raiMediaFilteredCount"]);o!=null&&l(e,["raiMediaFilteredCount"],o);let r=s(t,["raiMediaFilteredReasons"]);return r!=null&&l(e,["raiMediaFilteredReasons"],r),e}function XF(t,e){let n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&l(e,["instances[0]","prompt"],o);let r=s(t,["image"]);if(e!==void 0&&r!=null&&l(e,["instances[0]","image"],A_(r)),s(t,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return n}function eL(t,e){let n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&l(e,["instances[0]","prompt"],o);let r=s(t,["image"]);e!==void 0&&r!=null&&l(e,["instances[0]","image"],sn(r));let i=s(t,["video"]);return e!==void 0&&i!=null&&l(e,["instances[0]","video"],P_(i)),n}function tL(t){let e={},n=s(t,["_self"]);n!=null&&l(e,["image"],fL(n));let o=s(t,["raiFilteredReason"]);o!=null&&l(e,["raiFilteredReason"],o);let r=s(t,["_self"]);return r!=null&&l(e,["safetyAttributes"],R_(r)),e}function sd(t){let e={},n=s(t,["_self"]);n!=null&&l(e,["image"],M_(n));let o=s(t,["raiFilteredReason"]);o!=null&&l(e,["raiFilteredReason"],o);let r=s(t,["_self"]);r!=null&&l(e,["safetyAttributes"],N_(r));let i=s(t,["prompt"]);return i!=null&&l(e,["enhancedPrompt"],i),e}function nL(t){let e={},n=s(t,["_self"]);n!=null&&l(e,["mask"],M_(n));let o=s(t,["labels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>IF(i))),l(e,["labels"],r)}return e}function oL(t){let e={},n=s(t,["_self"]);return n!=null&&l(e,["video"],T2(n)),e}function rL(t){let e={},n=s(t,["_self"]);return n!=null&&l(e,["video"],S2(n)),e}function iL(t,e){let n={},o=s(e,["model"]);return o!=null&&l(n,["_url","name"],ye(t,o)),n}function sL(t,e){let n={},o=s(e,["model"]);return o!=null&&l(n,["_url","name"],ye(t,o)),n}function aL(t){let e={},n=s(t,["authConfig"]);return n!=null&&l(e,["authConfig"],FP(n)),e}function lL(t){let e={},n=s(t,["dynamicRetrievalConfig"]);return n!=null&&l(e,["dynamicRetrievalConfig"],uF(n)),e}function uL(t){let e={},n=s(t,["dynamicRetrievalConfig"]);return n!=null&&l(e,["dynamicRetrievalConfig"],cF(n)),e}function cL(t){let e={},n=s(t,["timeRangeFilter"]);if(n!=null&&l(e,["timeRangeFilter"],pL(n)),s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function dL(t){let e={},n=s(t,["timeRangeFilter"]);n!=null&&l(e,["timeRangeFilter"],hL(n));let o=s(t,["excludeDomains"]);return o!=null&&l(e,["excludeDomains"],o),e}function fL(t){let e={},n=s(t,["bytesBase64Encoded"]);n!=null&&l(e,["imageBytes"],er(n));let o=s(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function M_(t){let e={},n=s(t,["gcsUri"]);n!=null&&l(e,["gcsUri"],n);let o=s(t,["bytesBase64Encoded"]);o!=null&&l(e,["imageBytes"],er(o));let r=s(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}function A_(t){let e={};if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");let n=s(t,["imageBytes"]);n!=null&&l(e,["bytesBase64Encoded"],er(n));let o=s(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function sn(t){let e={},n=s(t,["gcsUri"]);n!=null&&l(e,["gcsUri"],n);let o=s(t,["imageBytes"]);o!=null&&l(e,["bytesBase64Encoded"],er(o));let r=s(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}function pL(t){let e={},n=s(t,["startTime"]);n!=null&&l(e,["startTime"],n);let o=s(t,["endTime"]);return o!=null&&l(e,["endTime"],o),e}function hL(t){let e={},n=s(t,["startTime"]);n!=null&&l(e,["startTime"],n);let o=s(t,["endTime"]);return o!=null&&l(e,["endTime"],o),e}function mL(t){let e={},n=s(t,["latitude"]);n!=null&&l(e,["latitude"],n);let o=s(t,["longitude"]);return o!=null&&l(e,["longitude"],o),e}function gL(t){let e={},n=s(t,["latitude"]);n!=null&&l(e,["latitude"],n);let o=s(t,["longitude"]);return o!=null&&l(e,["longitude"],o),e}function vL(t,e,n){let o={},r=s(e,["pageSize"]);n!==void 0&&r!=null&&l(n,["_query","pageSize"],r);let i=s(e,["pageToken"]);n!==void 0&&i!=null&&l(n,["_query","pageToken"],i);let a=s(e,["filter"]);n!==void 0&&a!=null&&l(n,["_query","filter"],a);let u=s(e,["queryBase"]);return n!==void 0&&u!=null&&l(n,["_url","models_url"],p_(t,u)),o}function yL(t,e,n){let o={},r=s(e,["pageSize"]);n!==void 0&&r!=null&&l(n,["_query","pageSize"],r);let i=s(e,["pageToken"]);n!==void 0&&i!=null&&l(n,["_query","pageToken"],i);let a=s(e,["filter"]);n!==void 0&&a!=null&&l(n,["_query","filter"],a);let u=s(e,["queryBase"]);return n!==void 0&&u!=null&&l(n,["_url","models_url"],p_(t,u)),o}function CL(t,e){let n={},o=s(e,["config"]);return o!=null&&vL(t,o,n),n}function EL(t,e){let n={},o=s(e,["config"]);return o!=null&&yL(t,o,n),n}function _L(t){let e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=s(t,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);let r=s(t,["_self"]);if(r!=null){let i=h_(r);Array.isArray(i)&&(i=i.map(a=>Pm(a))),l(e,["models"],i)}return e}function TL(t){let e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=s(t,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);let r=s(t,["_self"]);if(r!=null){let i=h_(r);Array.isArray(i)&&(i=i.map(a=>Fm(a))),l(e,["models"],i)}return e}function SL(t){let e={},n=s(t,["maskMode"]);n!=null&&l(e,["maskMode"],n);let o=s(t,["segmentationClasses"]);o!=null&&l(e,["maskClasses"],o);let r=s(t,["maskDilation"]);return r!=null&&l(e,["dilation"],r),e}function Pm(t){let e={},n=s(t,["name"]);n!=null&&l(e,["name"],n);let o=s(t,["displayName"]);o!=null&&l(e,["displayName"],o);let r=s(t,["description"]);r!=null&&l(e,["description"],r);let i=s(t,["version"]);i!=null&&l(e,["version"],i);let a=s(t,["_self"]);a!=null&&l(e,["tunedModelInfo"],a2(a));let u=s(t,["inputTokenLimit"]);u!=null&&l(e,["inputTokenLimit"],u);let c=s(t,["outputTokenLimit"]);c!=null&&l(e,["outputTokenLimit"],c);let d=s(t,["supportedGenerationMethods"]);return d!=null&&l(e,["supportedActions"],d),e}function Fm(t){let e={},n=s(t,["name"]);n!=null&&l(e,["name"],n);let o=s(t,["displayName"]);o!=null&&l(e,["displayName"],o);let r=s(t,["description"]);r!=null&&l(e,["description"],r);let i=s(t,["versionId"]);i!=null&&l(e,["version"],i);let a=s(t,["deployedModels"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(h=>TF(h))),l(e,["endpoints"],p)}let u=s(t,["labels"]);u!=null&&l(e,["labels"],u);let c=s(t,["_self"]);c!=null&&l(e,["tunedModelInfo"],l2(c));let d=s(t,["defaultCheckpointId"]);d!=null&&l(e,["defaultCheckpointId"],d);let f=s(t,["checkpoints"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>$P(h))),l(e,["checkpoints"],p)}return e}function IL(t){let e={},n=s(t,["featureSelectionPreference"]);return n!=null&&l(e,["featureSelectionPreference"],n),e}function DL(t){let e={},n=s(t,["speakerVoiceConfigs"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>YL(r))),l(e,["speakerVoiceConfigs"],o)}return e}function wL(t){let e={},n=s(t,["videoMetadata"]);n!=null&&l(e,["videoMetadata"],w2(n));let o=s(t,["thought"]);o!=null&&l(e,["thought"],o);let r=s(t,["inlineData"]);r!=null&&l(e,["inlineData"],LP(r));let i=s(t,["fileData"]);i!=null&&l(e,["fileData"],DF(i));let a=s(t,["thoughtSignature"]);a!=null&&l(e,["thoughtSignature"],a);let u=s(t,["functionCall"]);u!=null&&l(e,["functionCall"],MF(u));let c=s(t,["codeExecutionResult"]);c!=null&&l(e,["codeExecutionResult"],c);let d=s(t,["executableCode"]);d!=null&&l(e,["executableCode"],d);let f=s(t,["functionResponse"]);f!=null&&l(e,["functionResponse"],f);let p=s(t,["text"]);return p!=null&&l(e,["text"],p),e}function xL(t){let e={},n=s(t,["videoMetadata"]);n!=null&&l(e,["videoMetadata"],x2(n));let o=s(t,["thought"]);o!=null&&l(e,["thought"],o);let r=s(t,["inlineData"]);r!=null&&l(e,["inlineData"],OP(r));let i=s(t,["fileData"]);i!=null&&l(e,["fileData"],wF(i));let a=s(t,["thoughtSignature"]);a!=null&&l(e,["thoughtSignature"],a);let u=s(t,["functionCall"]);u!=null&&l(e,["functionCall"],AF(u));let c=s(t,["codeExecutionResult"]);c!=null&&l(e,["codeExecutionResult"],c);let d=s(t,["executableCode"]);d!=null&&l(e,["executableCode"],d);let f=s(t,["functionResponse"]);f!=null&&l(e,["functionResponse"],f);let p=s(t,["text"]);return p!=null&&l(e,["text"],p),e}function bL(t){let e={},n=s(t,["videoMetadata"]);n!=null&&l(e,["videoMetadata"],b2(n));let o=s(t,["thought"]);o!=null&&l(e,["thought"],o);let r=s(t,["inlineData"]);r!=null&&l(e,["inlineData"],VP(r));let i=s(t,["fileData"]);i!=null&&l(e,["fileData"],xF(i));let a=s(t,["thoughtSignature"]);a!=null&&l(e,["thoughtSignature"],a);let u=s(t,["functionCall"]);u!=null&&l(e,["functionCall"],RF(u));let c=s(t,["codeExecutionResult"]);c!=null&&l(e,["codeExecutionResult"],c);let d=s(t,["executableCode"]);d!=null&&l(e,["executableCode"],d);let f=s(t,["functionResponse"]);f!=null&&l(e,["functionResponse"],f);let p=s(t,["text"]);return p!=null&&l(e,["text"],p),e}function ML(t){let e={},n=s(t,["videoMetadata"]);n!=null&&l(e,["videoMetadata"],M2(n));let o=s(t,["thought"]);o!=null&&l(e,["thought"],o);let r=s(t,["inlineData"]);r!=null&&l(e,["inlineData"],UP(r));let i=s(t,["fileData"]);i!=null&&l(e,["fileData"],bF(i));let a=s(t,["thoughtSignature"]);a!=null&&l(e,["thoughtSignature"],a);let u=s(t,["functionCall"]);u!=null&&l(e,["functionCall"],NF(u));let c=s(t,["codeExecutionResult"]);c!=null&&l(e,["codeExecutionResult"],c);let d=s(t,["executableCode"]);d!=null&&l(e,["executableCode"],d);let f=s(t,["functionResponse"]);f!=null&&l(e,["functionResponse"],f);let p=s(t,["text"]);return p!=null&&l(e,["text"],p),e}function AL(t){let e={},n=s(t,["voiceName"]);return n!=null&&l(e,["voiceName"],n),e}function RL(t){let e={},n=s(t,["voiceName"]);return n!=null&&l(e,["voiceName"],n),e}function NL(t){let e={},n=s(t,["productImage"]);return n!=null&&l(e,["image"],sn(n)),e}function kL(t,e){let n={},o=s(t,["numberOfImages"]);e!==void 0&&o!=null&&l(e,["parameters","sampleCount"],o);let r=s(t,["baseSteps"]);e!==void 0&&r!=null&&l(e,["parameters","editConfig","baseSteps"],r);let i=s(t,["outputGcsUri"]);e!==void 0&&i!=null&&l(e,["parameters","storageUri"],i);let a=s(t,["seed"]);e!==void 0&&a!=null&&l(e,["parameters","seed"],a);let u=s(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&l(e,["parameters","safetySetting"],u);let c=s(t,["personGeneration"]);e!==void 0&&c!=null&&l(e,["parameters","personGeneration"],c);let d=s(t,["addWatermark"]);e!==void 0&&d!=null&&l(e,["parameters","addWatermark"],d);let f=s(t,["outputMimeType"]);e!==void 0&&f!=null&&l(e,["parameters","outputOptions","mimeType"],f);let p=s(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&l(e,["parameters","outputOptions","compressionQuality"],p);let h=s(t,["enhancePrompt"]);return e!==void 0&&h!=null&&l(e,["parameters","enhancePrompt"],h),n}function PL(t,e){let n={},o=s(e,["model"]);o!=null&&l(n,["_url","model"],ye(t,o));let r=s(e,["source"]);r!=null&&LL(r,n);let i=s(e,["config"]);return i!=null&&kL(i,n),n}function FL(t){let e={},n=s(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>sd(r))),l(e,["generatedImages"],o)}return e}function LL(t,e){let n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&l(e,["instances[0]","prompt"],o);let r=s(t,["personImage"]);e!==void 0&&r!=null&&l(e,["instances[0]","personImage","image"],sn(r));let i=s(t,["productImages"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>NL(u))),l(e,["instances[0]","productImages"],a)}return n}function OL(t){let e={},n=s(t,["referenceImage"]);n!=null&&l(e,["referenceImage"],sn(n));let o=s(t,["referenceId"]);o!=null&&l(e,["referenceId"],o);let r=s(t,["referenceType"]);r!=null&&l(e,["referenceType"],r);let i=s(t,["maskImageConfig"]);i!=null&&l(e,["maskImageConfig"],SL(i));let a=s(t,["controlImageConfig"]);a!=null&&l(e,["controlImageConfig"],ZP(a));let u=s(t,["styleImageConfig"]);u!=null&&l(e,["styleImageConfig"],ZL(u));let c=s(t,["subjectImageConfig"]);return c!=null&&l(e,["subjectImageConfig"],XL(c)),e}function VL(t){let e={},n=s(t,["latLng"]);n!=null&&l(e,["latLng"],mL(n));let o=s(t,["languageCode"]);return o!=null&&l(e,["languageCode"],o),e}function UL(t){let e={},n=s(t,["latLng"]);n!=null&&l(e,["latLng"],gL(n));let o=s(t,["languageCode"]);return o!=null&&l(e,["languageCode"],o),e}function R_(t){let e={},n=s(t,["safetyAttributes","categories"]);n!=null&&l(e,["categories"],n);let o=s(t,["safetyAttributes","scores"]);o!=null&&l(e,["scores"],o);let r=s(t,["contentType"]);return r!=null&&l(e,["contentType"],r),e}function N_(t){let e={},n=s(t,["safetyAttributes","categories"]);n!=null&&l(e,["categories"],n);let o=s(t,["safetyAttributes","scores"]);o!=null&&l(e,["scores"],o);let r=s(t,["contentType"]);return r!=null&&l(e,["contentType"],r),e}function BL(t){let e={};if(s(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let n=s(t,["category"]);n!=null&&l(e,["category"],n);let o=s(t,["threshold"]);return o!=null&&l(e,["threshold"],o),e}function HL(t){let e={},n=s(t,["method"]);n!=null&&l(e,["method"],n);let o=s(t,["category"]);o!=null&&l(e,["category"],o);let r=s(t,["threshold"]);return r!=null&&l(e,["threshold"],r),e}function $L(t){let e={},n=s(t,["anyOf"]);n!=null&&l(e,["anyOf"],n);let o=s(t,["default"]);o!=null&&l(e,["default"],o);let r=s(t,["description"]);r!=null&&l(e,["description"],r);let i=s(t,["enum"]);i!=null&&l(e,["enum"],i);let a=s(t,["example"]);a!=null&&l(e,["example"],a);let u=s(t,["format"]);u!=null&&l(e,["format"],u);let c=s(t,["items"]);c!=null&&l(e,["items"],c);let d=s(t,["maxItems"]);d!=null&&l(e,["maxItems"],d);let f=s(t,["maxLength"]);f!=null&&l(e,["maxLength"],f);let p=s(t,["maxProperties"]);p!=null&&l(e,["maxProperties"],p);let h=s(t,["maximum"]);h!=null&&l(e,["maximum"],h);let m=s(t,["minItems"]);m!=null&&l(e,["minItems"],m);let E=s(t,["minLength"]);E!=null&&l(e,["minLength"],E);let T=s(t,["minProperties"]);T!=null&&l(e,["minProperties"],T);let D=s(t,["minimum"]);D!=null&&l(e,["minimum"],D);let w=s(t,["nullable"]);w!=null&&l(e,["nullable"],w);let R=s(t,["pattern"]);R!=null&&l(e,["pattern"],R);let L=s(t,["properties"]);L!=null&&l(e,["properties"],L);let q=s(t,["propertyOrdering"]);q!=null&&l(e,["propertyOrdering"],q);let J=s(t,["required"]);J!=null&&l(e,["required"],J);let fe=s(t,["title"]);fe!=null&&l(e,["title"],fe);let ve=s(t,["type"]);return ve!=null&&l(e,["type"],ve),e}function qL(t){let e={},n=s(t,["anyOf"]);n!=null&&l(e,["anyOf"],n);let o=s(t,["default"]);o!=null&&l(e,["default"],o);let r=s(t,["description"]);r!=null&&l(e,["description"],r);let i=s(t,["enum"]);i!=null&&l(e,["enum"],i);let a=s(t,["example"]);a!=null&&l(e,["example"],a);let u=s(t,["format"]);u!=null&&l(e,["format"],u);let c=s(t,["items"]);c!=null&&l(e,["items"],c);let d=s(t,["maxItems"]);d!=null&&l(e,["maxItems"],d);let f=s(t,["maxLength"]);f!=null&&l(e,["maxLength"],f);let p=s(t,["maxProperties"]);p!=null&&l(e,["maxProperties"],p);let h=s(t,["maximum"]);h!=null&&l(e,["maximum"],h);let m=s(t,["minItems"]);m!=null&&l(e,["minItems"],m);let E=s(t,["minLength"]);E!=null&&l(e,["minLength"],E);let T=s(t,["minProperties"]);T!=null&&l(e,["minProperties"],T);let D=s(t,["minimum"]);D!=null&&l(e,["minimum"],D);let w=s(t,["nullable"]);w!=null&&l(e,["nullable"],w);let R=s(t,["pattern"]);R!=null&&l(e,["pattern"],R);let L=s(t,["properties"]);L!=null&&l(e,["properties"],L);let q=s(t,["propertyOrdering"]);q!=null&&l(e,["propertyOrdering"],q);let J=s(t,["required"]);J!=null&&l(e,["required"],J);let fe=s(t,["title"]);fe!=null&&l(e,["title"],fe);let ve=s(t,["type"]);return ve!=null&&l(e,["type"],ve),e}function GL(t){let e={},n=s(t,["image"]);return n!=null&&l(e,["image"],sn(n)),e}function zL(t,e){let n={},o=s(t,["mode"]);e!==void 0&&o!=null&&l(e,["parameters","mode"],o);let r=s(t,["maxPredictions"]);e!==void 0&&r!=null&&l(e,["parameters","maxPredictions"],r);let i=s(t,["confidenceThreshold"]);e!==void 0&&i!=null&&l(e,["parameters","confidenceThreshold"],i);let a=s(t,["maskDilation"]);e!==void 0&&a!=null&&l(e,["parameters","maskDilation"],a);let u=s(t,["binaryColorThreshold"]);return e!==void 0&&u!=null&&l(e,["parameters","binaryColorThreshold"],u),n}function WL(t,e){let n={},o=s(e,["model"]);o!=null&&l(n,["_url","model"],ye(t,o));let r=s(e,["source"]);r!=null&&JL(r,n);let i=s(e,["config"]);return i!=null&&zL(i,n),n}function jL(t){let e={},n=s(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>nL(r))),l(e,["generatedMasks"],o)}return e}function JL(t,e){let n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&l(e,["instances[0]","prompt"],o);let r=s(t,["image"]);e!==void 0&&r!=null&&l(e,["instances[0]","image"],sn(r));let i=s(t,["scribbleImage"]);return e!==void 0&&i!=null&&l(e,["instances[0]","scribble"],GL(i)),n}function YL(t){let e={},n=s(t,["speaker"]);n!=null&&l(e,["speaker"],n);let o=s(t,["voiceConfig"]);return o!=null&&l(e,["voiceConfig"],F_(o)),e}function KL(t){let e={},n=s(t,["voiceConfig"]);n!=null&&l(e,["voiceConfig"],F_(n));let o=s(t,["multiSpeakerVoiceConfig"]);o!=null&&l(e,["multiSpeakerVoiceConfig"],DL(o));let r=s(t,["languageCode"]);return r!=null&&l(e,["languageCode"],r),e}function QL(t){let e={},n=s(t,["voiceConfig"]);if(n!=null&&l(e,["voiceConfig"],A2(n)),s(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");let o=s(t,["languageCode"]);return o!=null&&l(e,["languageCode"],o),e}function ZL(t){let e={},n=s(t,["styleDescription"]);return n!=null&&l(e,["styleDescription"],n),e}function XL(t){let e={},n=s(t,["subjectType"]);n!=null&&l(e,["subjectType"],n);let o=s(t,["subjectDescription"]);return o!=null&&l(e,["subjectDescription"],o),e}function e2(t){let e={},n=s(t,["includeThoughts"]);n!=null&&l(e,["includeThoughts"],n);let o=s(t,["thinkingBudget"]);return o!=null&&l(e,["thinkingBudget"],o),e}function t2(t){let e={},n=s(t,["includeThoughts"]);n!=null&&l(e,["includeThoughts"],n);let o=s(t,["thinkingBudget"]);return o!=null&&l(e,["thinkingBudget"],o),e}function n2(t){let e={},n=s(t,["environment"]);n!=null&&l(e,["environment"],n);let o=s(t,["excludedPredefinedFunctions"]);return o!=null&&l(e,["excludedPredefinedFunctions"],o),e}function o2(t){let e={},n=s(t,["environment"]);n!=null&&l(e,["environment"],n);let o=s(t,["excludedPredefinedFunctions"]);return o!=null&&l(e,["excludedPredefinedFunctions"],o),e}function r2(t){let e={},n=s(t,["functionCallingConfig"]);n!=null&&l(e,["functionCallingConfig"],kF(n));let o=s(t,["retrievalConfig"]);return o!=null&&l(e,["retrievalConfig"],VL(o)),e}function i2(t){let e={},n=s(t,["functionCallingConfig"]);n!=null&&l(e,["functionCallingConfig"],PF(n));let o=s(t,["retrievalConfig"]);return o!=null&&l(e,["retrievalConfig"],UL(o)),e}function s2(t){let e={},n=s(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>FF(d))),l(e,["functionDeclarations"],c)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let o=s(t,["googleSearch"]);o!=null&&l(e,["googleSearch"],cL(o));let r=s(t,["googleSearchRetrieval"]);if(r!=null&&l(e,["googleSearchRetrieval"],lL(r)),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(t,["urlContext"])!=null&&l(e,["urlContext"],y2());let a=s(t,["computerUse"]);a!=null&&l(e,["computerUse"],n2(a));let u=s(t,["codeExecution"]);return u!=null&&l(e,["codeExecution"],u),e}function k_(t){let e={},n=s(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>LF(h))),l(e,["functionDeclarations"],p)}let o=s(t,["retrieval"]);o!=null&&l(e,["retrieval"],o);let r=s(t,["googleSearch"]);r!=null&&l(e,["googleSearch"],dL(r));let i=s(t,["googleSearchRetrieval"]);i!=null&&l(e,["googleSearchRetrieval"],uL(i));let a=s(t,["enterpriseWebSearch"]);a!=null&&l(e,["enterpriseWebSearch"],SF(a));let u=s(t,["googleMaps"]);u!=null&&l(e,["googleMaps"],aL(u)),s(t,["urlContext"])!=null&&l(e,["urlContext"],C2());let d=s(t,["computerUse"]);d!=null&&l(e,["computerUse"],o2(d));let f=s(t,["codeExecution"]);return f!=null&&l(e,["codeExecution"],f),e}function a2(t){let e={},n=s(t,["baseModel"]);n!=null&&l(e,["baseModel"],n);let o=s(t,["createTime"]);o!=null&&l(e,["createTime"],o);let r=s(t,["updateTime"]);return r!=null&&l(e,["updateTime"],r),e}function l2(t){let e={},n=s(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&l(e,["baseModel"],n);let o=s(t,["createTime"]);o!=null&&l(e,["createTime"],o);let r=s(t,["updateTime"]);return r!=null&&l(e,["updateTime"],r),e}function u2(t,e){let n={},o=s(t,["displayName"]);e!==void 0&&o!=null&&l(e,["displayName"],o);let r=s(t,["description"]);e!==void 0&&r!=null&&l(e,["description"],r);let i=s(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&l(e,["defaultCheckpointId"],i),n}function c2(t,e){let n={},o=s(t,["displayName"]);e!==void 0&&o!=null&&l(e,["displayName"],o);let r=s(t,["description"]);e!==void 0&&r!=null&&l(e,["description"],r);let i=s(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&l(e,["defaultCheckpointId"],i),n}function d2(t,e){let n={},o=s(e,["model"]);o!=null&&l(n,["_url","name"],ye(t,o));let r=s(e,["config"]);return r!=null&&u2(r,n),n}function f2(t,e){let n={},o=s(e,["model"]);o!=null&&l(n,["_url","model"],ye(t,o));let r=s(e,["config"]);return r!=null&&c2(r,n),n}function p2(t,e){let n={},o=s(t,["outputGcsUri"]);e!==void 0&&o!=null&&l(e,["parameters","storageUri"],o);let r=s(t,["includeRaiReason"]);e!==void 0&&r!=null&&l(e,["parameters","includeRaiReason"],r);let i=s(t,["outputMimeType"]);e!==void 0&&i!=null&&l(e,["parameters","outputOptions","mimeType"],i);let a=s(t,["outputCompressionQuality"]);e!==void 0&&a!=null&&l(e,["parameters","outputOptions","compressionQuality"],a);let u=s(t,["enhanceInputImage"]);e!==void 0&&u!=null&&l(e,["parameters","upscaleConfig","enhanceInputImage"],u);let c=s(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&l(e,["parameters","upscaleConfig","imagePreservationFactor"],c);let d=s(t,["numberOfImages"]);e!==void 0&&d!=null&&l(e,["parameters","sampleCount"],d);let f=s(t,["mode"]);return e!==void 0&&f!=null&&l(e,["parameters","mode"],f),n}function h2(t,e){let n={},o=s(e,["model"]);o!=null&&l(n,["_url","model"],ye(t,o));let r=s(e,["image"]);r!=null&&l(n,["instances[0]","image"],sn(r));let i=s(e,["upscaleFactor"]);i!=null&&l(n,["parameters","upscaleConfig","upscaleFactor"],i);let a=s(e,["config"]);return a!=null&&p2(a,n),n}function m2(t){let e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=s(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>sd(i))),l(e,["generatedImages"],r)}return e}function g2(t){let e={},n=s(t,["urlMetadata"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>E2(r))),l(e,["urlMetadata"],o)}return e}function v2(t){let e={},n=s(t,["urlMetadata"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>_2(r))),l(e,["urlMetadata"],o)}return e}function y2(){return{}}function C2(){return{}}function E2(t){let e={},n=s(t,["retrievedUrl"]);n!=null&&l(e,["retrievedUrl"],n);let o=s(t,["urlRetrievalStatus"]);return o!=null&&l(e,["urlRetrievalStatus"],o),e}function _2(t){let e={},n=s(t,["retrievedUrl"]);n!=null&&l(e,["retrievedUrl"],n);let o=s(t,["urlRetrievalStatus"]);return o!=null&&l(e,["urlRetrievalStatus"],o),e}function T2(t){let e={},n=s(t,["video","uri"]);n!=null&&l(e,["uri"],n);let o=s(t,["video","encodedVideo"]);o!=null&&l(e,["videoBytes"],er(o));let r=s(t,["encoding"]);return r!=null&&l(e,["mimeType"],r),e}function S2(t){let e={},n=s(t,["gcsUri"]);n!=null&&l(e,["uri"],n);let o=s(t,["bytesBase64Encoded"]);o!=null&&l(e,["videoBytes"],er(o));let r=s(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}function I2(t){let e={},n=s(t,["image"]);n!=null&&l(e,["_self"],sn(n));let o=s(t,["maskMode"]);return o!=null&&l(e,["maskMode"],o),e}function D2(t){let e={},n=s(t,["image"]);n!=null&&l(e,["image"],sn(n));let o=s(t,["referenceType"]);return o!=null&&l(e,["referenceType"],o),e}function w2(t){let e={},n=s(t,["fps"]);n!=null&&l(e,["fps"],n);let o=s(t,["endOffset"]);o!=null&&l(e,["endOffset"],o);let r=s(t,["startOffset"]);return r!=null&&l(e,["startOffset"],r),e}function x2(t){let e={},n=s(t,["fps"]);n!=null&&l(e,["fps"],n);let o=s(t,["endOffset"]);o!=null&&l(e,["endOffset"],o);let r=s(t,["startOffset"]);return r!=null&&l(e,["startOffset"],r),e}function b2(t){let e={},n=s(t,["fps"]);n!=null&&l(e,["fps"],n);let o=s(t,["endOffset"]);o!=null&&l(e,["endOffset"],o);let r=s(t,["startOffset"]);return r!=null&&l(e,["startOffset"],r),e}function M2(t){let e={},n=s(t,["fps"]);n!=null&&l(e,["fps"],n);let o=s(t,["endOffset"]);o!=null&&l(e,["endOffset"],o);let r=s(t,["startOffset"]);return r!=null&&l(e,["startOffset"],r),e}function P_(t){let e={},n=s(t,["uri"]);n!=null&&l(e,["gcsUri"],n);let o=s(t,["videoBytes"]);o!=null&&l(e,["bytesBase64Encoded"],er(o));let r=s(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}function F_(t){let e={},n=s(t,["prebuiltVoiceConfig"]);return n!=null&&l(e,["prebuiltVoiceConfig"],AL(n)),e}function A2(t){let e={},n=s(t,["prebuiltVoiceConfig"]);return n!=null&&l(e,["prebuiltVoiceConfig"],RL(n)),e}var R2="Content-Type",N2="X-Server-Timeout",k2="User-Agent",Lm="x-goog-api-client",P2="1.21.0",F2=`google-genai-sdk/${P2}`,L2="v1beta1",O2="v1beta",ZE=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/,Om=class{constructor(e){var n,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});let r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:L2,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:O2,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");let o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){let e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,o){let r=[this.getRequestUrlInternal(n)];return o&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,o);if(e.queryParams)for(let[a,u]of Object.entries(e.queryParams))r.searchParams.append(a,String(u));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,e.abortSignal),this.unaryApiCall(r,i,e.httpMethod)}patchHttpOptions(e,n){let o=JSON.parse(JSON.stringify(e));for(let[r,i]of Object.entries(n))typeof i=="object"?o[r]=Object.assign(Object.assign({},o[r]),i):i!==void 0&&(o[r]=i);return o}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,e.abortSignal),this.streamApiCall(r,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,o){if(n&&n.timeout||o){let r=new AbortController,i=r.signal;if(n.timeout&&n?.timeout>0){let a=setTimeout(()=>r.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}o&&o.addEventListener("abort",()=>{r.abort()}),e.signal=i}return n&&n.extraBody!==null&&V2(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await XE(r),new Va(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await XE(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var n;return Oi(this,arguments,function*(){let r=(n=e?.body)===null||n===void 0?void 0:n.getReader(),i=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let a="";for(;;){let{done:u,value:c}=yield ke(r.read());if(u){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}let d=i.decode(c,{stream:!0});try{let p=JSON.parse(d);if("error"in p){let h=JSON.parse(JSON.stringify(p.error)),m=h.status,E=h.code,T=`got status: ${m}. ${JSON.stringify(p)}`;if(E>=400&&E<600)throw new od({message:T,status:E})}}catch(p){if(p.name==="ApiError")throw p}a+=d;let f=a.match(ZE);for(;f;){let p=f[1];try{let h=new Response(p,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield ke(new Va(h)),a=a.slice(f[0].length),f=a.match(ZE)}catch(h){throw new Error(`exception parsing stream chunk ${p}. ${h}`)}}}}finally{r.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){let e={},n=F2+" "+this.clientOptions.userAgentExtra;return e[k2]=n,e[Lm]=n,e[R2]="application/json",e}async getHeadersInternal(e){let n=new Headers;if(e&&e.headers){for(let[o,r]of Object.entries(e.headers))n.append(o,r);e.timeout&&e.timeout>0&&n.append(N2,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var o;let r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);let i=this.clientOptions.uploader,a=await i.stat(e);r.sizeBytes=String(a.size);let u=(o=n?.mimeType)!==null&&o!==void 0?o:a.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=u;let c=await this.fetchUploadUrl(r,n);return i.upload(e,c,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var o;let r={};n?.httpOptions?r=n.httpOptions:r={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};let i={file:e},a=await this.request({path:B("upload/v1beta/files",i._url),body:JSON.stringify(i),httpMethod:"POST",httpOptions:r});if(!a||!a?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");let u=(o=a?.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}};async function XE(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){let n=t.status,o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};let r=JSON.stringify(o);throw n>=400&&n<600?new od({message:r,status:n}):new Error(r)}}function V2(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{let i=JSON.parse(t.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(i,a){let u=Object.assign({},i);for(let c in a)if(Object.prototype.hasOwnProperty.call(a,c)){let d=a[c],f=u[c];d&&typeof d=="object"&&!Array.isArray(d)&&f&&typeof f=="object"&&!Array.isArray(f)?u[c]=o(f,d):(f&&d&&typeof f!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof f}, New type: ${typeof d}. Overwriting.`),u[c]=d)}return u}let r=o(n,e);t.body=JSON.stringify(r)}var U2="mcp_used/unknown",B2=!1;function L_(t){for(let e of t)if(H2(e)||typeof e=="object"&&"inputSchema"in e)return!0;return B2}function O_(t){var e;let n=(e=t[Lm])!==null&&e!==void 0?e:"";t[Lm]=(n+` ${U2}`).trimStart()}function H2(t){return t!==null&&typeof t=="object"&&t instanceof Vm}function $2(t,e=100){return Oi(this,arguments,function*(){let o,r=0;for(;r<e;){let i=yield ke(t.listTools({cursor:o}));for(let a of i.tools)yield yield ke(a),r++;if(!i.nextCursor)break;o=i.nextCursor}})}var Vm=class t{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new t(e,n)}async initialize(){var e,n,o,r;if(this.mcpTools.length>0)return;let i={},a=[];for(let f of this.mcpClients)try{for(var u=!0,c=(n=void 0,Oa($2(f))),d;d=await c.next(),e=d.done,!e;u=!0){r=d.value,u=!1;let p=r;a.push(p);let h=p.name;if(i[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);i[h]=f}}catch(p){n={error:p}}finally{try{!u&&!e&&(o=c.return)&&await o.call(c)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),uR(this.mcpTools,this.config)}async callTool(e){await this.initialize();let n=[];for(let o of e)if(o.name in this.functionNameToMcpClient){let r=this.functionNameToMcpClient[o.name],i;this.config.timeout&&(i={timeout:this.config.timeout});let a=await r.callTool({name:o.name,arguments:o.args},void 0,i);n.push({functionResponse:{name:o.name,response:a.isError?{error:a}:a}})}return n}};async function q2(t,e,n){let o=new Im,r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data);let i=kk(r);Object.assign(o,i),e(o)}var Um=class{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o}async connect(e){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");let r=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),a=z2(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${r}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${u}`,d=()=>{},f=new Promise(L=>{d=L}),p=e.callbacks,h=function(){d({})},m=this.apiClient,E={onopen:h,onmessage:L=>{q2(m,p.onmessage,L)},onerror:(n=p?.onerror)!==null&&n!==void 0?n:function(L){},onclose:(o=p?.onclose)!==null&&o!==void 0?o:function(L){}},T=this.webSocketFactory.create(c,G2(a),E);T.connect(),await f;let D=ye(this.apiClient,e.model),w=D_({model:D}),R=km({setup:w});return T.send(JSON.stringify(R)),new Bm(T,this.apiClient)}},Bm=class{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");let n=Lk(e),o=I_(n);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});let n=Fk(e),o=km(n);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){let n=km({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(La.PLAY)}pause(){this.sendPlaybackControl(La.PAUSE)}stop(){this.sendPlaybackControl(La.STOP)}resetContext(){this.sendPlaybackControl(La.RESET_CONTEXT)}close(){this.conn.close()}};function G2(t){let e={};return t.forEach((n,o)=>{e[o]=n}),e}function z2(t){let e=new Headers;for(let[n,o]of Object.entries(t))e.append(n,o);return e}var W2="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function j2(t,e,n){let o=new Sm,r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;let i=JSON.parse(r);if(t.isVertexAI()){let a=zk(i);Object.assign(o,a)}else{let a=Gk(i);Object.assign(o,a)}e(o)}var Hm=class{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o,this.music=new Um(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,o,r,i,a,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");let c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),f,p=this.apiClient.getHeaders();e.config&&e.config.tools&&L_(e.config.tools)&&O_(p);let h=K2(p);if(this.apiClient.isVertexAI())f=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h);else{let ue=this.apiClient.getApiKey(),Ae="BidiGenerateContent",De="key";ue?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Ae="BidiGenerateContentConstrained",De="access_token"),f=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${Ae}?${De}=${ue}`}let m=()=>{},E=new Promise(ue=>{m=ue}),T=e.callbacks,D=function(){var ue;(ue=T?.onopen)===null||ue===void 0||ue.call(T),m({})},w=this.apiClient,R={onopen:D,onmessage:ue=>{j2(w,T.onmessage,ue)},onerror:(n=T?.onerror)!==null&&n!==void 0?n:function(ue){},onclose:(o=T?.onclose)!==null&&o!==void 0?o:function(ue){}},L=this.webSocketFactory.create(f,Y2(h),R);L.connect(),await E;let q=ye(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&q.startsWith("publishers/")){let ue=this.apiClient.getProject(),Ae=this.apiClient.getLocation();q=`projects/${ue}/locations/${Ae}/`+q}let J={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[hm.AUDIO]}:e.config.responseModalities=[hm.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");let fe=(u=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[],ve=[];for(let ue of fe)if(this.isCallableTool(ue)){let Ae=ue;ve.push(await Ae.tool())}else ve.push(ue);ve.length>0&&(e.config.tools=ve);let tt={model:q,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?J=bk(this.apiClient,tt):J=xk(this.apiClient,tt),delete J.config,L.send(JSON.stringify(J)),new $m(L,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}},J2={turnComplete:!0},$m=class{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=Gt(n.turns),e.isVertexAI()?o=o.map(r=>qi(r)):o=o.map(r=>id(r))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(let i of o){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(W2)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},J2),e);let n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Uk(e)}:n={realtimeInput:Vk(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");let n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}};function Y2(t){let e={};return t.forEach((n,o)=>{e[o]=n}),e}function K2(t){let e=new Headers;for(let[n,o]of Object.entries(t))e.append(n,o);return e}var e_=10;function t_(t){var e,n,o;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(let a of(n=t?.tools)!==null&&n!==void 0?n:[])if(Vi(a)){r=!0;break}if(!r)return!0;let i=(o=t?.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function Vi(t){return"callTool"in t&&typeof t.callTool=="function"}function Q2(t){var e,n,o;return(o=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>Vi(r)))!==null&&o!==void 0?o:!1}function Z2(t){var e,n,o;return(o=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>!Vi(r)))!==null&&o!==void 0?o:!1}function n_(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}var qm=class extends Bn{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var o,r,i,a,u;let c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Q2(n)||t_(n.config))return await this.generateContentInternal(c);if(Z2(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let d,f,p=Gt(c.contents),h=(i=(r=(o=c.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:e_,m=0;for(;m<h&&(d=await this.generateContentInternal(c),!(!d.functionCalls||d.functionCalls.length===0));){let E=d.candidates[0].content,T=[];for(let D of(u=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[])if(Vi(D)){let R=await D.callTool(d.functionCalls);T.push(...R)}m++,f={role:"user",parts:T},c.contents=Gt(c.contents),c.contents.push(E),c.contents.push(f),n_(c.config)&&(p.push(E),p.push(f))}return n_(c.config)&&(d.automaticFunctionCallingHistory=p),d},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),t_(n.config)){let o=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(o)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var r;let i,a=[];if(o?.generatedImages)for(let c of o.generatedImages)c&&c?.safetyAttributes&&((r=c?.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?i=c?.safetyAttributes:a.push(c);let u;return i?u={generatedImages:a,positivePromptSafetyAttributes:i,sdkHttpResponse:o.sdkHttpResponse}:u={generatedImages:a,sdkHttpResponse:o.sdkHttpResponse},u}),this.list=async n=>{var o;let a={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((o=a.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Xo($i.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(a),a)},this.editImage=async n=>{let o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));let r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,o,r;let i=(n=e.config)===null||n===void 0?void 0:n.tools;if(!i)return e;let a=await Promise.all(i.map(async c=>Vi(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(u.config.tools=a,e.config&&e.config.tools&&L_(e.config.tools)){let c=(r=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{},d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),O_(d),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(e){var n,o,r;let i=new Map;for(let a of(o=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(Vi(a)){let u=a,c=await u.tool();for(let d of(r=c.functionDeclarations)!==null&&r!==void 0?r:[]){if(!d.name)throw new Error("Function declaration name is required.");if(i.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);i.set(d.name,u)}}return i}async processAfcStream(e){var n,o,r;let i=(r=(o=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:e_,a=!1,u=0,c=await this.initAfcToolsMap(e);return(function(d,f,p){var h,m;return Oi(this,arguments,function*(){for(var E,T,D,w;u<i;){a&&(u++,a=!1);let J=yield ke(d.processParamsMaybeAddMcpUsage(p)),fe=yield ke(d.generateContentStreamInternal(J)),ve=[],tt=[];try{for(var R=!0,L=(T=void 0,Oa(fe)),q;q=yield ke(L.next()),E=q.done,!E;R=!0){w=q.value,R=!1;let ue=w;if(yield yield ke(ue),ue.candidates&&(!((h=ue.candidates[0])===null||h===void 0)&&h.content)){tt.push(ue.candidates[0].content);for(let Ae of(m=ue.candidates[0].content.parts)!==null&&m!==void 0?m:[])if(u<i&&Ae.functionCall){if(!Ae.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(Ae.functionCall.name)){let De=yield ke(f.get(Ae.functionCall.name).callTool([Ae.functionCall]));ve.push(...De)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${Ae.functionCall.name}`)}}}}catch(ue){T={error:ue}}finally{try{!R&&!E&&(D=L.return)&&(yield ke(D.call(L)))}finally{if(T)throw T.error}}if(ve.length>0){a=!0;let ue=new Qo;ue.candidates=[{content:{role:"user",parts:ve}}],yield yield ke(ue);let Ae=[];Ae.push(...tt),Ae.push({role:"user",parts:ve});let De=Gt(p.contents).concat(Ae);p.contents=De}else break}})})(this,c,e)}async generateContentInternal(e){var n,o,r,i;let a,u="",c={};if(this.apiClient.isVertexAI()){let d=YE(this.apiClient,e);return u=B("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),a.then(f=>{let p=QE(f),h=new Qo;return Object.assign(h,p),h})}else{let d=JE(this.apiClient,e);return u=B("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),a.then(f=>{let p=KE(f),h=new Qo;return Object.assign(h,p),h})}}async generateContentStreamInternal(e){var n,o,r,i;let a,u="",c={};if(this.apiClient.isVertexAI()){let d=YE(this.apiClient,e);return u=B("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(p){return Oi(this,arguments,function*(){var h,m,E,T;try{for(var D=!0,w=Oa(p),R;R=yield ke(w.next()),h=R.done,!h;D=!0){T=R.value,D=!1;let L=T,q=QE(yield ke(L.json()));q.sdkHttpResponse={headers:L.headers};let J=new Qo;Object.assign(J,q),yield yield ke(J)}}catch(L){m={error:L}}finally{try{!D&&!h&&(E=w.return)&&(yield ke(E.call(w)))}finally{if(m)throw m.error}}})})}else{let d=JE(this.apiClient,e);return u=B("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),a.then(function(p){return Oi(this,arguments,function*(){var h,m,E,T;try{for(var D=!0,w=Oa(p),R;R=yield ke(w.next()),h=R.done,!h;D=!0){T=R.value,D=!1;let L=T,q=KE(yield ke(L.json()));q.sdkHttpResponse={headers:L.headers};let J=new Qo;Object.assign(J,q),yield yield ke(J)}}catch(L){m={error:L}}finally{try{!D&&!h&&(E=w.return)&&(yield ke(E.call(w)))}finally{if(m)throw m.error}}})})}}async embedContent(e){var n,o,r,i;let a,u="",c={};if(this.apiClient.isVertexAI()){let d=CF(this.apiClient,e);return u=B("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),a.then(f=>{let p=_F(f),h=new Wc;return Object.assign(h,p),h})}else{let d=yF(this.apiClient,e);return u=B("{model}:batchEmbedContents",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),a.then(f=>{let p=EF(f),h=new Wc;return Object.assign(h,p),h})}}async generateImagesInternal(e){var n,o,r,i;let a,u="",c={};if(this.apiClient.isVertexAI()){let d=$F(this.apiClient,e);return u=B("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),a.then(f=>{let p=GF(f),h=new jc;return Object.assign(h,p),h})}else{let d=HF(this.apiClient,e);return u=B("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),a.then(f=>{let p=qF(f),h=new jc;return Object.assign(h,p),h})}}async editImageInternal(e){var n,o;let r,i="",a={};if(this.apiClient.isVertexAI()){let u=fF(this.apiClient,e);return i=B("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{let d=pF(c),f=new mm;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,o;let r,i="",a={};if(this.apiClient.isVertexAI()){let u=h2(this.apiClient,e);return i=B("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{let d=m2(c),f=new gm;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,o;let r,i="",a={};if(this.apiClient.isVertexAI()){let u=PL(this.apiClient,e);return i=B("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=FL(c),f=new vm;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,o;let r,i="",a={};if(this.apiClient.isVertexAI()){let u=WL(this.apiClient,e);return i=B("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=jL(c),f=new ym;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,o,r,i;let a,u="",c={};if(this.apiClient.isVertexAI()){let d=sL(this.apiClient,e);return u=B("{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>Fm(f))}else{let d=iL(this.apiClient,e);return u=B("{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>Pm(f))}}async listInternal(e){var n,o,r,i;let a,u="",c={};if(this.apiClient.isVertexAI()){let d=EL(this.apiClient,e);return u=B("{models_url}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),a.then(f=>{let p=TL(f),h=new Jc;return Object.assign(h,p),h})}else{let d=CL(this.apiClient,e);return u=B("{models_url}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),a.then(f=>{let p=_L(f),h=new Jc;return Object.assign(h,p),h})}}async update(e){var n,o,r,i;let a,u="",c={};if(this.apiClient.isVertexAI()){let d=f2(this.apiClient,e);return u=B("{model}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>Fm(f))}else{let d=d2(this.apiClient,e);return u=B("{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>Pm(f))}}async delete(e){var n,o,r,i;let a,u="",c={};if(this.apiClient.isVertexAI()){let d=sF(this.apiClient,e);return u=B("{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),a.then(f=>{let p=lF(f),h=new Yc;return Object.assign(h,p),h})}else{let d=iF(this.apiClient,e);return u=B("{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),a.then(f=>{let p=aF(f),h=new Yc;return Object.assign(h,p),h})}}async countTokens(e){var n,o,r,i;let a,u="",c={};if(this.apiClient.isVertexAI()){let d=nF(this.apiClient,e);return u=B("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),a.then(f=>{let p=rF(f),h=new Kc;return Object.assign(h,p),h})}else{let d=tF(this.apiClient,e);return u=B("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),a.then(f=>{let p=oF(f),h=new Kc;return Object.assign(h,p),h})}}async computeTokens(e){var n,o;let r,i="",a={};if(this.apiClient.isVertexAI()){let u=zP(this.apiClient,e);return i=B("{model}:computeTokens",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{let d=WP(c),f=new Cm;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,o,r,i;let a,u="",c={};if(this.apiClient.isVertexAI()){let d=KF(this.apiClient,e);return u=B("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>{let p=JF(f),h=new Qc;return Object.assign(h,p),h})}else{let d=YF(this.apiClient,e);return u=B("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>{let p=jF(f),h=new Qc;return Object.assign(h,p),h})}}};var Gm=class extends Bn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){let n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let r=n.name.split("/operations/")[0],i;o&&"httpOptions"in o&&(i=o.httpOptions);let a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:a,isVertexAI:!0})}else{let r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,isVertexAI:!1})}}async get(e){let n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let r=n.name.split("/operations/")[0],i;o&&"httpOptions"in o&&(i=o.httpOptions);let a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:a,isVertexAI:!0})}else{let r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,o,r,i;let a,u="",c={};if(this.apiClient.isVertexAI()){let d=XA(e);return u=B("{operationName}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a}else{let d=ZA(e);return u=B("{operationName}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a}}async fetchPredictVideosOperationInternal(e){var n,o;let r,i="",a={};if(this.apiClient.isVertexAI()){let u=zA(e);return i=B("{resourceName}:fetchPredictOperation",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}};function o_(){return{}}function X2(t){let e={},n=s(t,["name"]);return n!=null&&l(e,["name"],n),e}function eO(t){let e={},n=s(t,["disabled"]);n!=null&&l(e,["disabled"],n);let o=s(t,["startOfSpeechSensitivity"]);o!=null&&l(e,["startOfSpeechSensitivity"],o);let r=s(t,["endOfSpeechSensitivity"]);r!=null&&l(e,["endOfSpeechSensitivity"],r);let i=s(t,["prefixPaddingMs"]);i!=null&&l(e,["prefixPaddingMs"],i);let a=s(t,["silenceDurationMs"]);return a!=null&&l(e,["silenceDurationMs"],a),e}function tO(t){let e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=s(t,["data"]);n!=null&&l(e,["data"],n);let o=s(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function nO(t){let e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>gO(i))),l(e,["parts"],r)}let o=s(t,["role"]);return o!=null&&l(e,["role"],o),e}function oO(t){let e={},n=s(t,["triggerTokens"]);n!=null&&l(e,["triggerTokens"],n);let o=s(t,["slidingWindow"]);return o!=null&&l(e,["slidingWindow"],_O(o)),e}function rO(t,e,n){let o={},r=s(e,["expireTime"]);n!==void 0&&r!=null&&l(n,["expireTime"],r);let i=s(e,["newSessionExpireTime"]);n!==void 0&&i!=null&&l(n,["newSessionExpireTime"],i);let a=s(e,["uses"]);n!==void 0&&a!=null&&l(n,["uses"],a);let u=s(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&l(n,["bidiGenerateContentSetup"],hO(t,u));let c=s(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&l(n,["fieldMask"],c),o}function iO(t,e){let n={},o=s(e,["config"]);return o!=null&&l(n,["config"],rO(t,o,n)),n}function sO(t){let e={},n=s(t,["mode"]);n!=null&&l(e,["mode"],n);let o=s(t,["dynamicThreshold"]);return o!=null&&l(e,["dynamicThreshold"],o),e}function aO(t){let e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=s(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);let o=s(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function lO(t){let e={},n=s(t,["id"]);n!=null&&l(e,["id"],n);let o=s(t,["args"]);o!=null&&l(e,["args"],o);let r=s(t,["name"]);return r!=null&&l(e,["name"],r),e}function uO(t){let e={},n=s(t,["behavior"]);n!=null&&l(e,["behavior"],n);let o=s(t,["description"]);o!=null&&l(e,["description"],o);let r=s(t,["name"]);r!=null&&l(e,["name"],r);let i=s(t,["parameters"]);i!=null&&l(e,["parameters"],i);let a=s(t,["parametersJsonSchema"]);a!=null&&l(e,["parametersJsonSchema"],a);let u=s(t,["response"]);u!=null&&l(e,["response"],u);let c=s(t,["responseJsonSchema"]);return c!=null&&l(e,["responseJsonSchema"],c),e}function cO(t){let e={},n=s(t,["dynamicRetrievalConfig"]);return n!=null&&l(e,["dynamicRetrievalConfig"],sO(n)),e}function dO(t){let e={},n=s(t,["timeRangeFilter"]);if(n!=null&&l(e,["timeRangeFilter"],fO(n)),s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function fO(t){let e={},n=s(t,["startTime"]);n!=null&&l(e,["startTime"],n);let o=s(t,["endTime"]);return o!=null&&l(e,["endTime"],o),e}function pO(t,e){let n={},o=s(t,["generationConfig"]);e!==void 0&&o!=null&&l(e,["setup","generationConfig"],o);let r=s(t,["responseModalities"]);e!==void 0&&r!=null&&l(e,["setup","generationConfig","responseModalities"],r);let i=s(t,["temperature"]);e!==void 0&&i!=null&&l(e,["setup","generationConfig","temperature"],i);let a=s(t,["topP"]);e!==void 0&&a!=null&&l(e,["setup","generationConfig","topP"],a);let u=s(t,["topK"]);e!==void 0&&u!=null&&l(e,["setup","generationConfig","topK"],u);let c=s(t,["maxOutputTokens"]);e!==void 0&&c!=null&&l(e,["setup","generationConfig","maxOutputTokens"],c);let d=s(t,["mediaResolution"]);e!==void 0&&d!=null&&l(e,["setup","generationConfig","mediaResolution"],d);let f=s(t,["seed"]);e!==void 0&&f!=null&&l(e,["setup","generationConfig","seed"],f);let p=s(t,["speechConfig"]);e!==void 0&&p!=null&&l(e,["setup","generationConfig","speechConfig"],SO(og(p)));let h=s(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&l(e,["setup","generationConfig","enableAffectiveDialog"],h);let m=s(t,["systemInstruction"]);e!==void 0&&m!=null&&l(e,["setup","systemInstruction"],nO(dt(m)));let E=s(t,["tools"]);if(e!==void 0&&E!=null){let J=Bi(E);Array.isArray(J)&&(J=J.map(fe=>DO(Ui(fe)))),l(e,["setup","tools"],J)}let T=s(t,["sessionResumption"]);e!==void 0&&T!=null&&l(e,["setup","sessionResumption"],EO(T));let D=s(t,["inputAudioTranscription"]);e!==void 0&&D!=null&&l(e,["setup","inputAudioTranscription"],o_());let w=s(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&l(e,["setup","outputAudioTranscription"],o_());let R=s(t,["realtimeInputConfig"]);e!==void 0&&R!=null&&l(e,["setup","realtimeInputConfig"],CO(R));let L=s(t,["contextWindowCompression"]);e!==void 0&&L!=null&&l(e,["setup","contextWindowCompression"],oO(L));let q=s(t,["proactivity"]);return e!==void 0&&q!=null&&l(e,["setup","proactivity"],yO(q)),n}function hO(t,e){let n={},o=s(e,["model"]);o!=null&&l(n,["setup","model"],ye(t,o));let r=s(e,["config"]);return r!=null&&l(n,["config"],pO(r,n)),n}function mO(t){let e={},n=s(t,["speakerVoiceConfigs"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>TO(r))),l(e,["speakerVoiceConfigs"],o)}return e}function gO(t){let e={},n=s(t,["videoMetadata"]);n!=null&&l(e,["videoMetadata"],xO(n));let o=s(t,["thought"]);o!=null&&l(e,["thought"],o);let r=s(t,["inlineData"]);r!=null&&l(e,["inlineData"],tO(r));let i=s(t,["fileData"]);i!=null&&l(e,["fileData"],aO(i));let a=s(t,["thoughtSignature"]);a!=null&&l(e,["thoughtSignature"],a);let u=s(t,["functionCall"]);u!=null&&l(e,["functionCall"],lO(u));let c=s(t,["codeExecutionResult"]);c!=null&&l(e,["codeExecutionResult"],c);let d=s(t,["executableCode"]);d!=null&&l(e,["executableCode"],d);let f=s(t,["functionResponse"]);f!=null&&l(e,["functionResponse"],f);let p=s(t,["text"]);return p!=null&&l(e,["text"],p),e}function vO(t){let e={},n=s(t,["voiceName"]);return n!=null&&l(e,["voiceName"],n),e}function yO(t){let e={},n=s(t,["proactiveAudio"]);return n!=null&&l(e,["proactiveAudio"],n),e}function CO(t){let e={},n=s(t,["automaticActivityDetection"]);n!=null&&l(e,["automaticActivityDetection"],eO(n));let o=s(t,["activityHandling"]);o!=null&&l(e,["activityHandling"],o);let r=s(t,["turnCoverage"]);return r!=null&&l(e,["turnCoverage"],r),e}function EO(t){let e={},n=s(t,["handle"]);if(n!=null&&l(e,["handle"],n),s(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function _O(t){let e={},n=s(t,["targetTokens"]);return n!=null&&l(e,["targetTokens"],n),e}function TO(t){let e={},n=s(t,["speaker"]);n!=null&&l(e,["speaker"],n);let o=s(t,["voiceConfig"]);return o!=null&&l(e,["voiceConfig"],V_(o)),e}function SO(t){let e={},n=s(t,["voiceConfig"]);n!=null&&l(e,["voiceConfig"],V_(n));let o=s(t,["multiSpeakerVoiceConfig"]);o!=null&&l(e,["multiSpeakerVoiceConfig"],mO(o));let r=s(t,["languageCode"]);return r!=null&&l(e,["languageCode"],r),e}function IO(t){let e={},n=s(t,["environment"]);n!=null&&l(e,["environment"],n);let o=s(t,["excludedPredefinedFunctions"]);return o!=null&&l(e,["excludedPredefinedFunctions"],o),e}function DO(t){let e={},n=s(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>uO(d))),l(e,["functionDeclarations"],c)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let o=s(t,["googleSearch"]);o!=null&&l(e,["googleSearch"],dO(o));let r=s(t,["googleSearchRetrieval"]);if(r!=null&&l(e,["googleSearchRetrieval"],cO(r)),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(t,["urlContext"])!=null&&l(e,["urlContext"],wO());let a=s(t,["computerUse"]);a!=null&&l(e,["computerUse"],IO(a));let u=s(t,["codeExecution"]);return u!=null&&l(e,["codeExecution"],u),e}function wO(){return{}}function xO(t){let e={},n=s(t,["fps"]);n!=null&&l(e,["fps"],n);let o=s(t,["endOffset"]);o!=null&&l(e,["endOffset"],o);let r=s(t,["startOffset"]);return r!=null&&l(e,["startOffset"],r),e}function V_(t){let e={},n=s(t,["prebuiltVoiceConfig"]);return n!=null&&l(e,["prebuiltVoiceConfig"],vO(n)),e}function bO(t){let e=[];for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n)){let o=t[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){let r=Object.keys(o).map(i=>`${n}.${i}`);e.push(...r)}else e.push(n)}return e.join(",")}function MO(t,e){let n=null,o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){let i=o.setup;typeof i=="object"&&i!==null?(t.bidiGenerateContentSetup=i,n=i):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;let r=t.fieldMask;if(n){let i=bO(n);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)i?t.fieldMask=i:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){let a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"],u=[];r.length>0&&(u=r.map(d=>a.includes(d)?`generationConfig.${d}`:d));let c=[];i&&c.push(i),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}var zm=class extends Bn{constructor(e){super(),this.apiClient=e}async create(e){var n,o;let r,i="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{let u=iO(this.apiClient,e);i=B("auth_tokens",u._url),a=u._query,delete u.config,delete u._url,delete u._query;let c=MO(u,e.config);return r=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>X2(d))}}};function AO(t){let e={},n=s(t,["name"]);return n!=null&&l(e,["_url","name"],n),e}function RO(t){let e={},n=s(t,["name"]);return n!=null&&l(e,["_url","name"],n),e}function NO(t,e){let n={};if(s(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");let o=s(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&l(e,["displayName"],o),s(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");let r=s(t,["epochCount"]);e!==void 0&&r!=null&&l(e,["tuningTask","hyperparameters","epochCount"],r);let i=s(t,["learningRateMultiplier"]);if(i!=null&&l(n,["tuningTask","hyperparameters","learningRateMultiplier"],i),s(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(s(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");let a=s(t,["batchSize"]);e!==void 0&&a!=null&&l(e,["tuningTask","hyperparameters","batchSize"],a);let u=s(t,["learningRate"]);if(e!==void 0&&u!=null&&l(e,["tuningTask","hyperparameters","learningRate"],u),s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return n}function kO(t,e){let n={},o=s(t,["validationDataset"]);e!==void 0&&o!=null&&l(e,["supervisedTuningSpec"],QO(o,n));let r=s(t,["tunedModelDisplayName"]);e!==void 0&&r!=null&&l(e,["tunedModelDisplayName"],r);let i=s(t,["description"]);e!==void 0&&i!=null&&l(e,["description"],i);let a=s(t,["epochCount"]);e!==void 0&&a!=null&&l(e,["supervisedTuningSpec","hyperParameters","epochCount"],a);let u=s(t,["learningRateMultiplier"]);e!==void 0&&u!=null&&l(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],u);let c=s(t,["exportLastCheckpointOnly"]);e!==void 0&&c!=null&&l(e,["supervisedTuningSpec","exportLastCheckpointOnly"],c);let d=s(t,["adapterSize"]);if(e!==void 0&&d!=null&&l(e,["supervisedTuningSpec","hyperParameters","adapterSize"],d),s(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");let f=s(t,["labels"]);return e!==void 0&&f!=null&&l(e,["labels"],f),n}function PO(t){let e={},n=s(t,["baseModel"]);n!=null&&l(e,["baseModel"],n);let o=s(t,["preTunedModel"]);o!=null&&l(e,["preTunedModel"],o);let r=s(t,["trainingDataset"]);r!=null&&l(e,["tuningTask","trainingData"],jO(r));let i=s(t,["config"]);return i!=null&&NO(i,e),e}function FO(t){let e={},n=s(t,["baseModel"]);n!=null&&l(e,["baseModel"],n);let o=s(t,["preTunedModel"]);o!=null&&l(e,["preTunedModel"],o);let r=s(t,["trainingDataset"]);r!=null&&l(e,["supervisedTuningSpec","trainingDatasetUri"],JO(r,e));let i=s(t,["config"]);return i!=null&&kO(i,e),e}function LO(t){let e={},n=s(t,["name"]);return n!=null&&l(e,["_url","name"],n),e}function OO(t){let e={},n=s(t,["name"]);return n!=null&&l(e,["_url","name"],n),e}function VO(t,e){let n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&l(e,["_query","pageSize"],o);let r=s(t,["pageToken"]);e!==void 0&&r!=null&&l(e,["_query","pageToken"],r);let i=s(t,["filter"]);return e!==void 0&&i!=null&&l(e,["_query","filter"],i),n}function UO(t,e){let n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&l(e,["_query","pageSize"],o);let r=s(t,["pageToken"]);e!==void 0&&r!=null&&l(e,["_query","pageToken"],r);let i=s(t,["filter"]);return e!==void 0&&i!=null&&l(e,["_query","filter"],i),n}function BO(t){let e={},n=s(t,["config"]);return n!=null&&VO(n,e),e}function HO(t){let e={},n=s(t,["config"]);return n!=null&&UO(n,e),e}function $O(t){let e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=s(t,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);let r=s(t,["tunedModels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>U_(a))),l(e,["tuningJobs"],i)}return e}function qO(t){let e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=s(t,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);let r=s(t,["tuningJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Wm(a))),l(e,["tuningJobs"],i)}return e}function GO(t){let e={},n=s(t,["checkpointId"]);n!=null&&l(e,["checkpointId"],n);let o=s(t,["epoch"]);o!=null&&l(e,["epoch"],o);let r=s(t,["step"]);r!=null&&l(e,["step"],r);let i=s(t,["endpoint"]);return i!=null&&l(e,["endpoint"],i),e}function zO(t){let e={},n=s(t,["name"]);n!=null&&l(e,["model"],n);let o=s(t,["name"]);return o!=null&&l(e,["endpoint"],o),e}function WO(t){let e={},n=s(t,["model"]);n!=null&&l(e,["model"],n);let o=s(t,["endpoint"]);o!=null&&l(e,["endpoint"],o);let r=s(t,["checkpoints"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>GO(a))),l(e,["checkpoints"],i)}return e}function jO(t){let e={};if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");let n=s(t,["examples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>YO(r))),l(e,["examples","examples"],o)}return e}function JO(t,e){let n={},o=s(t,["gcsUri"]);e!==void 0&&o!=null&&l(e,["supervisedTuningSpec","trainingDatasetUri"],o);let r=s(t,["vertexDatasetResource"]);if(e!==void 0&&r!=null&&l(e,["supervisedTuningSpec","trainingDatasetUri"],r),s(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function YO(t){let e={},n=s(t,["textInput"]);n!=null&&l(e,["textInput"],n);let o=s(t,["output"]);return o!=null&&l(e,["output"],o),e}function U_(t){let e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=s(t,["name"]);o!=null&&l(e,["name"],o);let r=s(t,["state"]);r!=null&&l(e,["state"],d_(r));let i=s(t,["createTime"]);i!=null&&l(e,["createTime"],i);let a=s(t,["tuningTask","startTime"]);a!=null&&l(e,["startTime"],a);let u=s(t,["tuningTask","completeTime"]);u!=null&&l(e,["endTime"],u);let c=s(t,["updateTime"]);c!=null&&l(e,["updateTime"],c);let d=s(t,["description"]);d!=null&&l(e,["description"],d);let f=s(t,["baseModel"]);f!=null&&l(e,["baseModel"],f);let p=s(t,["_self"]);p!=null&&l(e,["tunedModel"],zO(p));let h=s(t,["customBaseModel"]);h!=null&&l(e,["customBaseModel"],h);let m=s(t,["experiment"]);m!=null&&l(e,["experiment"],m);let E=s(t,["labels"]);E!=null&&l(e,["labels"],E);let T=s(t,["outputUri"]);T!=null&&l(e,["outputUri"],T);let D=s(t,["pipelineJob"]);D!=null&&l(e,["pipelineJob"],D);let w=s(t,["serviceAccount"]);w!=null&&l(e,["serviceAccount"],w);let R=s(t,["tunedModelDisplayName"]);return R!=null&&l(e,["tunedModelDisplayName"],R),e}function Wm(t){let e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=s(t,["name"]);o!=null&&l(e,["name"],o);let r=s(t,["state"]);r!=null&&l(e,["state"],d_(r));let i=s(t,["createTime"]);i!=null&&l(e,["createTime"],i);let a=s(t,["startTime"]);a!=null&&l(e,["startTime"],a);let u=s(t,["endTime"]);u!=null&&l(e,["endTime"],u);let c=s(t,["updateTime"]);c!=null&&l(e,["updateTime"],c);let d=s(t,["error"]);d!=null&&l(e,["error"],d);let f=s(t,["description"]);f!=null&&l(e,["description"],f);let p=s(t,["baseModel"]);p!=null&&l(e,["baseModel"],p);let h=s(t,["tunedModel"]);h!=null&&l(e,["tunedModel"],WO(h));let m=s(t,["preTunedModel"]);m!=null&&l(e,["preTunedModel"],m);let E=s(t,["supervisedTuningSpec"]);E!=null&&l(e,["supervisedTuningSpec"],E);let T=s(t,["tuningDataStats"]);T!=null&&l(e,["tuningDataStats"],T);let D=s(t,["encryptionSpec"]);D!=null&&l(e,["encryptionSpec"],D);let w=s(t,["partnerModelTuningSpec"]);w!=null&&l(e,["partnerModelTuningSpec"],w);let R=s(t,["customBaseModel"]);R!=null&&l(e,["customBaseModel"],R);let L=s(t,["experiment"]);L!=null&&l(e,["experiment"],L);let q=s(t,["labels"]);q!=null&&l(e,["labels"],q);let J=s(t,["outputUri"]);J!=null&&l(e,["outputUri"],J);let fe=s(t,["pipelineJob"]);fe!=null&&l(e,["pipelineJob"],fe);let ve=s(t,["serviceAccount"]);ve!=null&&l(e,["serviceAccount"],ve);let tt=s(t,["tunedModelDisplayName"]);return tt!=null&&l(e,["tunedModelDisplayName"],tt),e}function KO(t){let e={},n=s(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=s(t,["name"]);o!=null&&l(e,["name"],o);let r=s(t,["metadata"]);r!=null&&l(e,["metadata"],r);let i=s(t,["done"]);i!=null&&l(e,["done"],i);let a=s(t,["error"]);return a!=null&&l(e,["error"],a),e}function QO(t,e){let n={},o=s(t,["gcsUri"]);o!=null&&l(n,["validationDatasetUri"],o);let r=s(t,["vertexDatasetResource"]);return e!==void 0&&r!=null&&l(e,["supervisedTuningSpec","trainingDatasetUri"],r),n}var jm=class extends Bn{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Xo($i.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){let r={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);let i=Object.assign(Object.assign({},n),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{let r=Object.assign({},n);return await this.tuneInternal(r)}else{let r=Object.assign({},n),i=await this.tuneMldevInternal(r),a="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?a=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(a=i.name.split("/operations/")[0]),{name:a,state:i_.JOB_STATE_QUEUED}}}}async getInternal(e){var n,o,r,i;let a,u="",c={};if(this.apiClient.isVertexAI()){let d=OO(e);return u=B("{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),a.then(f=>Wm(f))}else{let d=LO(e);return u=B("{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),a.then(f=>U_(f))}}async listInternal(e){var n,o,r,i;let a,u="",c={};if(this.apiClient.isVertexAI()){let d=HO(e);return u=B("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),a.then(f=>{let p=qO(f),h=new Zc;return Object.assign(h,p),h})}else{let d=BO(e);return u=B("tunedModels",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),a.then(f=>{let p=$O(f),h=new Zc;return Object.assign(h,p),h})}}async cancel(e){var n,o,r,i;let a="",u={};if(this.apiClient.isVertexAI()){let c=RO(e);a=B("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{let c=AO(e);a=B("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async tuneInternal(e){var n,o;let r,i="",a={};if(this.apiClient.isVertexAI()){let u=FO(e);return i=B("tuningJobs",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>Wm(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,o;let r,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let u=PO(e);return i=B("tunedModels",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>KO(c))}}};var Jm=class{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}},ZO=1024*1024*8,XO=3,eV=1e3,tV=2,pm="x-goog-upload-status";async function nV(t,e,n){var o,r,i;let a=0,u=0,c=new Va(new Response),d="upload";for(a=t.size;u<a;){let p=Math.min(ZO,a-u),h=t.slice(u,u+p);u+p>=a&&(d+=", finalize");let m=0,E=eV;for(;m<XO&&(c=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(u),"Content-Length":String(p)}}}),!(!((o=c?.headers)===null||o===void 0)&&o[pm]));)m++,await rV(E),E=E*tV;if(u+=p,((r=c?.headers)===null||r===void 0?void 0:r[pm])!=="active")break;if(a<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}let f=await c?.json();if(((i=c?.headers)===null||i===void 0?void 0:i[pm])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function oV(t){return{size:t.size,type:t.type}}function rV(t){return new Promise(e=>setTimeout(e,t))}var Ym=class{async upload(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await nV(e,n,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await oV(e)}};var Km=class{create(e,n,o){return new Qm(e,n,o)}},Qm=class{constructor(e,n,o){this.url=e,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}};var r_="x-goog-api-key",Zm=class{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(r_)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(r_,this.apiKey)}}};var iV="gl-node/",rd=class{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;let o=GA(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;let r=new Zm(this.apiKey);this.apiClient=new Om({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:iV+"web",uploader:new Ym,downloader:new Jm}),this.models=new qm(this.apiClient),this.live=new Hm(this.apiClient,r,new Km),this.batches=new xm(this.apiClient),this.chats=new Mm(this.models,this.apiClient),this.caches=new bm(this.apiClient),this.files=new Nm(this.apiClient),this.operations=new Gm(this.apiClient),this.authTokens=new zm(this.apiClient),this.tunings=new jm(this.apiClient)}};var tr=class tr{constructor(){this.languageService=_(Ie);let e=process.env.API_KEY;e||console.error("API_KEY environment variable not set."),this.ai=new rd({apiKey:e})}getExplanationForAyah(e,n){let i=`You are a knowledgeable and respectful Islamic scholar. Explain the meaning and context of the following verse from the Quran in a clear and easy-to-understand way.
    Provide the explanation in ${this.languageService.language()==="ar"?"Arabic":"English"}.
    
    The verse is from Surah ${e.englishName} (${e.arabicName}), Ayah number ${n.numberInSurah}.
    
    Verse text:
    "${n.text}"
    
    Please provide a concise but comprehensive explanation.`;return Fe(this.ai.models.generateContent({model:"gemini-2.5-flash",contents:i})).pipe(G(u=>u.text??""))}};tr.\u0275fac=function(n){return new(n||tr)},tr.\u0275prov=O({token:tr,factory:tr.\u0275fac,providedIn:"root"});var ad=tr;var nr=class nr{constructor(){this.AYAH_BOOKMARKS_KEY="quranApp_ayahBookmarks_v2";this.bookmarkedAyahs=$(new Map);this.loadBookmarksFromStorage(),me(()=>{localStorage.setItem(this.AYAH_BOOKMARKS_KEY,JSON.stringify(Array.from(this.bookmarkedAyahs().entries())))})}loadBookmarksFromStorage(){try{if(typeof localStorage<"u"){let e=localStorage.getItem(this.AYAH_BOOKMARKS_KEY);if(e){let n=JSON.parse(e);Array.isArray(n)&&n.every(o=>Array.isArray(o)&&o.length===2&&typeof o[0]=="string"&&typeof o[1]=="number")?this.bookmarkedAyahs.set(new Map(n)):(console.warn("Invalid bookmark data format found in localStorage. Clearing bookmarks."),localStorage.removeItem(this.AYAH_BOOKMARKS_KEY),this.bookmarkedAyahs.set(new Map))}}}catch(e){console.error("Error parsing bookmarks from localStorage",e),typeof localStorage<"u"&&localStorage.removeItem(this.AYAH_BOOKMARKS_KEY),this.bookmarkedAyahs.set(new Map)}}toggleAyahBookmark(e,n){let o=`${e}:${n}`;this.bookmarkedAyahs.update(r=>{let i=new Map(r);return i.has(o)?i.delete(o):i.set(o,Date.now()),i})}isAyahBookmarked(e,n){let o=`${e}:${n}`;return K(()=>this.bookmarkedAyahs().has(o))}};nr.\u0275fac=function(n){return new(n||nr)},nr.\u0275prov=O({token:nr,factory:nr.\u0275fac,providedIn:"root"});var Gi=nr;var zi=class zi{constructor(){this.customClass=we("w-5 h-5")}};zi.\u0275fac=function(n){return new(n||zi)},zi.\u0275cmp=x({type:zi,selectors:[["app-bookmark-icon"]],inputs:{customClass:[1,"customClass"]},decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor"],["stroke-linecap","round","stroke-linejoin","round","d","M 17.593 3.322 c .1 .121 .176 .26 .176 .418 V 21.8 a .75 .75 0 0 1 -1.125 .626 l -5.42 -3.13 a .75 .75 0 0 0 -.746 0 l -5.42 3.13 A .75 .75 0 0 1 3.5 21.8 V 3.74 c 0 -.158 .076 -.297 .176 -.418 C 4.064 3.118 4.5 3 5 3 h 14 c .5 0 .936 .118 1.171 .322 Z"]],template:function(n,o){n&1&&(H(),A(0,"svg",0),z(1,"path",1),M()),n&2&&qe(o.customClass())},encapsulation:2,changeDetection:0});var Wi=zi;var ji=class ji{};ji.\u0275fac=function(n){return new(n||ji)},ji.\u0275cmp=x({type:ji,selectors:[["app-chevron-down-icon"]],decls:2,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","d","M19 9l-7 7-7-7"]],template:function(n,o){n&1&&(H(),A(0,"svg",0),z(1,"path",1),M())},encapsulation:2,changeDetection:0});var ld=ji;var Ji=class Ji{};Ji.\u0275fac=function(n){return new(n||Ji)},Ji.\u0275cmp=x({type:Ji,selectors:[["app-chevron-up-icon"]],decls:2,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","d","M5 15l7-7 7 7"]],template:function(n,o){n&1&&(H(),A(0,"svg",0),z(1,"path",1),M())},encapsulation:2,changeDetection:0});var ud=Ji;var Yi=class Yi{};Yi.\u0275fac=function(n){return new(n||Yi)},Yi.\u0275cmp=x({type:Yi,selectors:[["app-share-icon"]],decls:2,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"]],template:function(n,o){n&1&&(H(),A(0,"svg",0),z(1,"path",1),M())},encapsulation:2,changeDetection:0});var cd=Yi;var sV=(t,e)=>[t,e],ig=(t,e)=>e.id,aV=(t,e)=>e.number;function lV(t,e){t&1&&b(0,"app-star-solid-icon",5)}function uV(t,e){t&1&&b(0,"app-star-icon",6)}function cV(t,e){if(t&1&&(y(0,"option",23),C(1),v()),t&2){let n=e.$implicit;F("value",n.id),g(),en("",n.name," (",n.rewaya," - ",n.quality,")")}}function dV(t,e){if(t&1&&Ce(0,cV,2,4,"option",23,ig),t&2){let n=I(2);Ee(n.perAyahReciters())}}function fV(t,e){if(t&1&&(y(0,"option",23),C(1),v()),t&2){let n=e.$implicit;F("value",n.id),g(),at("",n.name," (",n.rewaya,")")}}function pV(t,e){if(t&1&&Ce(0,fV,2,3,"option",23,ig),t&2){let n=I(2);Ee(n.recitersForSurahMode())}}function hV(t,e){t&1&&b(0,"app-loading-spinner",21)}function mV(t,e){if(t&1&&C(0),t&2){I();let n=Bt(0);re(" (",n,") ")}}function gV(t,e){if(t&1&&(Ut(0),y(1,"option",23),C(2),k(3,mV,1,1),v()),t&2){let n=e.$implicit,o=tn(vh(4,sV,n.arabicName&&n.arabicName!==n.name?n.arabicName:null,n.quality).filter(I(2).Boolean).join(", "));g(),F("value",n.id),g(),re(" ",n.name," "),g(),P(o?3:-1)}}function vV(t,e){t&1&&(y(0,"div",29),b(1,"app-loading-spinner"),v())}function yV(t,e){t&1&&b(0,"app-sound-wave-icon",45)}function CV(t,e){if(t&1&&(y(0,"span",48),C(1),v()),t&2){let n=I(4);g(),re(" ",n.t("Copied to clipboard!")()," ")}}function EV(t,e){t&1&&b(0,"app-star-solid-icon",5)}function _V(t,e){t&1&&b(0,"app-star-icon",6)}function TV(t,e){t&1&&b(0,"app-bookmark-solid-icon",52)}function SV(t,e){t&1&&b(0,"app-bookmark-icon",53),t&2&&F("customClass","w-5 h-5 hover:text-indigo-400")}function IV(t,e){t&1&&b(0,"app-pause-icon",60),t&2&&F("size",5)}function DV(t,e){t&1&&b(0,"app-play-icon",60),t&2&&F("size",5)}function wV(t,e){if(t&1){let n=_e();y(0,"button",59),j("click",function(){Z(n);let r=I().$implicit,i=I(3);return X(i.playAyah(r.numberInSurah))}),k(1,IV,1,1,"app-pause-icon",60)(2,DV,1,1,"app-play-icon",60),v()}if(t&2){let n=I().$implicit,o=Bt(0);F("title","Play Ayah "+n.numberInSurah),g(),P(o?1:2)}}function xV(t,e){if(t&1&&(y(0,"p",56),C(1),v()),t&2){let n=I().$implicit,o=I(3);F("dir",o.languageService.direction()==="rtl"?"rtl":"ltr"),g(),re(" ",n.text," ")}}function bV(t,e){if(t&1&&(y(0,"p",57),C(1),y(2,"span",61),C(3),v()()),t&2){let n=I().$implicit;F("dir","ltr"),g(),at(" ",n.numberInSurah,". ",n.translation," "),g(2),S(n.transliteration)}}function MV(t,e){if(t&1&&(y(0,"div",58),b(1,"p",62),v()),t&2){let n=I().$implicit,o=I(3);g(),F("innerHTML",o.tafsirMap().get(n.numberInSurah),xu)}}function AV(t,e){if(t&1){let n=_e();Ut(0),y(1,"div",41)(2,"div",42)(3,"div",43)(4,"span",44),C(5),v(),k(6,yV,1,0,"app-sound-wave-icon",45),v(),y(7,"div",46)(8,"button",47),j("click",function(){let r=Z(n).$implicit,i=I(3);return X(i.shareAyah(r))}),k(9,CV,2,1,"span",48),b(10,"app-share-icon"),v(),y(11,"button",49),j("click",function(){let r=Z(n).$implicit,i=I(3);return X(i.askAI(r))}),b(12,"app-sparkle-icon"),v(),y(13,"button",50),j("click",function(){let r=Z(n).$implicit,i=I(3);return X(i.toggleTafsirVisibility(r.numberInSurah))}),b(14,"app-book-open-icon"),v(),y(15,"button",51),j("click",function(){let r=Z(n).$implicit,i=I(3);return X(i.toggleAyahFavorite(r.numberInSurah))}),k(16,EV,1,0,"app-star-solid-icon",5)(17,_V,1,0,"app-star-icon",6),v(),y(18,"button",51),j("click",function(){let r=Z(n).$implicit,i=I(3);return X(i.toggleAyahBookmark(r.numberInSurah))}),k(19,TV,1,0,"app-bookmark-solid-icon",52)(20,SV,1,1,"app-bookmark-icon",53),v(),k(21,wV,3,2,"button",54),v()(),y(22,"div",55),k(23,xV,2,2,"p",56),k(24,bV,4,4,"p",57),k(25,MV,2,1,"div",58),v()()}if(t&2){let n=e.$implicit,o=I(2),r=I(),i=tn(r.playingAyahNumberInSurah()===n.numberInSurah);g(),Oe("bg-teal-900/20",i)("border-teal-500",i)("border-transparent",!i),F("id","ayah-"+o.id+"-"+n.numberInSurah),g(4),at(" ",o.id,":",n.numberInSurah," "),g(),P(i?6:-1),g(2),F("title",r.t("Share Ayah")()),g(),P(r.copiedAyahKey()===o.id+":"+n.numberInSurah?9:-1),g(2),F("title",r.t("Ask AI")()),g(2),F("title",r.t("Tafsir")()),g(2),F("title",r.isAyahFavorite(n.numberInSurah)()?r.t("Remove from favorites")():r.t("Add to favorites")()),g(),P(r.isAyahFavorite(n.numberInSurah)()?16:17),g(2),F("title",r.isAyahBookmarked(n.numberInSurah)()?r.t("Remove from bookmarks")():r.t("Add to bookmarks")()),g(),P(r.isAyahBookmarked(n.numberInSurah)()?19:20),g(2),P(r.playbackMode()==="ayah"?21:-1),g(2),P(r.translationView()==="arabic"||r.translationView()==="english"?23:-1),g(),P(r.translationView()==="english"&&n.translation?24:-1),g(),P(r.isTafsirVisible(n.numberInSurah)&&r.tafsirMap().has(n.numberInSurah)?25:-1)}}function RV(t,e){if(t&1&&Ce(0,AV,26,23,"div",40,aV),t&2){let n=I(2);Ee(n.ayahs())}}function NV(t,e){t&1&&b(0,"app-chevron-up-icon")}function kV(t,e){t&1&&b(0,"app-chevron-down-icon")}function PV(t,e){if(t&1&&(y(0,"div",32)(1,"div",63)(2,"div",64)(3,"span",65),C(4),v(),y(5,"span",66),C(6),v()(),y(7,"div",64)(8,"span",65),C(9),v(),y(10,"span",66),C(11),v()(),y(12,"div",42)(13,"span",67),C(14),v(),y(15,"span",68),C(16),v()()()()),t&2){let n=I(),o=I();g(4),S(o.t("Revelation Place")()),g(2),S(o.getRevelationType(n.revelationType)),g(3),S(o.t("Number of Verses")()),g(2),S(n.numberOfAyahs),g(3),S(o.t("Translated Name")()),g(2),re('"',n.englishNameTranslation,'"')}}function FV(t,e){if(t&1&&(y(0,"div",36),b(1,"app-loading-spinner"),y(2,"p",69),C(3),v()()),t&2){let n=I(2);g(3),S(n.t("Generating explanation...")())}}function LV(t,e){if(t&1&&(y(0,"p",37),C(1),v()),t&2){let n=I(2);g(),S(n.aiError())}}function OV(t,e){if(t&1&&b(0,"div",38),t&2){let n=I(2);F("innerHTML",n.formattedAiExplanation(),xu)}}function VV(t,e){if(t&1){let n=_e();y(0,"div",2)(1,"div",3)(2,"button",4),j("click",function(){Z(n);let r=I();return X(r.toggleCurrentSurahFavorite())}),k(3,lV,1,0,"app-star-solid-icon",5)(4,uV,1,0,"app-star-icon",6),v(),y(5,"h1",7),C(6),v(),y(7,"h2",8),C(8),v(),y(9,"p",9),C(10),v(),y(11,"p",10),C(12),v(),y(13,"div",11)(14,"button",12),j("click",function(){Z(n);let r=I();return X(r.playSurah())}),C(15),v()()(),y(16,"div",13)(17,"div")(18,"label",14),C(19),v(),y(20,"div",15)(21,"button",16),j("click",function(){Z(n);let r=I();return X(r.setPlaybackMode("ayah"))}),C(22),v(),y(23,"button",16),j("click",function(){Z(n);let r=I();return X(r.setPlaybackMode("surah"))}),C(24),v()()(),y(25,"div")(26,"label",17),C(27),v(),y(28,"select",18),j("change",function(r){Z(n);let i=I();return X(i.selectReciter(r.target.value))}),y(29,"option",19),C(30),v(),k(31,dV,2,0)(32,pV,2,0),v()(),y(33,"div")(34,"label",20)(35,"span"),C(36),v(),k(37,hV,1,0,"app-loading-spinner",21),v(),y(38,"select",22),j("change",function(r){Z(n);let i=I();return X(i.selectTafsir(r.target.value))}),y(39,"option",19),C(40),v(),Ce(41,gV,4,7,"option",23,ig),v()(),y(43,"div")(44,"label",14),C(45),v(),y(46,"div",15)(47,"button",16),j("click",function(){Z(n);let r=I();return X(r.setTranslationView("arabic"))}),C(48),v(),y(49,"button",16),j("click",function(){Z(n);let r=I();return X(r.setTranslationView("english"))}),C(50),v()()(),y(51,"div")(52,"label",24),C(53),v(),y(54,"div",25)(55,"input",26,0),j("keydown.enter",function(){Z(n);let r=Uu(56),i=I();return X(i.jumpToAyah(r.value))}),v(),y(57,"button",27),j("click",function(){Z(n);let r=Uu(56),i=I();return X(i.jumpToAyah(r.value))}),C(58),v()()()(),y(59,"div",28),k(60,vV,2,0,"div",29)(61,RV,2,0),v(),y(62,"div",30)(63,"button",31),j("click",function(){Z(n);let r=I();return X(r.toggleInfo())}),y(64,"span"),C(65),v(),k(66,NV,1,0,"app-chevron-up-icon")(67,kV,1,0,"app-chevron-down-icon"),v(),k(68,PV,17,6,"div",32),v()(),y(69,"app-modal",33),j("closeModal",function(){Z(n);let r=I();return X(r.isAiModalOpen.set(!1))}),y(70,"div",34),C(71),v(),y(72,"div",35),k(73,FV,4,1,"div",36)(74,LV,2,1,"p",37)(75,OV,1,1,"div",38),v(),y(76,"div",39),C(77),v()()}if(t&2){let n,o=e,r=I();g(2),F("title",r.isCurrentSurahFavorite()()?r.t("Remove from favorites")():r.t("Add to favorites")()),g(),P(r.isCurrentSurahFavorite()()?3:4),g(3),S(o.arabicName),g(2),S(o.englishName),g(2),re('"',o.englishNameTranslation,'"'),g(2),en(" ",r.getRevelationType(o.revelationType)," \xB7 ",o.numberOfAyahs," ",r.t("Ayahs")()," "),g(3),re(" ",r.t("Play Surah")()," "),g(4),S(r.t("Playback Mode")()),g(2),Oe("bg-slate-700",r.playbackMode()==="ayah")("text-teal-400",r.playbackMode()==="ayah")("text-slate-300",r.playbackMode()!=="ayah"),g(),S(r.t("By Ayah")()),g(),Oe("bg-slate-700",r.playbackMode()==="surah")("text-teal-400",r.playbackMode()==="surah")("text-slate-300",r.playbackMode()!=="surah"),g(),S(r.t("Full Surah")()),g(3),S(r.t("Select Reciter")()),g(),F("value",r.playbackMode()==="ayah"?(n=r.selectedPerAyahReciter())==null?null:n.id:(n=r.selectedFullSurahReciter())==null?null:n.id),g(2),re("-- ",r.t("Select Reciter")()," --"),g(),P(r.playbackMode()==="ayah"?31:32),g(5),S(r.t("Tafsir")()),g(),P(r.isTafsirLoading()?37:-1),g(),F("disabled",r.isTafsirLoading()),g(2),re("-- ",r.t("Select Tafsir")()," --"),g(),Ee(r.tafsirList()),g(4),S(r.t("Translation View")()),g(2),Oe("bg-slate-700",r.translationView()==="arabic")("text-teal-400",r.translationView()==="arabic")("text-slate-300",r.translationView()!=="arabic"),g(),S(r.t("Arabic")()),g(),Oe("bg-slate-700",r.translationView()==="english")("text-teal-400",r.translationView()==="english")("text-slate-300",r.translationView()!=="english"),g(),S(r.t("English")()),g(3),S(r.t("Jump to Ayah")()),g(2),F("placeholder","1-"+o.numberOfAyahs)("max",o.numberOfAyahs),g(3),re(" ",r.t("Go")()," "),g(2),P(r.ayahs().length?61:60),g(3),Oe("rounded-b-lg",!r.isInfoExpanded()),g(2),S(r.t("Surah Information")()),g(),P(r.isInfoExpanded()?66:67),g(2),P(r.isInfoExpanded()?68:-1),g(),F("isOpen",r.isAiModalOpen()),g(2),S(r.t("AI Explanation")()),g(2),P(r.isAiLoading()?73:r.aiError()?74:75),g(4),S(r.t("Close")())}}function UV(t,e){t&1&&(y(0,"div",1),b(1,"app-loading-spinner"),v())}var Ki=class Ki{constructor(){this.route=_(Nt);this.quranApiService=_(Qe);this.geminiService=_(ad);this.favoritesService=_(ro);this.bookmarkService=_(Gi);this.metaService=_(Pe);this.languageService=_(Ie);this.playerService=_($t);this.t=this.languageService.translate.bind(this.languageService);this.surahId=be(this.route.paramMap.pipe(G(e=>Number(e.get("id")))));this.playbackMode=$("surah");this.translationView=$("english");this.surahInfo=be(yt({lang:Ne(this.languageService.language),surahId:this.route.paramMap.pipe(G(e=>Number(e.get("id"))))}).pipe(He(({surahId:e})=>!isNaN(e)&&e>0),ce(({lang:e,surahId:n})=>this.quranApiService.getSurahs(e).pipe(G(o=>o.find(r=>r.id===n))))));this.ayahs=be(this.route.paramMap.pipe(ce(e=>this.quranApiService.getSurahDetail(Number(e.get("id"))))),{initialValue:[]});this.perAyahReciters=be(Ne(this.languageService.language).pipe(ce(e=>this.quranApiService.getReciters(e))),{initialValue:[]});this.fullSurahReciters=be(Ne(this.languageService.language).pipe(ce(e=>this.quranApiService.getMp3QuranReciters(e))),{initialValue:[]});this.recitersForSurahMode=K(()=>{let e=this.fullSurahReciters(),n=this.surahId();return!e||!n?[]:e.map(o=>{let r=o.moshaf.find(i=>i.surah_list.split(",").includes(String(n)));return r&&typeof r.server=="string"&&r.server.length>0?de(N({},o),{server:r.server}):null}).filter(o=>o!==null)});this.tafsirList=be(Ne(this.languageService.language).pipe(ce(e=>this.quranApiService.getTafsirList(e))),{initialValue:[]});this.selectedTafsirId=$(null);this.isTafsirLoading=$(!1);this.surahTafsirs=be(yt({tafsirId:Ne(this.selectedTafsirId),surahId:Ne(this.surahId)}).pipe(He(e=>e.tafsirId!==null&&e.surahId!==void 0&&e.surahId>0),Le(()=>this.isTafsirLoading.set(!0)),ce(({tafsirId:e,surahId:n})=>this.quranApiService.getTafsirForSurah(e,n).pipe(Wt(()=>this.isTafsirLoading.set(!1)),Ze(()=>V([]))))),{initialValue:[]});this.tafsirMap=K(()=>{let e=new Map;return this.surahTafsirs().forEach(n=>{if(n.verse_key){let o=Number(n.verse_key.split(":")[1]);e.set(o,n.text)}}),e});this.visibleTafsirs=$(new Set);this.isAiModalOpen=$(!1);this.aiExplanation=$("");this.isAiLoading=$(!1);this.aiError=$(null);this.formattedAiExplanation=K(()=>this.aiExplanation().replace(/\n/g,"<br>"));this.isInfoExpanded=$(!1);this.copiedAyahKey=$(null);this.currentTrack=this.playerService.currentTrack;this.isPlaying=this.playerService.isPlaying;this.playingAyahNumberInSurah=K(()=>{let e=this.currentTrack();return this.isPlaying()&&this.playbackMode()==="ayah"&&e?.surahId===this.surahId()?e.ayahNumberInSurah??null:null});this.selectedPerAyahReciter=$(null);this.selectedFullSurahReciter=$(null);this.lastAutoSelectedSurahId=$(void 0);me(()=>{let e=this.surahId(),n=this.recitersForSurahMode();typeof e=="number"&&n.length>0&&this.lastAutoSelectedSurahId()!==e&&(this.selectedFullSurahReciter.set(n[0]),this.lastAutoSelectedSurahId.set(e))}),me(()=>{let e=this.currentTrack();if(this.isPlaying()&&e?.surahId===this.surahId()&&e?.ayahNumberInSurah){let n=`ayah-${e.surahId}-${e.ayahNumberInSurah}`;setTimeout(()=>{let o=document.getElementById(n);if(o){let r=o.getBoundingClientRect();(r.bottom<0||r.top>window.innerHeight)&&o.scrollIntoView({behavior:"smooth",block:"center"})}},100)}}),me(()=>{let e=this.surahInfo(),n=this.languageService.language();if(e){let o=n==="ar"?`\u0627\u0642\u0631\u0623 \u0648\u0627\u0633\u062A\u0645\u0639 \u0625\u0644\u0649 ${e.name} (${e.arabicName})\u060C \u0627\u0644\u0633\u0648\u0631\u0629 \u0631\u0642\u0645 ${e.id} \u0641\u064A \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064A\u0645. \u062A\u062D\u062A\u0648\u064A \u0639\u0644\u0649 ${e.numberOfAyahs} \u0622\u064A\u0629.`:`Read and listen to Surah ${e.englishName} (${e.name}), chapter ${e.id} of the Holy Quran. It has ${e.numberOfAyahs} ayahs.`;this.metaService.updateTags({title:e.name,description:o,imageUrl:`https://picsum.photos/seed/surah-${e.id}/1200/630`,type:"article"})}})}toggleInfo(){this.isInfoExpanded.update(e=>!e)}setPlaybackMode(e){this.playbackMode.set(e)}setTranslationView(e){this.translationView.set(e)}selectReciter(e){if(this.playbackMode()==="ayah"){let n=this.perAyahReciters().find(o=>o.id===e)||null;this.selectedPerAyahReciter.set(n)}else{let n=this.recitersForSurahMode().find(o=>o.id.toString()===e)||null;this.selectedFullSurahReciter.set(n)}}playSurah(){let e=this.surahInfo();if(e)if(this.playbackMode()==="ayah"){let n=this.selectedPerAyahReciter(),o=this.ayahs();if(!n||!o||o.length===0)return;let r=o.map(i=>this.createAyahTrack(i.numberInSurah,n));this.playerService.loadPlaylist(r,0)}else{let n=this.selectedFullSurahReciter();if(!n)return;let o=this.surahId().toString().padStart(3,"0"),r={title:e.name,subtitle:n.name,url:`${n.server}/${o}.mp3`};this.playerService.play(r)}}playAyah(e){let n=this.selectedPerAyahReciter(),o=this.ayahs();if(!n||!o||o.length===0)return;let r=o.map(a=>this.createAyahTrack(a.numberInSurah,n)),i=o.findIndex(a=>a.numberInSurah===e);i!==-1&&this.playerService.loadPlaylist(r,i)}createAyahTrack(e,n){let o=this.surahId(),r=this.surahInfo(),i=o.toString().padStart(3,"0"),a=e.toString().padStart(3,"0");return{title:`Surah ${r?.englishName||o}, Ayah ${e}`,subtitle:n.name,url:`https://everyayah.com/data/${n.server}/${i}${a}.mp3`,surahId:o,ayahNumberInSurah:e}}selectTafsir(e){let n=Number(e);this.selectedTafsirId.set(isNaN(n)||!n?null:n),this.visibleTafsirs.set(new Set)}toggleTafsirVisibility(e){this.visibleTafsirs.update(n=>{let o=new Set(n);return o.has(e)?o.delete(e):o.add(e),o})}isTafsirVisible(e){return this.visibleTafsirs().has(e)}jumpToAyah(e){let n=this.surahInfo();if(!n)return;let o=parseInt(e,10);if(isNaN(o)||o<1||o>n.numberOfAyahs){console.warn("Invalid ayah number entered.");return}let r=`ayah-${n.id}-${o}`,i=document.getElementById(r);i&&i.scrollIntoView({behavior:"smooth",block:"center"})}askAI(e){let n=this.surahInfo();!n||!e||(this.isAiModalOpen.set(!0),this.isAiLoading.set(!0),this.aiError.set(null),this.aiExplanation.set(""),this.geminiService.getExplanationForAyah(n,e).pipe(Wt(()=>this.isAiLoading.set(!1))).subscribe({next:o=>this.aiExplanation.set(o),error:o=>{console.error("Error getting AI explanation:",o),this.aiError.set(this.t("Could not get explanation.")())}}))}async shareAyah(e){let n=this.surahInfo();if(!n||!e.numberInSurah)return;let o=`${this.t("An Ayah from the Quran")()}: ${n.name} ${n.id}:${e.numberInSurah}`,r=`"${e.text}"

${e.translation||""}

- Surah ${n.englishName} (${n.id}:${e.numberInSurah})`,i=`${window.location.origin}${window.location.pathname}#/surah/${n.id}`,a={title:o,text:r,url:i};if(navigator.share)try{await navigator.share(a)}catch(u){console.error("Error sharing:",u)}else try{await navigator.clipboard.writeText(`${r}

${i}`);let u=`${n.id}:${e.numberInSurah}`;this.copiedAyahKey.set(u),setTimeout(()=>{this.copiedAyahKey()===u&&this.copiedAyahKey.set(null)},2e3)}catch(u){console.error("Failed to copy text to clipboard:",u),alert("Could not copy to clipboard.")}}getRevelationType(e){if(!e)return"";let n=e.toLowerCase();return this.languageService.language()==="ar"?n==="meccan"?this.t("Meccan")():this.t("Medinan")():e}isCurrentSurahFavorite(){let e=this.surahId();return e?this.favoritesService.isSurahFavorite(e):K(()=>!1)}toggleCurrentSurahFavorite(){let e=this.surahId();e&&this.favoritesService.toggleSurahFavorite(e)}isAyahFavorite(e){let n=this.surahId();return n?this.favoritesService.isAyahFavorite(n,e):K(()=>!1)}toggleAyahFavorite(e){let n=this.surahId();n&&this.favoritesService.toggleAyahFavorite(n,e)}isAyahBookmarked(e){let n=this.surahId();return n?this.bookmarkService.isAyahBookmarked(n,e):K(()=>!1)}toggleAyahBookmark(e){let n=this.surahId();n&&this.bookmarkService.toggleAyahBookmark(n,e)}};Ki.\u0275fac=function(n){return new(n||Ki)},Ki.\u0275cmp=x({type:Ki,selectors:[["app-surah-detail"]],decls:2,vars:1,consts:[["ayahInput",""],[1,"flex","justify-center","items-center","py-20"],[1,"space-y-8"],[1,"p-6","bg-teal-900/20","border","border-teal-800/50","rounded-xl","text-center","relative"],[1,"absolute","top-4","right-4","rtl:right-auto","rtl:left-4","p-2","rounded-full","text-slate-400","hover:bg-slate-700","transition-colors",3,"click","title"],[1,"text-yellow-500"],[1,"hover:text-yellow-500"],[1,"text-4xl","font-amiri","text-teal-400"],[1,"text-2xl","text-slate-200"],[1,"text-slate-400","mt-2"],[1,"text-sm","text-slate-400","mt-1"],[1,"mt-4"],[1,"px-6","py-2","bg-teal-600","text-white","rounded-lg","hover:bg-teal-700","transition-colors","font-semibold",3,"click"],[1,"bg-slate-950/90","backdrop-blur-sm","border","border-slate-800","p-4","rounded-lg","shadow-sm","sticky","top-[70px]","z-30","space-y-4"],[1,"block","text-sm","font-medium","text-slate-300","mb-2"],[1,"flex","w-full","bg-slate-800","rounded-lg","p-1"],[1,"w-1/2","p-2","rounded-md","text-sm","font-semibold","transition-colors",3,"click"],["for","reciter-select",1,"block","text-sm","font-medium","text-slate-300","mb-2"],["id","reciter-select",1,"w-full","p-2","bg-slate-800","border","border-slate-600","text-slate-200","rounded-md","focus:ring-teal-500","focus:border-teal-500",3,"change","value"],["value",""],["for","tafsir-select",1,"flex","items-center","gap-2","text-sm","font-medium","text-slate-300","mb-2"],["customClass","h-4 w-4"],["id","tafsir-select",1,"w-full","p-2","bg-slate-800","border","border-slate-600","text-slate-200","rounded-md","focus:ring-teal-500","focus:border-teal-500","disabled:opacity-50",3,"change","disabled"],[3,"value"],["for","jump-to-ayah",1,"block","text-sm","font-medium","text-slate-300","mb-2"],[1,"flex","items-center","gap-2"],["type","number","id","jump-to-ayah","min","1",1,"w-full","p-2","bg-slate-800","border","border-slate-600","text-slate-200","rounded-md","focus:ring-teal-500","focus:border-teal-500",3,"keydown.enter","placeholder","max"],[1,"px-4","py-2","bg-teal-600","text-white","rounded-lg","hover:bg-teal-700","transition-colors",3,"click"],[1,"space-y-1"],[1,"flex","justify-center","items-center","py-10"],[1,"bg-slate-800/50","border","border-slate-700","rounded-lg"],[1,"flex","justify-between","items-center","w-full","p-4","text-left","text-lg","font-semibold","text-slate-200","hover:bg-slate-700/50","transition-colors","duration-200","rounded-t-lg",3,"click"],[1,"px-4","pb-4","border-t","border-slate-700"],[3,"closeModal","isOpen"],["slot","title"],["slot","content"],[1,"flex","flex-col","items-center","justify-center","gap-4","p-8"],[1,"text-red-600"],[1,"prose-slate",3,"innerHTML"],["slot","close-button-text"],[1,"p-4","rounded-md","border-b","border-slate-800","last:border-b-0","transition-all","duration-300","border-l-4",3,"id","bg-teal-900/20","border-teal-500","border-transparent"],[1,"p-4","rounded-md","border-b","border-slate-800","last:border-b-0","transition-all","duration-300","border-l-4",3,"id"],[1,"flex","justify-between","items-start","gap-4"],[1,"flex","items-center","gap-3"],[1,"text-sm","font-semibold","text-teal-400","bg-slate-800","px-2","py-1","rounded-md","select-none"],[1,"text-teal-400"],[1,"flex","items-center","gap-1"],[1,"p-2","rounded-full","text-slate-400","hover:bg-slate-700","hover:text-cyan-400","transition-colors","relative",3,"click","title"],[1,"absolute","-top-8","left-1/2","-translate-x-1/2","bg-slate-700","text-white","text-xs","px-2","py-1","rounded-md","shadow-lg","whitespace-nowrap"],[1,"p-2","rounded-full","text-slate-400","hover:bg-slate-700","hover:text-purple-400","transition-colors",3,"click","title"],[1,"p-2","rounded-full","text-slate-400","hover:bg-slate-700","hover:text-blue-400","transition-colors",3,"click","title"],[1,"p-2","rounded-full","text-slate-400","hover:bg-slate-700","transition-colors",3,"click","title"],[1,"text-indigo-400"],[3,"customClass"],[1,"p-2","rounded-full","text-slate-400","hover:bg-slate-700","hover:text-green-400","transition-colors",3,"title"],[1,"mt-4","space-y-4"],[1,"text-3xl","font-amiri","leading-loose","text-right","text-slate-100",3,"dir"],[1,"text-slate-300","leading-relaxed",3,"dir"],[1,"mt-2","p-3","bg-slate-800","border-l-4","border-blue-500","text-slate-300","text-sm"],[1,"p-2","rounded-full","text-slate-400","hover:bg-slate-700","hover:text-green-400","transition-colors",3,"click","title"],[3,"size"],[1,"block","text-sm","text-slate-400","mt-1","italic"],[3,"innerHTML"],[1,"mt-4","space-y-3","text-slate-300"],[1,"flex","justify-between","items-center"],[1,"text-slate-400"],[1,"font-medium","text-slate-200"],[1,"text-slate-400","flex-shrink-0"],[1,"font-medium","text-slate-200","text-right"],[1,"text-slate-600"]],template:function(n,o){if(n&1&&k(0,VV,78,61)(1,UV,2,0,"div",1),n&2){let r;P((r=o.surahInfo())?0:1,r)}},dependencies:[xe,ct,no,qt,hi,Si,Hc,Mi,Tn,Wi,oo,_n,ld,ud,cd],encapsulation:2,changeDetection:0});var dd=Ki;var B_=t=>["/surah",t],BV=(t,e)=>e.id,HV=(t,e)=>`${e.surahId}:${e.numberInSurah}`;function $V(t,e){if(t&1){let n=_e();y(0,"div",10)(1,"label",12),C(2),v(),y(3,"select",13),j("change",function(r){Z(n);let i=I();return X(i.setSurahSortOrder(r))}),y(4,"option",14),C(5),v(),y(6,"option",15),C(7),v(),y(8,"option",16),C(9),v()()()}if(t&2){let n=I();g(2),re("",n.t("Sort by")(),":"),g(3),S(n.t("Surah Number")()),g(2),S(n.t("Name")()),g(2),S(n.t("Date Added")())}}function qV(t,e){if(t&1&&(y(0,"p",11),C(1),v()),t&2){let n=I();g(),S(n.t("No favorites yet.")())}}function GV(t,e){if(t&1&&(y(0,"p",11),C(1),v()),t&2){let n=I(2);g(),S(n.t("No favorites found matching your search.")())}}function zV(t,e){if(t&1){let n=_e();y(0,"div",18)(1,"a",19)(2,"span",20),C(3),v(),y(4,"div",21)(5,"h3",22),C(6),v(),y(7,"p",23),C(8),v()()(),y(9,"button",24),j("click",function(){let r=Z(n).$implicit,i=I(3);return X(i.unfavoriteSurah(r.id))}),b(10,"app-star-solid-icon"),v()()}if(t&2){let n=e.$implicit,o=I(3);g(),F("routerLink",mn(5,B_,n.id)),g(2),S(n.id),g(3),S(n.name),g(2),S(n.englishName),g(),F("title",o.t("Remove from favorites")())}}function WV(t,e){if(t&1&&(y(0,"div",17),Ce(1,zV,11,7,"div",18,BV),v()),t&2){let n=I(2);g(),Ee(n.sortedFavoriteSurahs())}}function jV(t,e){if(t&1&&k(0,GV,2,1,"p",11)(1,WV,3,0,"div",17),t&2){let n=I();P(n.sortedFavoriteSurahs().length?1:0)}}function JV(t,e){if(t&1){let n=_e();y(0,"div",10)(1,"label",25),C(2),v(),y(3,"select",26),j("change",function(r){Z(n);let i=I();return X(i.setAyahSortOrder(r))}),y(4,"option",14),C(5),v(),y(6,"option",16),C(7),v()()()}if(t&2){let n=I();g(2),re("",n.t("Sort by")(),":"),g(3),S(n.t("Ayah Number")()),g(2),S(n.t("Date Added")())}}function YV(t,e){if(t&1&&(y(0,"p",11),C(1),v()),t&2){let n=I();g(),S(n.t("No favorites yet.")())}}function KV(t,e){if(t&1&&(y(0,"p",11),C(1),v()),t&2){let n=I(2);g(),S(n.t("No favorites found matching your search.")())}}function QV(t,e){if(t&1&&(y(0,"span",34),C(1),v()),t&2){let n=I(2).$implicit;g(),S(n.transliteration)}}function ZV(t,e){if(t&1&&(y(0,"p",32),C(1),k(2,QV,2,1,"span",34),v()),t&2){let n=I().$implicit;F("dir","ltr"),g(),at(" ",n.numberInSurah,". ",n.translation," "),g(),P(n.transliteration?2:-1)}}function XV(t,e){if(t&1){let n=_e();y(0,"div",27)(1,"div",28)(2,"a",29)(3,"p",30),C(4),v()(),y(5,"p",31),C(6),v(),k(7,ZV,3,4,"p",32),v(),y(8,"button",33),j("click",function(){let r=Z(n).$implicit,i=I(3);return X(i.unfavoriteAyah(r.surahId,r.numberInSurah))}),b(9,"app-star-solid-icon"),v()()}if(t&2){let n=e.$implicit,o=I(3);g(2),F("routerLink",mn(6,B_,n.surahId)),g(2),at("",n.surahName," - Ayah ",n.numberInSurah),g(2),re(" ",n.text," "),g(),P(n.translation?7:-1),g(),F("title",o.t("Remove from favorites")())}}function eU(t,e){if(t&1&&(y(0,"div",7),Ce(1,XV,10,8,"div",27,HV),v()),t&2){let n=I(2);g(),Ee(n.sortedFavoriteAyahs())}}function tU(t,e){if(t&1&&k(0,KV,2,1,"p",11)(1,eU,3,0,"div",7),t&2){let n=I();P(n.sortedFavoriteAyahs().length?1:0)}}var Qi=class Qi{constructor(){this.favoritesService=_(ro);this.quranApiService=_(Qe);this.metaService=_(Pe);this.languageService=_(Ie);this.t=this.languageService.translate.bind(this.languageService);this.searchTerm=$("");this.surahSortOrder=$("number");this.ayahSortOrder=$("number");this.allSurahs=be(Ne(this.languageService.language).pipe(ce(e=>this.quranApiService.getSurahs(e))),{initialValue:[]});this.favoriteSurahMap=this.favoritesService.favoriteSurahs;this.favoriteSurahs=K(()=>{let e=this.allSurahs();if(!Array.isArray(e))return[];let n=this.favoriteSurahMap();return!e.length||!n.size?[]:e.filter(o=>n.has(o.id))});this.filteredFavoriteSurahs=K(()=>{let e=this.searchTerm().toLowerCase().trim(),n=this.favoriteSurahs();return e?n.filter(o=>o.name.toLowerCase().includes(e)||o.englishName.toLowerCase().includes(e)||o.englishNameTranslation.toLowerCase().includes(e)||o.arabicName.toLowerCase().includes(e)):n});this.sortedFavoriteSurahs=K(()=>{let e=this.filteredFavoriteSurahs(),n=this.surahSortOrder(),o=this.favoriteSurahMap();return e.slice().sort((r,i)=>{if(n==="name"){let a=this.languageService.language()==="ar"?"ar":"en-US";return r.name.localeCompare(i.name,a)}return n==="date"?(o.get(i.id)??0)-(o.get(r.id)??0):r.id-i.id})});this.detailedFavoriteAyahs=be(yt([Ne(this.favoritesService.favoriteAyahs),Ne(this.allSurahs)]).pipe(ce(([e,n])=>{if(e.size===0||n.length===0)return V([]);let o=new Map(n.map(u=>[u.id,u])),r=new Map;e.forEach((u,c)=>{let[d,f]=c.split(":").map(Number);r.has(d)||r.set(d,new Set),r.get(d).add(f)});let i=Array.from(r.keys());if(i.length===0)return V([]);let a=i.map(u=>this.quranApiService.getSurahDetail(u));return vs(a).pipe(G(u=>{let c=[];return u.forEach((d,f)=>{let p=i[f],h=o.get(p);if(!h)return;let m=r.get(p);d.forEach(E=>{if(E.numberInSurah&&m.has(E.numberInSurah)){let T=`${p}:${E.numberInSurah}`;c.push(de(N({},E),{surahId:p,surahName:h.name,added:e.get(T)||0}))}})}),c}))})),{initialValue:[]});this.filteredFavoriteAyahs=K(()=>{let e=this.detailedFavoriteAyahs();if(!Array.isArray(e))return[];let n=this.searchTerm().toLowerCase().trim();return n?e.filter(o=>o.text?.toLowerCase().includes(n)||o.translation?.toLowerCase().includes(n)||o.surahName?.toLowerCase().includes(n)):e});this.sortedFavoriteAyahs=K(()=>{let e=this.filteredFavoriteAyahs();return this.ayahSortOrder()==="date"?e.slice().sort((o,r)=>r.added-o.added):e.slice().sort((o,r)=>o.surahId!==r.surahId?o.surahId-r.surahId:o.numberInSurah-r.numberInSurah)});me(()=>{this.metaService.updateTags({title:this.t("My Favorites")(),description:"Access your favorite Surahs and Ayahs for quick reading and listening."})})}onSearch(e){let n=e.target.value;this.searchTerm.set(n)}setSurahSortOrder(e){let n=e.target.value;this.surahSortOrder.set(n)}setAyahSortOrder(e){let n=e.target.value;this.ayahSortOrder.set(n)}unfavoriteSurah(e){this.favoritesService.toggleSurahFavorite(e)}unfavoriteAyah(e,n){this.favoritesService.toggleAyahFavorite(e,n)}};Qi.\u0275fac=function(n){return new(n||Qi)},Qi.\u0275cmp=x({type:Qi,selectors:[["app-favorites"]],decls:22,vars:8,consts:[[1,"space-y-8"],[1,"flex","flex-col","md:flex-row","md:items-center","md:justify-between","gap-4"],[1,"text-3xl","font-bold","text-teal-400","font-amiri"],[1,"relative","w-full","md:w-64"],[1,"absolute","inset-y-0","left-0","rtl:left-auto","rtl:right-0","flex","items-center","pl-3","rtl:pl-0","rtl:pr-3","pointer-events-none"],[1,"text-slate-400"],["type","text",1,"w-full","pl-10","rtl:pl-4","rtl:pr-10","pr-4","py-2","bg-slate-800","border","border-slate-600","text-slate-200","rounded-lg","focus:ring-teal-500","focus:border-teal-500",3,"input","placeholder"],[1,"space-y-4"],[1,"flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between","gap-4","border-b","border-slate-700","pb-2"],[1,"text-2xl","font-semibold","text-slate-200"],[1,"flex","items-center","gap-2"],[1,"text-slate-400","py-4"],["for","surah-sort",1,"text-sm","font-medium","text-slate-400"],["id","surah-sort",1,"p-2","bg-slate-800","border","border-slate-600","text-slate-200","rounded-md","text-sm","focus:ring-teal-500","focus:border-teal-500",3,"change"],["value","number"],["value","name"],["value","date"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4"],[1,"flex","items-center","justify-between","p-4","bg-slate-800/50","border","border-slate-700","rounded-lg","shadow-sm"],[1,"flex-grow","flex","items-center","space-x-4","rtl:space-x-reverse","min-w-0",3,"routerLink"],[1,"flex","items-center","justify-center","w-10","h-10","bg-slate-700","rounded-md","text-teal-400","font-semibold","flex-shrink-0"],[1,"min-w-0"],[1,"text-lg","font-semibold","text-slate-100","truncate"],[1,"text-sm","text-slate-400","truncate"],[1,"ml-4","p-2","rounded-full","text-yellow-500","hover:bg-slate-700","transition-colors","flex-shrink-0",3,"click","title"],["for","ayah-sort",1,"text-sm","font-medium","text-slate-400"],["id","ayah-sort",1,"p-2","bg-slate-800","border","border-slate-600","text-slate-200","rounded-md","text-sm","focus:ring-teal-500","focus:border-teal-500",3,"change"],[1,"p-4","bg-slate-800/50","border","border-slate-700","rounded-lg","shadow-sm","flex","items-start","justify-between","gap-4"],[1,"flex-grow"],[1,"hover:underline",3,"routerLink"],[1,"text-sm","text-slate-400","mb-2"],[1,"text-2xl","font-amiri","leading-loose","text-right","text-slate-100"],[1,"text-slate-300","leading-relaxed","mt-4",3,"dir"],[1,"p-2","rounded-full","text-yellow-500","hover:bg-slate-700","transition-colors","flex-shrink-0",3,"click","title"],[1,"block","text-sm","text-slate-400","mt-1","italic"]],template:function(n,o){n&1&&(y(0,"div",0)(1,"div",1)(2,"h1",2),C(3),v(),y(4,"div",3)(5,"div",4),b(6,"app-search-icon",5),v(),y(7,"input",6),j("input",function(i){return o.onSearch(i)}),v()()(),y(8,"section",7)(9,"div",8)(10,"h2",9),C(11),v(),k(12,$V,10,4,"div",10),v(),k(13,qV,2,1,"p",11)(14,jV,2,1),v(),y(15,"section",7)(16,"div",8)(17,"h2",9),C(18),v(),k(19,JV,8,3,"div",10),v(),k(20,YV,2,1,"p",11)(21,tU,2,1),v()()),n&2&&(g(3),S(o.t("My Favorites")()),g(4),F("placeholder",o.t("Search favorites...")()),g(4),S(o.t("Favorited Surahs")()),g(),P(o.favoriteSurahs().length?12:-1),g(),P(!o.favoriteSurahs().length&&!o.searchTerm()?13:14),g(5),S(o.t("Favorited Ayahs")()),g(),P(o.detailedFavoriteAyahs().length?19:-1),g(),P(!o.detailedFavoriteAyahs().length&&!o.searchTerm()?20:21))},dependencies:[xe,It,Tn,io],encapsulation:2,changeDetection:0});var fd=Qi;var nU=t=>["/surah",t],oU=(t,e)=>`${e.surahId}:${e.numberInSurah}`;function rU(t,e){if(t&1){let n=_e();y(0,"div",10)(1,"label",12),C(2),v(),y(3,"select",13),j("change",function(r){Z(n);let i=I();return X(i.setAyahSortOrder(r))}),y(4,"option",14),C(5),v(),y(6,"option",15),C(7),v()()()}if(t&2){let n=I();g(2),re("",n.t("Sort by")(),":"),g(3),S(n.t("Ayah Number")()),g(2),S(n.t("Date Added")())}}function iU(t,e){if(t&1&&(y(0,"div",11)(1,"div",16)(2,"div",17),b(3,"app-bookmark-icon",18),v()(),y(4,"h3",19),C(5),v(),y(6,"p",20),C(7),v(),y(8,"a",21),C(9),v()()),t&2){let n=I();g(3),F("customClass","w-8 h-8 text-slate-400"),g(2),S(n.t("No bookmarks yet.")()),g(2),re(" ",n.t("You can add ayahs to your bookmarks by clicking the bookmark icon on any surah page.")()," "),g(2),re(" ",n.t("Explore Surahs")()," ")}}function sU(t,e){if(t&1&&(y(0,"p",22),C(1),v()),t&2){let n=I(2);g(),S(n.t("No bookmarks found matching your search.")())}}function aU(t,e){if(t&1&&(y(0,"p",32),C(1),v()),t&2){let n=I(2).$implicit;F("dir","ltr"),g(),re(" ",n.transliteration," ")}}function lU(t,e){if(t&1&&(y(0,"div",28)(1,"p",30)(2,"span",31),C(3),v(),C(4),v(),k(5,aU,2,2,"p",32),v()),t&2){let n=I().$implicit;g(),F("dir","ltr"),g(2),re("",n.numberInSurah,"."),g(),re(" ",n.translation," "),g(),P(n.transliteration?5:-1)}}function uU(t,e){if(t&1){let n=_e();y(0,"div",23)(1,"div",24)(2,"a",25)(3,"p",26),C(4),v()(),y(5,"p",27),C(6),v(),k(7,lU,6,4,"div",28),v(),y(8,"button",29),j("click",function(){let r=Z(n).$implicit,i=I(3);return X(i.unbookmarkAyah(r.surahId,r.numberInSurah))}),b(9,"app-bookmark-solid-icon"),v()()}if(t&2){let n=e.$implicit,o=I(3);g(2),F("routerLink",mn(6,nU,n.surahId)),g(2),at("",n.surahName," - Ayah ",n.numberInSurah),g(2),re(" ",n.text," "),g(),P(n.translation?7:-1),g(),F("title",o.t("Remove from bookmarks")())}}function cU(t,e){if(t&1&&(y(0,"div",7),Ce(1,uU,10,8,"div",23,oU),v()),t&2){let n=I(2);g(),Ee(n.sortedBookmarkedAyahs())}}function dU(t,e){if(t&1&&k(0,sU,2,1,"p",22)(1,cU,3,0,"div",7),t&2){let n=I();P(n.sortedBookmarkedAyahs().length?1:0)}}var Zi=class Zi{constructor(){this.bookmarkService=_(Gi);this.quranApiService=_(Qe);this.metaService=_(Pe);this.languageService=_(Ie);this.t=this.languageService.translate.bind(this.languageService);this.searchTerm=$("");this.ayahSortOrder=$("number");this.allSurahs=be(Ne(this.languageService.language).pipe(ce(e=>this.quranApiService.getSurahs(e))),{initialValue:[]});this.detailedBookmarkedAyahs=be(yt({bookmarkedAyahMap:Ne(this.bookmarkService.bookmarkedAyahs),allSurahs:Ne(this.allSurahs)}).pipe(ce(({bookmarkedAyahMap:e,allSurahs:n})=>{if(e.size===0||n.length===0)return V([]);let o=new Map(n.map(u=>[u.id,u])),r=new Map;e.forEach((u,c)=>{let[d,f]=c.split(":").map(Number);r.has(d)||r.set(d,new Set),r.get(d).add(f)});let i=Array.from(r.keys());if(i.length===0)return V([]);let a=i.map(u=>this.quranApiService.getSurahDetail(u));return vs(a).pipe(G(u=>{let c=[];return u.forEach((d,f)=>{let p=i[f],h=o.get(p);if(!h)return;let m=r.get(p);d.forEach(E=>{if(E.numberInSurah&&m.has(E.numberInSurah)){let T=`${p}:${E.numberInSurah}`;c.push(de(N({},E),{surahId:p,surahName:h.name,added:e.get(T)||0}))}})}),c}))})),{initialValue:[]});this.filteredBookmarkedAyahs=K(()=>{let e=this.detailedBookmarkedAyahs();if(!Array.isArray(e))return[];let n=this.searchTerm().toLowerCase().trim();return n?e.filter(o=>o.text?.toLowerCase().includes(n)||o.translation?.toLowerCase().includes(n)||o.surahName?.toLowerCase().includes(n)):e});this.sortedBookmarkedAyahs=K(()=>{let e=this.filteredBookmarkedAyahs(),n=this.ayahSortOrder(),o=[...e];return n==="date"?o.sort((r,i)=>i.added-r.added):o.sort((r,i)=>{let a=r.surahId-i.surahId;return a!==0?a:r.numberInSurah-i.numberInSurah}),o});me(()=>{this.metaService.updateTags({title:this.t("My Bookmarks")(),description:"Return to your bookmarked Ayahs in the Holy Quran."})})}onSearch(e){let n=e.target.value;this.searchTerm.set(n)}setAyahSortOrder(e){let n=e.target.value;this.ayahSortOrder.set(n)}unbookmarkAyah(e,n){this.bookmarkService.toggleAyahBookmark(e,n)}};Zi.\u0275fac=function(n){return new(n||Zi)},Zi.\u0275cmp=x({type:Zi,selectors:[["app-bookmarks"]],decls:15,vars:5,consts:[[1,"space-y-8"],[1,"flex","flex-col","md:flex-row","md:items-center","md:justify-between","gap-4"],[1,"text-3xl","font-bold","text-teal-400","font-amiri"],[1,"relative","w-full","md:w-64"],[1,"absolute","inset-y-0","left-0","rtl:left-auto","rtl:right-0","flex","items-center","pl-3","rtl:pl-0","rtl:pr-3","pointer-events-none"],[1,"text-slate-400"],["type","text",1,"w-full","pl-10","rtl:pl-4","rtl:pr-10","pr-4","py-2","bg-slate-800","border","border-slate-600","text-slate-200","rounded-lg","focus:ring-teal-500","focus:border-teal-500",3,"input","placeholder"],[1,"space-y-4"],[1,"flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between","gap-4","border-b","border-slate-700","pb-2"],[1,"text-2xl","font-semibold","text-slate-200"],[1,"flex","items-center","gap-2"],[1,"text-center","py-16","px-6","bg-slate-800/50","border","border-slate-700","rounded-lg","shadow-sm"],["for","ayah-sort",1,"text-sm","font-medium","text-slate-400"],["id","ayah-sort",1,"p-2","bg-slate-800","border","border-slate-600","text-slate-200","rounded-md","text-sm","focus:ring-teal-500","focus:border-teal-500",3,"change"],["value","number"],["value","date"],[1,"flex","justify-center","items-center","mb-4"],[1,"w-16","h-16","bg-slate-700","rounded-full","flex","items-center","justify-center"],[3,"customClass"],[1,"text-xl","font-semibold","text-slate-100"],[1,"mt-2","text-slate-400","max-w-md","mx-auto"],["routerLink","/surahs",1,"mt-6","inline-block","px-6","py-2","bg-teal-600","text-white","font-semibold","rounded-lg","hover:bg-teal-700","transition-colors"],[1,"text-slate-400","py-4"],[1,"p-4","bg-slate-800/50","border","border-slate-700","rounded-lg","shadow-sm","flex","items-start","justify-between","gap-4"],[1,"flex-grow"],[1,"hover:underline",3,"routerLink"],[1,"text-sm","text-slate-400","mb-2"],[1,"text-2xl","font-amiri","leading-loose","text-right","text-slate-100"],[1,"mt-4","pt-4","border-t","border-slate-700"],[1,"p-2","rounded-full","text-indigo-400","hover:bg-slate-700","transition-colors","flex-shrink-0",3,"click","title"],[1,"text-slate-300","leading-relaxed",3,"dir"],[1,"font-semibold"],[1,"text-sm","text-slate-400","mt-2","italic",3,"dir"]],template:function(n,o){n&1&&(y(0,"div",0)(1,"div",1)(2,"h1",2),C(3),v(),y(4,"div",3)(5,"div",4),b(6,"app-search-icon",5),v(),y(7,"input",6),j("input",function(i){return o.onSearch(i)}),v()()(),y(8,"section",7)(9,"div",8)(10,"h2",9),C(11),v(),k(12,rU,8,3,"div",10),v(),k(13,iU,10,4,"div",11)(14,dU,2,1),v()()),n&2&&(g(3),S(o.t("My Bookmarks")()),g(4),F("placeholder",o.t("Search bookmarks...")()),g(4),S(o.t("Bookmarked Ayahs")()),g(),P(o.detailedBookmarkedAyahs().length?12:-1),g(),P(!o.detailedBookmarkedAyahs().length&&!o.searchTerm()?13:14))},dependencies:[xe,It,oo,io,Wi],encapsulation:2,changeDetection:0});var pd=Zi;var Xi=class Xi{};Xi.\u0275fac=function(n){return new(n||Xi)},Xi.\u0275cmp=x({type:Xi,selectors:[["app-qibla-arrow"]],decls:3,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 100 100",1,"w-full","h-full"],["d","M 50 0 L 65 50 L 50 40 L 35 50 Z","fill","currentColor"],["d","M 50 100 L 65 50 L 50 60 L 35 50 Z","fill","currentColor",1,"opacity-50"]],template:function(n,o){n&1&&(H(),A(0,"svg",0),z(1,"path",1)(2,"path",2),M())},encapsulation:2,changeDetection:0});var hd=Xi;var es=class es{};es.\u0275fac=function(n){return new(n||es)},es.\u0275cmp=x({type:es,selectors:[["app-figure-eight-icon"]],decls:5,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 100 60",1,"w-24","h-auto"],["d","M 30 30 a 20 20 0 1 0 40 0 a 20 20 0 1 0 -40 0","fill","none","stroke","#e0e0e0","stroke-width","4"],["d","M 30 30 a 20 20 0 1 0 40 0 a 20 20 0 1 0 -40 0","fill","none","stroke","#0d9488","stroke-width","4","stroke-linecap","round",1,"path"]],template:function(n,o){n&1&&(H(),A(0,"svg",0)(1,"style"),C(2," .path { stroke-dasharray: 400; stroke-dashoffset: 400; animation: draw 4s ease-in-out infinite; } @keyframes draw { to { stroke-dashoffset: 0; } } "),M(),z(3,"path",1)(4,"path",2),M())},encapsulation:2,changeDetection:0});var md=es;function fU(t,e){if(t&1&&(y(0,"div",18)(1,"div",19),b(2,"app-qibla-arrow"),v()()),t&2){let n=I(2);Xt("transform","rotate("+(n.qiblaDirection()-n.heading())+"deg)")}}function pU(t,e){if(t&1){let n=_e();y(0,"p",20),C(1),v(),y(2,"button",21),j("click",function(){Z(n);let r=I(2);return X(r.getLocation())}),C(3),v()}if(t&2){let n=I(2);g(),S(n.locationError()),g(2),re(" ",n.t("Get Location")()," ")}}function hU(t,e){if(t&1&&(y(0,"div",16),b(1,"app-loading-spinner",22),y(2,"span"),C(3),v()()),t&2){let n=I(2);g(3),S(n.statusMessage()||n.t("Acquiring location...")())}}function mU(t,e){if(t&1&&(y(0,"p",23),C(1),v(),y(2,"p",24),C(3),v()),t&2){let n=I(2);g(),en("",n.t("Distance")(),": ",n.distance().toFixed(0)," ",n.t("km")()),g(2),S(n.statusMessage())}}function gU(t,e){if(t&1){let n=_e();y(0,"div",17)(1,"p",25),C(2),v(),y(3,"p"),C(4),v(),y(5,"button",26),j("click",function(){Z(n);let r=I(2);return X(r.recalibrate())}),C(6),v()()}if(t&2){let n=I(2);g(2),S(n.t("Compass unstable.")()),g(2),S(n.t("For better accuracy, please recalibrate.")()),g(2),re(" ",n.t("Recalibrate")()," ")}}function vU(t,e){if(t&1&&(y(0,"div",0)(1,"div",2)(2,"h1",3),C(3),v(),y(4,"p",4),C(5),v()(),y(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),C(10,"N"),v(),y(11,"div",9),C(12,"S"),v(),y(13,"div",10),C(14,"W"),v(),y(15,"div",11),C(16,"E"),v(),b(17,"div",12),v(),k(18,fU,3,2,"div",13),b(19,"div",14),v(),y(20,"div",15),k(21,pU,4,2)(22,hU,4,1,"div",16)(23,mU,4,4),k(24,gU,7,3,"div",17),v()()()),t&2){let n=I();g(3),S(n.t("Qibla Direction")()),g(2),S(n.t("Find the direction to the Kaaba")()),g(3),Xt("transform","rotate("+-n.heading()+"deg)"),g(10),P(n.userLocation()?18:-1),g(3),P(n.locationError()?21:n.userLocation()?23:22),g(3),P(n.showRecalibrationPrompt()?24:-1)}}function yU(t,e){if(t&1){let n=_e();y(0,"div",1)(1,"h1",27),C(2),v(),y(3,"p",28),C(4),v(),y(5,"div",29),b(6,"app-figure-eight-icon"),v(),y(7,"button",30),j("click",function(){Z(n);let r=I();return X(r.markAsCalibrated())}),C(8),v()()}if(t&2){let n=I();g(2),S(n.t("Calibrate Compass")()),g(2),re(" ",n.t("For best results, move your phone in a figure-eight pattern to calibrate the compass.")()," "),g(4),re(" ",n.t("Done")()," ")}}var ts=class ts{constructor(){this.languageService=_(Ie);this.metaService=_(Pe);this.t=this.languageService.translate.bind(this.languageService);this.KAABA_COORDS={latitude:21.4225,longitude:39.8262};this.LOCATION_CACHE_KEY="qibla_user_location";this.CALIBRATION_SESSION_KEY="qibla_calibrated";this.userLocation=$(null);this.heading=$(0);this.statusMessage=$("");this.locationError=$(null);this.isCalibrated=$(!1);this.lastHeadings=$([]);this.qiblaDirection=K(()=>{let e=this.userLocation();return e?this.calculateBearing(e,this.KAABA_COORDS):0});this.distance=K(()=>{let e=this.userLocation();return e?this.calculateDistance(e,this.KAABA_COORDS):0});this.showRecalibrationPrompt=K(()=>{let e=this.lastHeadings();if(e.length<20)return!1;let n=e.map(u=>this.toRadians(u)),o=n.reduce((u,c)=>u+Math.sin(c),0)/n.length,r=n.reduce((u,c)=>u+Math.cos(c),0)/n.length;return Math.sqrt(o**2+r**2)<.95});this.orientationHandler=e=>{let n=e.alpha;if(typeof e.webkitCompassHeading<"u"&&(n=e.webkitCompassHeading),n!==null){let o=360-n;this.heading.set(o),this.lastHeadings.update(r=>{let i=[...r,o];return i.length>20&&i.shift(),i})}};me(()=>{this.metaService.updateTags({title:this.t("Qibla Direction")(),description:this.t("Find the direction to the Kaaba")()+" from your current location."})})}ngOnInit(){this.checkCalibrationStatus(),this.loadCachedLocation(),this.requestPermissionsAndSensors()}ngOnDestroy(){window.removeEventListener("deviceorientation",this.orientationHandler)}recalibrate(){this.isCalibrated.set(!1);try{typeof sessionStorage<"u"&&sessionStorage.removeItem(this.CALIBRATION_SESSION_KEY)}catch(e){console.error("Failed to remove calibration status from sessionStorage",e)}}markAsCalibrated(){this.isCalibrated.set(!0);try{typeof sessionStorage<"u"&&sessionStorage.setItem(this.CALIBRATION_SESSION_KEY,"true")}catch(e){console.error("Failed to set calibration status in sessionStorage",e)}}async requestPermissionsAndSensors(){if(typeof DeviceOrientationEvent.requestPermission=="function")try{await DeviceOrientationEvent.requestPermission()==="granted"?window.addEventListener("deviceorientation",this.orientationHandler,!0):this.statusMessage.set(this.t("Compass not supported.")())}catch(e){console.error("Error requesting device orientation permission:",e),this.statusMessage.set(this.t("Compass not supported.")())}else window.addEventListener("deviceorientation",this.orientationHandler,!0);this.getLocation()}getLocation(){this.statusMessage.set(this.t("Acquiring location...")()),this.locationError.set(null),"geolocation"in navigator?navigator.geolocation.getCurrentPosition(e=>{let n={latitude:e.coords.latitude,longitude:e.coords.longitude};this.userLocation.set(n),this.cacheLocation(n),this.statusMessage.set(this.t("Location acquired.")())},e=>{console.error(e),this.locationError.set(this.t("Could not get location. Please enable location services.")()),this.statusMessage.set("")}):(this.locationError.set(this.t("Could not get location. Please enable location services.")()),this.statusMessage.set(""))}checkCalibrationStatus(){try{typeof sessionStorage<"u"&&sessionStorage.getItem(this.CALIBRATION_SESSION_KEY)==="true"&&this.isCalibrated.set(!0)}catch(e){console.error("Failed to read calibration status from sessionStorage",e)}}loadCachedLocation(){try{if(typeof localStorage<"u"){let e=localStorage.getItem(this.LOCATION_CACHE_KEY);if(e){let n=JSON.parse(e);n&&typeof n.latitude=="number"&&typeof n.longitude=="number"&&this.userLocation.set(n)}}}catch(e){console.error("Failed to load cached location",e),typeof localStorage<"u"&&localStorage.removeItem(this.LOCATION_CACHE_KEY)}}cacheLocation(e){try{typeof localStorage<"u"&&localStorage.setItem(this.LOCATION_CACHE_KEY,JSON.stringify(e))}catch(n){console.error("Failed to cache location",n)}}toRadians(e){return e*(Math.PI/180)}toDegrees(e){return e*(180/Math.PI)}calculateBearing(e,n){let o=this.toRadians(e.latitude),r=this.toRadians(e.longitude),i=this.toRadians(n.latitude),u=this.toRadians(n.longitude)-r,c=Math.sin(u)*Math.cos(i),d=Math.cos(o)*Math.sin(i)-Math.sin(o)*Math.cos(i)*Math.cos(u);return(this.toDegrees(Math.atan2(c,d))+360)%360}calculateDistance(e,n){let r=this.toRadians(n.latitude-e.latitude),i=this.toRadians(n.longitude-e.longitude),a=this.toRadians(e.latitude),u=this.toRadians(n.latitude),c=Math.sin(r/2)*Math.sin(r/2)+Math.cos(a)*Math.cos(u)*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))}};ts.\u0275fac=function(n){return new(n||ts)},ts.\u0275cmp=x({type:ts,selectors:[["app-qibla"]],decls:2,vars:1,consts:[[1,"space-y-8","flex","flex-col","items-center"],[1,"space-y-6","flex","flex-col","items-center","text-center","max-w-md","mx-auto"],[1,"text-center"],[1,"text-3xl","font-bold","text-teal-400","font-amiri"],[1,"mt-2","text-slate-400"],[1,"w-full","max-w-sm","flex","flex-col","items-center","gap-6"],[1,"relative","w-64","h-64","rounded-full","bg-slate-800","shadow-lg","border-4","border-slate-700"],[1,"absolute","inset-0","transition-transform","duration-300","ease-linear"],[1,"absolute","top-0","left-1/2","-translate-x-1/2","-mt-3","text-lg","font-bold","text-red-500"],[1,"absolute","bottom-0","left-1/2","-translate-x-1/2","-mb-3","text-lg","font-semibold","text-slate-400"],[1,"absolute","left-0","top-1/2","-translate-y-1/2","-ml-3","text-lg","font-semibold","text-slate-400"],[1,"absolute","right-0","top-1/2","-translate-y-1/2","-mr-3","text-lg","font-semibold","text-slate-400"],[1,"w-full","h-full","border-slate-600","border-t-2","border-b-2","border-l-2","border-r-2","rounded-full"],[1,"absolute","inset-0","transition-transform","duration-300","ease-out",3,"transform"],[1,"absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","w-3","h-3","bg-slate-400","rounded-full"],[1,"text-center","p-4","bg-slate-800/50","rounded-lg","w-full","space-y-3"],[1,"flex","items-center","justify-center","gap-2","text-slate-400"],[1,"p-3","bg-amber-900/40","border-l-4","border-amber-500","text-amber-200","text-sm","text-left","rtl:text-right"],[1,"absolute","inset-0","transition-transform","duration-300","ease-out"],[1,"absolute","top-0","left-1/2","-translate-x-1/2","h-1/2","w-10","text-teal-500"],[1,"text-red-500","font-semibold"],[1,"mt-4","px-4","py-2","bg-teal-600","text-white","rounded-lg","hover:bg-teal-700","transition-colors",3,"click"],["customClass","w-5 h-5"],[1,"text-lg","font-semibold","text-teal-400"],[1,"text-sm","text-slate-500"],[1,"font-semibold"],[1,"mt-2","text-amber-300","font-bold","hover:underline",3,"click"],[1,"text-2xl","font-bold","text-teal-400","font-amiri"],[1,"text-slate-400"],[1,"py-4"],[1,"px-6","py-2","bg-teal-600","text-white","rounded-lg","hover:bg-teal-700","transition-colors",3,"click"]],template:function(n,o){n&1&&k(0,vU,25,7,"div",0)(1,yU,9,3,"div",1),n&2&&P(o.isCalibrated()?0:1)},dependencies:[xe,ct,hd,md],encapsulation:2,changeDetection:0});var gd=ts;var ns=class ns{};ns.\u0275fac=function(n){return new(n||ns)},ns.\u0275cmp=x({type:ns,selectors:[["app-refresh-icon"]],decls:2,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","d","M 4 4 v 5 h 5 M 20 20 v -5 h -5 M 4 4 a 14.46 14.46 0 0 1 13.89 13.89 M 20 20 a 14.46 14.46 0 0 1 -13.89 -13.89"]],template:function(n,o){n&1&&(H(),A(0,"svg",0),z(1,"path",1),M())},encapsulation:2,changeDetection:0});var vd=ns;var os=class os{};os.\u0275fac=function(n){return new(n||os)},os.\u0275cmp=x({type:os,selectors:[["app-fajr-icon"]],decls:4,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-8","h-8"],["d","M 3 21 h 18"],["d","M 4 16 A 8 8 0 0 1 12 8 a 8 8 0 0 1 8 8 h -2 a 6 6 0 0 0 -6 -6 a 6 6 0 0 0 -6 6 H 4 z"],["d","M 12 2 v 6"]],template:function(n,o){n&1&&(H(),A(0,"svg",0),z(1,"path",1)(2,"path",2)(3,"path",3),M())},encapsulation:2,changeDetection:0});var yd=os;var rs=class rs{};rs.\u0275fac=function(n){return new(n||rs)},rs.\u0275cmp=x({type:rs,selectors:[["app-sunrise-icon"]],decls:7,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-8","h-8"],["d","M 12 10 V 2"],["d","M 5.2 8.2 l 1.4 1.4"],["d","M 2 18 h 20"],["d","M 18.8 8.2 l -1.4 1.4"],["d","M 20 14 H 4"],["d","M 12 18 a 4 4 0 0 0 -4 -4 h 8 a 4 4 0 0 0 -4 4 z"]],template:function(n,o){n&1&&(H(),A(0,"svg",0),z(1,"path",1)(2,"path",2)(3,"path",3)(4,"path",4)(5,"path",5)(6,"path",6),M())},encapsulation:2,changeDetection:0});var Cd=rs;var is=class is{};is.\u0275fac=function(n){return new(n||is)},is.\u0275cmp=x({type:is,selectors:[["app-dhuhr-icon"]],decls:10,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-8","h-8"],["cx","12","cy","12","r","5"],["d","M 12 1 v 2"],["d","M 12 21 v 2"],["d","M 4.22 4.22 l 1.42 1.42"],["d","M 18.36 18.36 l 1.42 1.42"],["d","M 1 12 h 2"],["d","M 21 12 h 2"],["d","M 4.22 19.78 l 1.42 -1.42"],["d","M 18.36 5.64 l 1.42 -1.42"]],template:function(n,o){n&1&&(H(),A(0,"svg",0),z(1,"circle",1)(2,"path",2)(3,"path",3)(4,"path",4)(5,"path",5)(6,"path",6)(7,"path",7)(8,"path",8)(9,"path",9),M())},encapsulation:2,changeDetection:0});var Ed=is;var ss=class ss{};ss.\u0275fac=function(n){return new(n||ss)},ss.\u0275cmp=x({type:ss,selectors:[["app-asr-icon"]],decls:8,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-8","h-8"],["cx","12","cy","12","r","5","opacity","0.8"],["d","M 12 1 v 2"],["d","M 12 21 v 2"],["d","M 4.22 4.22 l 1.42 1.42"],["d","M 1 12 h 2"],["d","M 4.22 19.78 l 1.42 -1.42"],["d","m 18 18 l -4 -4 h -4 l -4 4"]],template:function(n,o){n&1&&(H(),A(0,"svg",0),z(1,"circle",1)(2,"path",2)(3,"path",3)(4,"path",4)(5,"path",5)(6,"path",6)(7,"path",7),M())},encapsulation:2,changeDetection:0});var _d=ss;var as=class as{};as.\u0275fac=function(n){return new(n||as)},as.\u0275cmp=x({type:as,selectors:[["app-maghrib-icon"]],decls:7,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-8","h-8"],["d","M 12 10 V 2","opacity","0.6"],["d","M 5.2 8.2 l 1.4 1.4","opacity","0.6"],["d","M 2 18 h 20"],["d","M 18.8 8.2 l -1.4 1.4","opacity","0.6"],["d","M 20 14 H 4"],["d","M 12 14 a 4 4 0 1 0 -4 4 h 8 a 4 4 0 1 0 -4 -4 z"]],template:function(n,o){n&1&&(H(),A(0,"svg",0),z(1,"path",1)(2,"path",2)(3,"path",3)(4,"path",4)(5,"path",5)(6,"path",6),M())},encapsulation:2,changeDetection:0});var Td=as;var ls=class ls{};ls.\u0275fac=function(n){return new(n||ls)},ls.\u0275cmp=x({type:ls,selectors:[["app-isha-icon"]],decls:4,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-8","h-8"],["d","M 12 3 a 9 9 0 0 0 -9 9 a 9 9 0 1 1 11.45 -8.55 A 1 1 0 0 0 12 3 z"],["d","M 16 5 l 1 1"],["d","M 19 8 l 1 1"]],template:function(n,o){n&1&&(H(),A(0,"svg",0),z(1,"path",1)(2,"path",2)(3,"path",3),M())},encapsulation:2,changeDetection:0});var Sd=ls;var CU=(t,e)=>e.name+e.time;function EU(t,e){if(t&1&&(y(0,"div",5),b(1,"app-loading-spinner"),y(2,"p",7),C(3),v()()),t&2){let n=I();g(3),S(n.t("Acquiring location...")())}}function _U(t,e){if(t&1&&(y(0,"div",6),C(1),v()),t&2){let n=I();g(),re(" ",n.locationError()," ")}}function TU(t,e){if(t&1&&(y(0,"div",6),C(1),v()),t&2){let n=I(2);g(),re(" ",n.t("Error loading prayer times.")()," ")}}function SU(t,e){if(t&1&&(y(0,"div",1)(1,"span"),C(2),v(),y(3,"span",9),C(4),v()()),t&2){let n=e,o=I(3);g(2),re("",o.t("Location")(),":"),g(2),at("",n.latitude.toFixed(4),", ",n.longitude.toFixed(4))}}function IU(t,e){t&1&&b(0,"app-fajr-icon")}function DU(t,e){t&1&&b(0,"app-sunrise-icon")}function wU(t,e){t&1&&b(0,"app-dhuhr-icon")}function xU(t,e){t&1&&b(0,"app-asr-icon")}function bU(t,e){t&1&&b(0,"app-maghrib-icon")}function MU(t,e){t&1&&b(0,"app-isha-icon")}function AU(t,e){if(t&1&&(y(0,"span",16),C(1),v()),t&2){let n=I(4);g(),S(n.t("Next prayer")())}}function RU(t,e){if(t&1&&(y(0,"div",12)(1,"div",13)(2,"div",14),k(3,IU,1,0,"app-fajr-icon")(4,DU,1,0,"app-sunrise-icon")(5,wU,1,0,"app-dhuhr-icon")(6,xU,1,0,"app-asr-icon")(7,bU,1,0,"app-maghrib-icon")(8,MU,1,0,"app-isha-icon"),v(),y(9,"div")(10,"h3",15),C(11),v(),k(12,AU,2,1,"span",16),v()(),y(13,"div",17),C(14),v()()),t&2){let n,o,r,i=e.$implicit,a=I(3);Oe("bg-teal-900/30",i.name===((n=a.nextPrayer())==null?null:n.name)),g(3),P((o=i.icon)==="fajr"?3:o==="sunrise"?4:o==="dhuhr"?5:o==="asr"?6:o==="maghrib"?7:o==="isha"?8:-1),g(8),S(a.t(i.name)()),g(),P(i.name===((r=a.nextPrayer())==null?null:r.name)?12:-1),g(2),re(" ",i.time," ")}}function NU(t,e){if(t&1&&(y(0,"div",8)(1,"div",1)(2,"span"),C(3),v(),y(4,"span",9),C(5),v()(),k(6,SU,5,3,"div",1),v(),y(7,"div",10),Ce(8,RU,15,6,"div",11,CU),v()),t&2){let n,o=I(),r=I();g(3),re("",r.t("Today")(),":"),g(2),S(o.date),g(),P((n=r.userLocation())?6:-1,n),g(2),Ee(o.times)}}function kU(t,e){t&1&&k(0,TU,2,1,"div",6)(1,NU,10,3),t&2&&P(e.times.length?1:0)}function PU(t,e){if(t&1&&(y(0,"div",5),b(1,"app-loading-spinner"),y(2,"p",7),C(3),v()()),t&2){let n=I();g(3),S(n.t("Loading...")())}}var us=class us{constructor(){this.languageService=_(Ie);this.quranApiService=_(Qe);this.metaService=_(Pe);this.t=this.languageService.translate.bind(this.languageService);this.LOCATION_CACHE_KEY="prayer_times_user_location";this.userLocation=$(null);this.locationError=$(null);this.isLoadingLocation=$(!0);this.prayerTimesData=be(Ne(this.userLocation).pipe(He(e=>e!==null&&typeof e.latitude=="number"&&typeof e.longitude=="number"),ce(e=>this.quranApiService.getPrayerTimes(e.latitude,e.longitude))),{initialValue:null});this.nextPrayer=K(()=>{let e=this.prayerTimesData()?.times;if(!e)return null;let n=new Date,o=n.getHours()*60+n.getMinutes();for(let r of e){if(r.name==="Sunrise"||!r.time)continue;let[i,a]=r.time.split(":").map(Number);if(i*60+a>o)return r}return e.find(r=>r.name==="Fajr")||null});me(()=>{this.metaService.updateTags({title:this.t("Prayer Times")(),description:this.t("Daily prayer times for your location")()})})}ngOnInit(){this.loadCachedLocation(),this.getLocation(!1)}refresh(){this.getLocation(!0)}getLocation(e){e&&this.isLoadingLocation.set(!0),this.locationError.set(null),"geolocation"in navigator?navigator.geolocation.getCurrentPosition(n=>{let o={latitude:n.coords.latitude,longitude:n.coords.longitude};this.userLocation.set(o),this.cacheLocation(o),this.isLoadingLocation.set(!1)},n=>{console.error(n),this.locationError.set(this.t("Could not get location. Please enable location services.")()),this.isLoadingLocation.set(!1)}):(this.locationError.set(this.t("Could not get location. Please enable location services.")()),this.isLoadingLocation.set(!1))}loadCachedLocation(){try{if(typeof localStorage<"u"){let e=localStorage.getItem(this.LOCATION_CACHE_KEY);if(e){let n=JSON.parse(e);n&&typeof n.latitude=="number"&&typeof n.longitude=="number"&&(this.userLocation.set(n),this.isLoadingLocation.set(!1))}}}catch(e){console.error("Failed to load cached location",e),typeof localStorage<"u"&&localStorage.removeItem(this.LOCATION_CACHE_KEY)}}cacheLocation(e){try{typeof localStorage<"u"&&localStorage.setItem(this.LOCATION_CACHE_KEY,JSON.stringify(e))}catch(n){console.error("Failed to cache location",n)}}};us.\u0275fac=function(n){return new(n||us)},us.\u0275cmp=x({type:us,selectors:[["app-prayer-times"]],decls:15,vars:4,consts:[[1,"space-y-6","max-w-2xl","mx-auto"],[1,"flex","justify-between","items-center"],[1,"text-3xl","font-bold","text-teal-400","font-amiri"],[1,"mt-1","text-slate-400"],[1,"flex","items-center","gap-2","px-4","py-2","bg-slate-800","border","border-slate-600","text-slate-300","rounded-lg","hover:bg-slate-700","transition-colors",3,"click"],[1,"flex","flex-col","items-center","justify-center","gap-4","text-center","p-8","bg-slate-800/50","border","border-slate-700","rounded-lg","shadow-sm"],[1,"p-4","bg-red-900/40","text-red-300","rounded-lg","shadow-sm","text-center"],[1,"text-slate-400"],[1,"p-4","bg-slate-800/50","border","border-slate-700","rounded-lg","shadow-sm","space-y-2","text-sm","text-slate-400"],[1,"font-semibold","text-slate-200"],[1,"bg-slate-800/50","border","border-slate-700","rounded-xl","shadow-sm","overflow-hidden"],[1,"flex","items-center","justify-between","p-4","border-b","border-slate-700","last:border-b-0","transition-colors",3,"bg-teal-900/30"],[1,"flex","items-center","justify-between","p-4","border-b","border-slate-700","last:border-b-0","transition-colors"],[1,"flex","items-center","gap-4"],[1,"text-teal-500"],[1,"text-lg","font-semibold","text-slate-100"],[1,"text-xs","font-semibold","text-teal-300","bg-teal-800/50","px-2","py-0.5","rounded-full"],[1,"text-xl","font-bold","text-slate-100","font-mono","tracking-wider"]],template:function(n,o){if(n&1&&(y(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),C(4),v(),y(5,"p",3),C(6),v()(),y(7,"button",4),j("click",function(){return o.refresh()}),b(8,"app-refresh-icon"),y(9,"span"),C(10),v()()(),k(11,EU,4,1,"div",5)(12,_U,2,1,"div",6)(13,kU,2,1)(14,PU,4,1,"div",5),v()),n&2){let r;g(4),S(o.t("Prayer Times")()),g(2),S(o.t("Daily prayer times for your location")()),g(4),S(o.t("Refresh")()),g(),P(o.isLoadingLocation()&&!o.userLocation()?11:o.locationError()?12:(r=o.prayerTimesData())?13:14,r)}},dependencies:[xe,ct,vd,yd,Cd,Ed,_d,Td,Sd],encapsulation:2,changeDetection:0});var Id=us;var FU=(t,e)=>e.id;function LU(t,e){t&1&&(y(0,"div",1),b(1,"app-loading-spinner"),v())}function OU(t,e){t&1&&b(0,"app-sound-wave-icon",14)}function VU(t,e){t&1&&b(0,"app-pause-icon")}function UU(t,e){t&1&&b(0,"app-play-circle-icon")}function BU(t,e){if(t&1){let n=_e();y(0,"button",17),j("click",function(){Z(n);let r=I().$implicit,i=Bt(0),a=I(3);return X(i?a.pause():a.playSurah(r))}),k(1,VU,1,0,"app-pause-icon")(2,UU,1,0,"app-play-circle-icon"),v()}if(t&2){I();let n=Bt(0),o=I(3);F("title",o.t("Listen")()),g(),P(n?1:2)}}function HU(t,e){if(t&1&&(y(0,"span",16),C(1),v()),t&2){let n=I(4);g(),S(n.t("Not available")())}}function $U(t,e){if(t&1&&(Ut(0),y(1,"div",8)(2,"div",9)(3,"span",10),C(4),v(),y(5,"div",11)(6,"h3",12),C(7),v(),y(8,"p",13),C(9),v()(),k(10,OU,1,0,"app-sound-wave-icon",14),v(),k(11,BU,3,2,"button",15)(12,HU,2,1,"span",16),v()),t&2){let n,o=e.$implicit,r=I(2),i=I(),a=i.getSurahUrl(r,o.id),u=tn(((n=i.currentTrack())==null?null:n.url)===a&&i.isPlaying());g(),Oe("bg-teal-900/40",u)("border-teal-500",u)("border-slate-700",!u),g(3),S(o.id),g(3),S(o.name),g(2),S(o.englishName),g(),P(u?10:-1),g(),P(a?11:12)}}function qU(t,e){if(t&1&&(y(0,"div",6),Ce(1,$U,13,12,"div",7,FU),v()),t&2){let n=I(2);g(),Ee(n.allSurahs())}}function GU(t,e){if(t&1&&(y(0,"div",0)(1,"div",2)(2,"h1",3),C(3),v(),y(4,"p",4),C(5),v()(),y(6,"h2",5),C(7),v(),k(8,LU,2,0,"div",1)(9,qU,3,0,"div",6),v()),t&2){let n=e,o=I();g(3),S(n.name),g(2),S(n.rewaya),g(2),at("",o.t("All Surahs by")()," ",n.name),g(),P(o.allSurahs().length?9:8)}}function zU(t,e){t&1&&(y(0,"div",1),b(1,"app-loading-spinner"),v())}var cs=class cs{constructor(){this.route=_(Nt);this.quranApiService=_(Qe);this.metaService=_(Pe);this.languageService=_(Ie);this.playerService=_($t);this.t=this.languageService.translate.bind(this.languageService);this.reciterId$=this.route.paramMap.pipe(G(e=>Number(e.get("id"))));this.lang$=Ne(this.languageService.language);this.data$=yt([this.reciterId$,this.lang$]).pipe(ce(([e,n])=>yt([this.quranApiService.getMp3QuranReciterById(e,n),this.quranApiService.getSurahs(n)])));this.data=be(this.data$,{initialValue:[void 0,[]]});this.reciter=K(()=>this.data()[0]);this.allSurahs=K(()=>this.data()[1]);this.currentTrack=this.playerService.currentTrack;this.isPlaying=this.playerService.isPlaying;me(()=>{let e=this.reciter(),n=this.languageService.language();if(e){let o=n==="ar"?`\u0627\u0633\u062A\u0645\u0639 \u0625\u0644\u0649 \u062A\u0644\u0627\u0648\u0627\u062A \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064A\u0645 \u0628\u0635\u0648\u062A \u0627\u0644\u0642\u0627\u0631\u0626 ${e.name} \u0628\u0631\u0648\u0627\u064A\u0629 ${e.rewaya}.`:`Listen to recitations of the Holy Quran by ${e.name} (narration: ${e.rewaya}).`;this.metaService.updateTags({title:e.name,description:o,imageUrl:`https://picsum.photos/seed/reciter-${e.id}/1200/630`})}})}getSurahUrl(e,n){let o=String(n),r=e.moshaf.find(a=>a.surah_list.split(",").includes(o));if(!r)return null;let i=o.padStart(3,"0");return`${r.server}/${i}.mp3`}playSurah(e){let n=this.reciter();if(!n)return;let o=this.getSurahUrl(n,e.id);if(!o)return;let r={title:e.name,subtitle:n.name,url:o,surahId:e.id};this.playerService.play(r)}pause(){this.playerService.pause()}};cs.\u0275fac=function(n){return new(n||cs)},cs.\u0275cmp=x({type:cs,selectors:[["app-reciter-detail"]],decls:2,vars:1,consts:[[1,"space-y-6"],[1,"flex","justify-center","items-center","py-20"],[1,"p-6","bg-teal-900/20","border","border-teal-800/50","rounded-xl","text-center"],[1,"text-3xl","font-bold","text-teal-400"],[1,"text-slate-400","mt-1"],[1,"text-2xl","font-semibold","text-slate-200"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4"],[1,"flex","items-center","justify-between","p-4","bg-slate-800/50","border","border-slate-700","rounded-lg","shadow-sm","transition-all","duration-300","border-l-4",3,"bg-teal-900/40","border-teal-500","border-slate-700"],[1,"flex","items-center","justify-between","p-4","bg-slate-800/50","border","border-slate-700","rounded-lg","shadow-sm","transition-all","duration-300","border-l-4"],[1,"flex","items-center","space-x-4","rtl:space-x-reverse","min-w-0"],[1,"flex","items-center","justify-center","w-10","h-10","bg-slate-700","rounded-md","text-teal-400","font-semibold","flex-shrink-0"],[1,"min-w-0"],[1,"text-lg","font-semibold","text-slate-100","truncate"],[1,"text-sm","text-slate-400","truncate"],[1,"text-teal-400","ml-3","rtl:ml-0","rtl:mr-3"],[1,"flex-shrink-0","w-10","h-10","rounded-full","text-teal-400","hover:bg-slate-700","flex","items-center","justify-center","transition-colors",3,"title"],[1,"text-xs","text-slate-500","px-2"],[1,"flex-shrink-0","w-10","h-10","rounded-full","text-teal-400","hover:bg-slate-700","flex","items-center","justify-center","transition-colors",3,"click","title"]],template:function(n,o){if(n&1&&k(0,GU,10,5,"div",0)(1,zU,2,0,"div",1),n&2){let r;P((r=o.reciter())?0:1,r)}},dependencies:[xe,ct,Ei,qt,_n],encapsulation:2,changeDetection:0});var Dd=cs;var WU=(t,e)=>e.name;function jU(t,e){if(t&1&&(A(0,"li"),C(1),M()),t&2){let n=e.$implicit,o=I();g(),S(o.t(n)())}}function JU(t,e){if(t&1&&(A(0,"div",8)(1,"a",13),C(2),M(),A(3,"p",14),C(4),M()()),t&2){let n=e.$implicit,o=I();g(),Vu("href",n.url,Br),g(),re(" ",n.name," "),g(2),S(o.t(n.descriptionKey)())}}var ds=class ds{constructor(){this.languageService=_(Ie);this.metaService=_(Pe);this.t=this.languageService.translate.bind(this.languageService);this.featureKeys=["feature_0","feature_1","feature_2","feature_3","feature_4","feature_5","feature_6","feature_7","feature_8"];this.dataSources=[{name:"Quran.com API (v4)",url:"https://quran.com/docs/api/v4",descriptionKey:"quran_com_desc"},{name:"MP3Quran.net API",url:"https://www.mp3quran.net/api/",descriptionKey:"mp3quran_desc"},{name:"EveryAyah.com",url:"https://everyayah.com/",descriptionKey:"everyayah_desc"},{name:"Aladhan.com API",url:"https://aladhan.com/prayer-times-api",descriptionKey:"aladhan_desc"},{name:"Google Gemini API",url:"https://ai.google.dev/",descriptionKey:"gemini_desc"}];me(()=>{this.metaService.updateTags({title:this.t("About")(),description:this.t("about_page_subtitle")(),imageUrl:"https://picsum.photos/seed/quran-about/1200/630"})})}};ds.\u0275fac=function(n){return new(n||ds)},ds.\u0275cmp=x({type:ds,selectors:[["app-about"]],decls:34,vars:11,consts:[[1,"space-y-12","max-w-4xl","mx-auto","text-slate-300"],[1,"text-center","border-b","border-slate-700","pb-8"],[1,"text-4xl","font-bold","text-teal-400","font-amiri"],[1,"mt-4","text-lg","text-slate-400"],[1,"space-y-4"],[1,"text-3xl","font-semibold","text-white","font-amiri"],[1,"leading-relaxed"],[1,"list-disc","list-inside","space-y-2","pl-4","marker:text-teal-400"],[1,"p-4","bg-slate-800/50","border","border-slate-700","rounded-lg"],[1,"text-center","pt-8"],[1,"text-2xl","font-semibold","text-white","font-amiri"],[1,"mt-2","text-lg","text-slate-400"],[1,"mt-1","text-slate-500"],["target","_blank","rel","noopener noreferrer",1,"text-lg","font-semibold","text-teal-400","hover:underline",3,"href"],[1,"mt-1","text-slate-400"]],template:function(n,o){n&1&&(A(0,"div",0)(1,"div",1)(2,"h1",2),C(3),M(),A(4,"p",3),C(5),M()(),A(6,"section",4)(7,"h2",5),C(8),M(),A(9,"p",6),C(10),M(),A(11,"p",6),C(12),M()(),A(13,"section",4)(14,"h2",5),C(15),M(),A(16,"ul",7),Ce(17,jU,2,1,"li",null,ta),M()(),A(19,"section",4)(20,"h2",5),C(21),M(),A(22,"p"),C(23),M(),A(24,"div",4),Ce(25,JU,5,3,"div",8,WU),M()(),A(27,"section",9)(28,"h2",10),C(29),M(),A(30,"p",11),C(31,"Zakariae Lahbabi"),M(),A(32,"p",12),C(33),M()()()),n&2&&(g(3),at("",o.t("About")()," ",o.t("Quran Kareem")()),g(2),S(o.t("about_page_subtitle")()),g(3),S(o.t("about_section_title")()),g(2),S(o.t("about_section_p1")()),g(2),S(o.t("about_section_p2")()),g(3),S(o.t("Key Features")()),g(2),Ee(o.featureKeys),g(4),S(o.t("Data Sources")()),g(2),S(o.t("data_sources_intro")()),g(2),Ee(o.dataSources),g(4),S(o.t("Developed By")()),g(4),S(o.t("developer_motto")()))},dependencies:[xe],encapsulation:2,changeDetection:0});var wd=ds;var H_=[{path:"",component:Oc,pathMatch:"full"},{path:"surahs",component:Vc},{path:"surah/:id",component:dd},{path:"reciters",component:Uc},{path:"reciter/:id",component:Dd},{path:"radio",component:Bc},{path:"favorites",component:fd},{path:"bookmarks",component:pd},{path:"qibla",component:gd},{path:"prayer-times",component:Id},{path:"about",component:wd},{path:"**",redirectTo:""}];Fh(Nc,{providers:[Eh(),Vh(),um(H_,cm())]}).catch(t=>console.error(t));
